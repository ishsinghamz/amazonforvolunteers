import { __assign } from "tslib";
import React, { useMemo } from 'react';
import mergeRefs from 'react-merge-refs';
import clsx from 'clsx';
import ButtonTrigger from '../../internal/components/button-trigger';
import styles from './styles.css.js';
import Option from '../../internal/components/option';
import { generateUniqueId } from '../../internal/hooks/use-unique-id';
var Trigger = React.forwardRef(function (_a, ref) {
    var ariaLabelledby = _a.ariaLabelledby, ariaDescribedby = _a.ariaDescribedby, controlId = _a.controlId, invalid = _a.invalid, triggerProps = _a.triggerProps, selectedOption = _a.selectedOption, triggerVariant = _a.triggerVariant, inFilteringToken = _a.inFilteringToken, isOpen = _a.isOpen, placeholder = _a.placeholder, disabled = _a.disabled, ariaLabel = _a.ariaLabel;
    var id = useMemo(function () { return controlId !== null && controlId !== void 0 ? controlId : generateUniqueId(); }, [controlId]);
    var triggerContent = null;
    if (!selectedOption) {
        triggerContent = (React.createElement("span", { "aria-disabled": "true", className: clsx(styles.placeholder, styles.trigger), id: triggerProps.ariaLabelledby }, placeholder));
    }
    else if (triggerVariant === 'option') {
        triggerContent = (React.createElement(Option, { id: triggerProps.ariaLabelledby, option: __assign(__assign({}, selectedOption), { disabled: disabled }), triggerVariant: true }));
    }
    else {
        triggerContent = (React.createElement("span", { id: triggerProps.ariaLabelledby, className: styles.trigger }, selectedOption.label || selectedOption.value));
    }
    return (React.createElement(ButtonTrigger, __assign({}, triggerProps, { id: id, ref: mergeRefs([triggerProps.ref, ref]), pressed: isOpen, disabled: disabled, invalid: invalid, inFilteringToken: inFilteringToken, ariaLabel: ariaLabel, ariaDescribedby: ariaDescribedby, ariaLabelledby: [ariaLabelledby, triggerProps.ariaLabelledby].filter(function (label) { return !!label; }).join(' ') }), triggerContent));
});
export default Trigger;
