import { useCallback, useEffect } from 'react';
import { fireNonCancelableEvent } from '../../internal/events';
import { useControllable } from '../../internal/hooks/use-controllable';
export default function useFilterProps(series, controlledVisibleSeries, controlledOnVisibleChange) {
    var _a = useControllable(controlledVisibleSeries, controlledOnVisibleChange, series, {
        componentName: 'AreaChart',
        controlledProp: 'visibleSeries',
        changeHandler: 'onFilterChange'
    }), _b = _a[0], visibleSeries = _b === void 0 ? [] : _b, setVisibleSeriesState = _a[1];
    var setVisibleSeries = useCallback(function (selectedSeries) {
        setVisibleSeriesState(selectedSeries);
        fireNonCancelableEvent(controlledOnVisibleChange, { visibleSeries: selectedSeries });
    }, [controlledOnVisibleChange, setVisibleSeriesState]);
    useEffect(function () {
        var newVisibleSeries = visibleSeries.filter(function (s) { return series.indexOf(s) !== -1; });
        if (newVisibleSeries.length !== visibleSeries.length) {
            setVisibleSeries(newVisibleSeries);
        }
    }, [series, visibleSeries, setVisibleSeries]);
    return [visibleSeries, setVisibleSeries];
}
