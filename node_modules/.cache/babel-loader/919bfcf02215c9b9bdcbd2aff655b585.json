{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { isDevelopment } from '../internal/is-development';\nimport { getBaseProps } from '../internal/base-component';\nimport InternalBox from '../box/internal';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport AreaChartFilter from './elements/area-chart-filter';\nimport AreaChartLegend from './elements/area-chart-legend';\nimport InternalSpaceBetween from '../space-between/internal';\nimport ChartContainer from './chart-container';\nimport cartesianStyles from '../internal/components/cartesian-chart/styles.css.js';\nimport styles from './styles.css.js';\nimport useChartModel from './model/use-chart-model';\nimport useFilterProps from './model/use-filter-props';\nimport useHighlightProps from './model/use-highlight-props';\nimport { isSeriesValid } from './model/utils';\nimport { warnOnce } from '../internal/logging';\nimport { nodeContains } from '../internal/utils/dom';\nimport mergeRefs from 'react-merge-refs';\nexport default function InternalAreaChart(_a) {\n  var _b, _c;\n\n  var height = _a.height,\n      xScaleType = _a.xScaleType,\n      yScaleType = _a.yScaleType,\n      xDomain = _a.xDomain,\n      yDomain = _a.yDomain,\n      controlledHighlightedSeries = _a.highlightedSeries,\n      controlledVisibleSeries = _a.visibleSeries,\n      externalSeries = _a.series,\n      controlledOnVisibleChange = _a.onFilterChange,\n      controlledOnHighlightChange = _a.onHighlightChange,\n      i18nStrings = _a.i18nStrings,\n      ariaLabel = _a.ariaLabel,\n      ariaLabelledby = _a.ariaLabelledby,\n      ariaDescription = _a.ariaDescription,\n      xTitle = _a.xTitle,\n      yTitle = _a.yTitle,\n      hideFilter = _a.hideFilter,\n      additionalFilters = _a.additionalFilters,\n      hideLegend = _a.hideLegend,\n      legendTitle = _a.legendTitle,\n      statusType = _a.statusType,\n      detailPopoverSize = _a.detailPopoverSize,\n      empty = _a.empty,\n      noMatch = _a.noMatch,\n      errorText = _a.errorText,\n      loadingText = _a.loadingText,\n      recoveryText = _a.recoveryText,\n      onRecoveryClick = _a.onRecoveryClick,\n      _d = _a.__internalRootRef,\n      __internalRootRef = _d === void 0 ? null : _d,\n      props = __rest(_a, [\"height\", \"xScaleType\", \"yScaleType\", \"xDomain\", \"yDomain\", \"highlightedSeries\", \"visibleSeries\", \"series\", \"onFilterChange\", \"onHighlightChange\", \"i18nStrings\", \"ariaLabel\", \"ariaLabelledby\", \"ariaDescription\", \"xTitle\", \"yTitle\", \"hideFilter\", \"additionalFilters\", \"hideLegend\", \"legendTitle\", \"statusType\", \"detailPopoverSize\", \"empty\", \"noMatch\", \"errorText\", \"loadingText\", \"recoveryText\", \"onRecoveryClick\", \"__internalRootRef\"]);\n\n  var baseProps = getBaseProps(props);\n  var containerRef = useRef(null);\n\n  if (isDevelopment) {\n    useEffect(function () {\n      if (!isSeriesValid(externalSeries)) {\n        warnOnce('AreaChart', \"The `series` property violates the component's constraints: all `area` \" + 'series must have `data` arrays of the same length and with the same x-values.');\n      }\n    }, [externalSeries]);\n  }\n\n  var _e = useState(0),\n      width = _e[0],\n      setWidth = _e[1];\n\n  var _f = useFilterProps(externalSeries, controlledVisibleSeries, controlledOnVisibleChange),\n      visibleSeries = _f[0],\n      setVisibleSeries = _f[1];\n\n  var _g = useHighlightProps(externalSeries, controlledHighlightedSeries, controlledOnHighlightChange),\n      highlightedSeries = _g[0],\n      setHighlightedSeries = _g[1];\n\n  var model = useChartModel({\n    externalSeries: externalSeries,\n    visibleSeries: visibleSeries,\n    setVisibleSeries: setVisibleSeries,\n    highlightedSeries: highlightedSeries,\n    setHighlightedSeries: setHighlightedSeries,\n    xDomain: xDomain,\n    yDomain: yDomain,\n    xScaleType: xScaleType,\n    yScaleType: yScaleType,\n    height: height,\n    width: width\n  });\n\n  var _h = getChartStatus({\n    externalData: externalSeries,\n    visibleData: visibleSeries,\n    statusType: statusType\n  }),\n      isEmpty = _h.isEmpty,\n      isNoMatch = _h.isNoMatch,\n      showChart = _h.showChart;\n\n  var showFilters = statusType === 'finished' && (!isEmpty || isNoMatch);\n  var showLegend = !hideLegend && !isEmpty && statusType === 'finished';\n  var reserveLegendSpace = !showChart && !hideLegend;\n  var reserveFilterSpace = !showChart && !isNoMatch && (!hideFilter || additionalFilters);\n\n  var onBlur = function (event) {\n    if (event.relatedTarget && !nodeContains(containerRef.current, event.relatedTarget)) {\n      model.handlers.onContainerBlur();\n    }\n  };\n\n  return React.createElement(\"div\", __assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.root),\n    ref: mergeRefs([containerRef, __internalRootRef]),\n    onBlur: onBlur\n  }), showFilters && React.createElement(InternalBox, {\n    className: cartesianStyles['filter-container'],\n    margin: {\n      bottom: 'l'\n    }\n  }, React.createElement(InternalSpaceBetween, {\n    size: \"l\",\n    direction: \"horizontal\",\n    className: clsx((_b = {}, _b[styles['has-default-filter']] = !hideFilter, _b))\n  }, !hideFilter && React.createElement(AreaChartFilter, {\n    model: model,\n    filterLabel: i18nStrings.filterLabel,\n    filterPlaceholder: i18nStrings.filterPlaceholder,\n    filterSelectedAriaLabel: i18nStrings.filterSelectedAriaLabel\n  }), additionalFilters)), React.createElement(\"div\", {\n    className: clsx(styles.content, (_c = {}, _c[styles['content--reserve-filter']] = reserveFilterSpace, _c[styles['content--reserve-legend']] = reserveLegendSpace, _c)),\n    style: {\n      minHeight: height\n    }\n  }, React.createElement(ChartStatusContainer, {\n    isEmpty: isEmpty,\n    isNoMatch: isNoMatch,\n    showChart: showChart,\n    statusType: statusType,\n    empty: empty,\n    noMatch: noMatch,\n    loadingText: loadingText,\n    errorText: errorText,\n    recoveryText: recoveryText,\n    onRecoveryClick: onRecoveryClick\n  }), showChart && React.createElement(ChartContainer, {\n    model: model,\n    autoWidth: setWidth,\n    detailPopoverSize: detailPopoverSize,\n    xTitle: xTitle,\n    yTitle: yTitle,\n    ariaLabel: ariaLabel,\n    ariaLabelledby: ariaLabelledby,\n    ariaDescription: ariaDescription,\n    i18nStrings: i18nStrings\n  })), showLegend && React.createElement(InternalBox, {\n    margin: {\n      top: 'm'\n    }\n  }, React.createElement(AreaChartLegend, {\n    model: model,\n    legendTitle: legendTitle,\n    ariaLabel: i18nStrings.legendAriaLabel\n  })));\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/area-chart/internal.js"],"names":["__assign","__rest","React","useEffect","useRef","useState","clsx","isDevelopment","getBaseProps","InternalBox","ChartStatusContainer","getChartStatus","AreaChartFilter","AreaChartLegend","InternalSpaceBetween","ChartContainer","cartesianStyles","styles","useChartModel","useFilterProps","useHighlightProps","isSeriesValid","warnOnce","nodeContains","mergeRefs","InternalAreaChart","_a","_b","_c","height","xScaleType","yScaleType","xDomain","yDomain","controlledHighlightedSeries","highlightedSeries","controlledVisibleSeries","visibleSeries","externalSeries","series","controlledOnVisibleChange","onFilterChange","controlledOnHighlightChange","onHighlightChange","i18nStrings","ariaLabel","ariaLabelledby","ariaDescription","xTitle","yTitle","hideFilter","additionalFilters","hideLegend","legendTitle","statusType","detailPopoverSize","empty","noMatch","errorText","loadingText","recoveryText","onRecoveryClick","_d","__internalRootRef","props","baseProps","containerRef","_e","width","setWidth","_f","setVisibleSeries","_g","setHighlightedSeries","model","_h","externalData","visibleData","isEmpty","isNoMatch","showChart","showFilters","showLegend","reserveLegendSpace","reserveFilterSpace","onBlur","event","relatedTarget","current","handlers","onContainerBlur","createElement","className","root","ref","margin","bottom","size","direction","filterLabel","filterPlaceholder","filterSelectedAriaLabel","content","style","minHeight","autoWidth","top","legendAriaLabel"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,OAAjC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,aAAT,QAA8B,4BAA9B;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,OAAOC,oBAAP,IAA+BC,cAA/B,QAAqD,+CAArD;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,oBAAP,MAAiC,2BAAjC;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,eAAP,MAA4B,sDAA5B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,aAAP,MAA0B,yBAA1B;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,iBAAP,MAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,eAA9B;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,eAAe,SAASC,iBAAT,CAA2BC,EAA3B,EAA+B;AAC1C,MAAIC,EAAJ,EAAQC,EAAR;;AACA,MAAIC,MAAM,GAAGH,EAAE,CAACG,MAAhB;AAAA,MAAwBC,UAAU,GAAGJ,EAAE,CAACI,UAAxC;AAAA,MAAoDC,UAAU,GAAGL,EAAE,CAACK,UAApE;AAAA,MAAgFC,OAAO,GAAGN,EAAE,CAACM,OAA7F;AAAA,MAAsGC,OAAO,GAAGP,EAAE,CAACO,OAAnH;AAAA,MAA4HC,2BAA2B,GAAGR,EAAE,CAACS,iBAA7J;AAAA,MAAgLC,uBAAuB,GAAGV,EAAE,CAACW,aAA7M;AAAA,MAA4NC,cAAc,GAAGZ,EAAE,CAACa,MAAhP;AAAA,MAAwPC,yBAAyB,GAAGd,EAAE,CAACe,cAAvR;AAAA,MAAuSC,2BAA2B,GAAGhB,EAAE,CAACiB,iBAAxU;AAAA,MAA2VC,WAAW,GAAGlB,EAAE,CAACkB,WAA5W;AAAA,MAAyXC,SAAS,GAAGnB,EAAE,CAACmB,SAAxY;AAAA,MAAmZC,cAAc,GAAGpB,EAAE,CAACoB,cAAva;AAAA,MAAubC,eAAe,GAAGrB,EAAE,CAACqB,eAA5c;AAAA,MAA6dC,MAAM,GAAGtB,EAAE,CAACsB,MAAze;AAAA,MAAifC,MAAM,GAAGvB,EAAE,CAACuB,MAA7f;AAAA,MAAqgBC,UAAU,GAAGxB,EAAE,CAACwB,UAArhB;AAAA,MAAiiBC,iBAAiB,GAAGzB,EAAE,CAACyB,iBAAxjB;AAAA,MAA2kBC,UAAU,GAAG1B,EAAE,CAAC0B,UAA3lB;AAAA,MAAumBC,WAAW,GAAG3B,EAAE,CAAC2B,WAAxnB;AAAA,MAAqoBC,UAAU,GAAG5B,EAAE,CAAC4B,UAArpB;AAAA,MAAiqBC,iBAAiB,GAAG7B,EAAE,CAAC6B,iBAAxrB;AAAA,MAA2sBC,KAAK,GAAG9B,EAAE,CAAC8B,KAAttB;AAAA,MAA6tBC,OAAO,GAAG/B,EAAE,CAAC+B,OAA1uB;AAAA,MAAmvBC,SAAS,GAAGhC,EAAE,CAACgC,SAAlwB;AAAA,MAA6wBC,WAAW,GAAGjC,EAAE,CAACiC,WAA9xB;AAAA,MAA2yBC,YAAY,GAAGlC,EAAE,CAACkC,YAA7zB;AAAA,MAA20BC,eAAe,GAAGnC,EAAE,CAACmC,eAAh2B;AAAA,MAAi3BC,EAAE,GAAGpC,EAAE,CAACqC,iBAAz3B;AAAA,MAA44BA,iBAAiB,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,IAAhB,GAAuBA,EAAv7B;AAAA,MAA27BE,KAAK,GAAG/D,MAAM,CAACyB,EAAD,EAAK,CAAC,QAAD,EAAW,YAAX,EAAyB,YAAzB,EAAuC,SAAvC,EAAkD,SAAlD,EAA6D,mBAA7D,EAAkF,eAAlF,EAAmG,QAAnG,EAA6G,gBAA7G,EAA+H,mBAA/H,EAAoJ,aAApJ,EAAmK,WAAnK,EAAgL,gBAAhL,EAAkM,iBAAlM,EAAqN,QAArN,EAA+N,QAA/N,EAAyO,YAAzO,EAAuP,mBAAvP,EAA4Q,YAA5Q,EAA0R,aAA1R,EAAyS,YAAzS,EAAuT,mBAAvT,EAA4U,OAA5U,EAAqV,SAArV,EAAgW,WAAhW,EAA6W,aAA7W,EAA4X,cAA5X,EAA4Y,iBAA5Y,EAA+Z,mBAA/Z,CAAL,CAAz8B;;AACA,MAAIuC,SAAS,GAAGzD,YAAY,CAACwD,KAAD,CAA5B;AACA,MAAIE,YAAY,GAAG9D,MAAM,CAAC,IAAD,CAAzB;;AACA,MAAIG,aAAJ,EAAmB;AACfJ,IAAAA,SAAS,CAAC,YAAY;AAClB,UAAI,CAACkB,aAAa,CAACiB,cAAD,CAAlB,EAAoC;AAChChB,QAAAA,QAAQ,CAAC,WAAD,EAAc,4EAClB,+EADI,CAAR;AAEH;AACJ,KALQ,EAKN,CAACgB,cAAD,CALM,CAAT;AAMH;;AACD,MAAI6B,EAAE,GAAG9D,QAAQ,CAAC,CAAD,CAAjB;AAAA,MAAsB+D,KAAK,GAAGD,EAAE,CAAC,CAAD,CAAhC;AAAA,MAAqCE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAAlD;;AACA,MAAIG,EAAE,GAAGnD,cAAc,CAACmB,cAAD,EAAiBF,uBAAjB,EAA0CI,yBAA1C,CAAvB;AAAA,MAA6FH,aAAa,GAAGiC,EAAE,CAAC,CAAD,CAA/G;AAAA,MAAoHC,gBAAgB,GAAGD,EAAE,CAAC,CAAD,CAAzI;;AACA,MAAIE,EAAE,GAAGpD,iBAAiB,CAACkB,cAAD,EAAiBJ,2BAAjB,EAA8CQ,2BAA9C,CAA1B;AAAA,MAAsGP,iBAAiB,GAAGqC,EAAE,CAAC,CAAD,CAA5H;AAAA,MAAiIC,oBAAoB,GAAGD,EAAE,CAAC,CAAD,CAA1J;;AACA,MAAIE,KAAK,GAAGxD,aAAa,CAAC;AACtBoB,IAAAA,cAAc,EAAEA,cADM;AAEtBD,IAAAA,aAAa,EAAEA,aAFO;AAGtBkC,IAAAA,gBAAgB,EAAEA,gBAHI;AAItBpC,IAAAA,iBAAiB,EAAEA,iBAJG;AAKtBsC,IAAAA,oBAAoB,EAAEA,oBALA;AAMtBzC,IAAAA,OAAO,EAAEA,OANa;AAOtBC,IAAAA,OAAO,EAAEA,OAPa;AAQtBH,IAAAA,UAAU,EAAEA,UARU;AAStBC,IAAAA,UAAU,EAAEA,UATU;AAUtBF,IAAAA,MAAM,EAAEA,MAVc;AAWtBuC,IAAAA,KAAK,EAAEA;AAXe,GAAD,CAAzB;;AAaA,MAAIO,EAAE,GAAGhE,cAAc,CAAC;AACpBiE,IAAAA,YAAY,EAAEtC,cADM;AAEpBuC,IAAAA,WAAW,EAAExC,aAFO;AAGpBiB,IAAAA,UAAU,EAAEA;AAHQ,GAAD,CAAvB;AAAA,MAIIwB,OAAO,GAAGH,EAAE,CAACG,OAJjB;AAAA,MAI0BC,SAAS,GAAGJ,EAAE,CAACI,SAJzC;AAAA,MAIoDC,SAAS,GAAGL,EAAE,CAACK,SAJnE;;AAKA,MAAIC,WAAW,GAAG3B,UAAU,KAAK,UAAf,KAA8B,CAACwB,OAAD,IAAYC,SAA1C,CAAlB;AACA,MAAIG,UAAU,GAAG,CAAC9B,UAAD,IAAe,CAAC0B,OAAhB,IAA2BxB,UAAU,KAAK,UAA3D;AACA,MAAI6B,kBAAkB,GAAG,CAACH,SAAD,IAAc,CAAC5B,UAAxC;AACA,MAAIgC,kBAAkB,GAAG,CAACJ,SAAD,IAAc,CAACD,SAAf,KAA6B,CAAC7B,UAAD,IAAeC,iBAA5C,CAAzB;;AACA,MAAIkC,MAAM,GAAG,UAAUC,KAAV,EAAiB;AAC1B,QAAIA,KAAK,CAACC,aAAN,IAAuB,CAAChE,YAAY,CAAC2C,YAAY,CAACsB,OAAd,EAAuBF,KAAK,CAACC,aAA7B,CAAxC,EAAqF;AACjFb,MAAAA,KAAK,CAACe,QAAN,CAAeC,eAAf;AACH;AACJ,GAJD;;AAKA,SAAQxF,KAAK,CAACyF,aAAN,CAAoB,KAApB,EAA2B3F,QAAQ,CAAC,EAAD,EAAKiE,SAAL,EAAgB;AAAE2B,IAAAA,SAAS,EAAEtF,IAAI,CAAC2D,SAAS,CAAC2B,SAAX,EAAsB3E,MAAM,CAAC4E,IAA7B,CAAjB;AAAqDC,IAAAA,GAAG,EAAEtE,SAAS,CAAC,CAAC0C,YAAD,EAAeH,iBAAf,CAAD,CAAnE;AAAwGsB,IAAAA,MAAM,EAAEA;AAAhH,GAAhB,CAAnC,EACJJ,WAAW,IAAK/E,KAAK,CAACyF,aAAN,CAAoBlF,WAApB,EAAiC;AAAEmF,IAAAA,SAAS,EAAE5E,eAAe,CAAC,kBAAD,CAA5B;AAAkD+E,IAAAA,MAAM,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV;AAA1D,GAAjC,EACZ9F,KAAK,CAACyF,aAAN,CAAoB7E,oBAApB,EAA0C;AAAEmF,IAAAA,IAAI,EAAE,GAAR;AAAaC,IAAAA,SAAS,EAAE,YAAxB;AAAsCN,IAAAA,SAAS,EAAEtF,IAAI,EAAEqB,EAAE,GAAG,EAAL,EAASA,EAAE,CAACV,MAAM,CAAC,oBAAD,CAAP,CAAF,GAAmC,CAACiC,UAA7C,EAAyDvB,EAA3D;AAArD,GAA1C,EACI,CAACuB,UAAD,IAAgBhD,KAAK,CAACyF,aAAN,CAAoB/E,eAApB,EAAqC;AAAE8D,IAAAA,KAAK,EAAEA,KAAT;AAAgByB,IAAAA,WAAW,EAAEvD,WAAW,CAACuD,WAAzC;AAAsDC,IAAAA,iBAAiB,EAAExD,WAAW,CAACwD,iBAArF;AAAwGC,IAAAA,uBAAuB,EAAEzD,WAAW,CAACyD;AAA7I,GAArC,CADpB,EAEIlD,iBAFJ,CADY,CADZ,EAKJjD,KAAK,CAACyF,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAEtF,IAAI,CAACW,MAAM,CAACqF,OAAR,GAAkB1E,EAAE,GAAG,EAAL,EACtDA,EAAE,CAACX,MAAM,CAAC,yBAAD,CAAP,CAAF,GAAwCmE,kBADc,EAEtDxD,EAAE,CAACX,MAAM,CAAC,yBAAD,CAAP,CAAF,GAAwCkE,kBAFc,EAGtDvD,EAHoC,EAAjB;AAGb2E,IAAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE3E;AAAb;AAHM,GAA3B,EAII3B,KAAK,CAACyF,aAAN,CAAoBjF,oBAApB,EAA0C;AAAEoE,IAAAA,OAAO,EAAEA,OAAX;AAAoBC,IAAAA,SAAS,EAAEA,SAA/B;AAA0CC,IAAAA,SAAS,EAAEA,SAArD;AAAgE1B,IAAAA,UAAU,EAAEA,UAA5E;AAAwFE,IAAAA,KAAK,EAAEA,KAA/F;AAAsGC,IAAAA,OAAO,EAAEA,OAA/G;AAAwHE,IAAAA,WAAW,EAAEA,WAArI;AAAkJD,IAAAA,SAAS,EAAEA,SAA7J;AAAwKE,IAAAA,YAAY,EAAEA,YAAtL;AAAoMC,IAAAA,eAAe,EAAEA;AAArN,GAA1C,CAJJ,EAKImB,SAAS,IAAK9E,KAAK,CAACyF,aAAN,CAAoB5E,cAApB,EAAoC;AAAE2D,IAAAA,KAAK,EAAEA,KAAT;AAAgB+B,IAAAA,SAAS,EAAEpC,QAA3B;AAAqCd,IAAAA,iBAAiB,EAAEA,iBAAxD;AAA2EP,IAAAA,MAAM,EAAEA,MAAnF;AAA2FC,IAAAA,MAAM,EAAEA,MAAnG;AAA2GJ,IAAAA,SAAS,EAAEA,SAAtH;AAAiIC,IAAAA,cAAc,EAAEA,cAAjJ;AAAiKC,IAAAA,eAAe,EAAEA,eAAlL;AAAmMH,IAAAA,WAAW,EAAEA;AAAhN,GAApC,CALlB,CALI,EAWJsC,UAAU,IAAKhF,KAAK,CAACyF,aAAN,CAAoBlF,WAApB,EAAiC;AAAEsF,IAAAA,MAAM,EAAE;AAAEW,MAAAA,GAAG,EAAE;AAAP;AAAV,GAAjC,EACXxG,KAAK,CAACyF,aAAN,CAAoB9E,eAApB,EAAqC;AAAE6D,IAAAA,KAAK,EAAEA,KAAT;AAAgBrB,IAAAA,WAAW,EAAEA,WAA7B;AAA0CR,IAAAA,SAAS,EAAED,WAAW,CAAC+D;AAAjE,GAArC,CADW,CAXX,CAAR;AAaH","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { isDevelopment } from '../internal/is-development';\nimport { getBaseProps } from '../internal/base-component';\nimport InternalBox from '../box/internal';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport AreaChartFilter from './elements/area-chart-filter';\nimport AreaChartLegend from './elements/area-chart-legend';\nimport InternalSpaceBetween from '../space-between/internal';\nimport ChartContainer from './chart-container';\nimport cartesianStyles from '../internal/components/cartesian-chart/styles.css.js';\nimport styles from './styles.css.js';\nimport useChartModel from './model/use-chart-model';\nimport useFilterProps from './model/use-filter-props';\nimport useHighlightProps from './model/use-highlight-props';\nimport { isSeriesValid } from './model/utils';\nimport { warnOnce } from '../internal/logging';\nimport { nodeContains } from '../internal/utils/dom';\nimport mergeRefs from 'react-merge-refs';\nexport default function InternalAreaChart(_a) {\n    var _b, _c;\n    var height = _a.height, xScaleType = _a.xScaleType, yScaleType = _a.yScaleType, xDomain = _a.xDomain, yDomain = _a.yDomain, controlledHighlightedSeries = _a.highlightedSeries, controlledVisibleSeries = _a.visibleSeries, externalSeries = _a.series, controlledOnVisibleChange = _a.onFilterChange, controlledOnHighlightChange = _a.onHighlightChange, i18nStrings = _a.i18nStrings, ariaLabel = _a.ariaLabel, ariaLabelledby = _a.ariaLabelledby, ariaDescription = _a.ariaDescription, xTitle = _a.xTitle, yTitle = _a.yTitle, hideFilter = _a.hideFilter, additionalFilters = _a.additionalFilters, hideLegend = _a.hideLegend, legendTitle = _a.legendTitle, statusType = _a.statusType, detailPopoverSize = _a.detailPopoverSize, empty = _a.empty, noMatch = _a.noMatch, errorText = _a.errorText, loadingText = _a.loadingText, recoveryText = _a.recoveryText, onRecoveryClick = _a.onRecoveryClick, _d = _a.__internalRootRef, __internalRootRef = _d === void 0 ? null : _d, props = __rest(_a, [\"height\", \"xScaleType\", \"yScaleType\", \"xDomain\", \"yDomain\", \"highlightedSeries\", \"visibleSeries\", \"series\", \"onFilterChange\", \"onHighlightChange\", \"i18nStrings\", \"ariaLabel\", \"ariaLabelledby\", \"ariaDescription\", \"xTitle\", \"yTitle\", \"hideFilter\", \"additionalFilters\", \"hideLegend\", \"legendTitle\", \"statusType\", \"detailPopoverSize\", \"empty\", \"noMatch\", \"errorText\", \"loadingText\", \"recoveryText\", \"onRecoveryClick\", \"__internalRootRef\"]);\n    var baseProps = getBaseProps(props);\n    var containerRef = useRef(null);\n    if (isDevelopment) {\n        useEffect(function () {\n            if (!isSeriesValid(externalSeries)) {\n                warnOnce('AreaChart', \"The `series` property violates the component's constraints: all `area` \" +\n                    'series must have `data` arrays of the same length and with the same x-values.');\n            }\n        }, [externalSeries]);\n    }\n    var _e = useState(0), width = _e[0], setWidth = _e[1];\n    var _f = useFilterProps(externalSeries, controlledVisibleSeries, controlledOnVisibleChange), visibleSeries = _f[0], setVisibleSeries = _f[1];\n    var _g = useHighlightProps(externalSeries, controlledHighlightedSeries, controlledOnHighlightChange), highlightedSeries = _g[0], setHighlightedSeries = _g[1];\n    var model = useChartModel({\n        externalSeries: externalSeries,\n        visibleSeries: visibleSeries,\n        setVisibleSeries: setVisibleSeries,\n        highlightedSeries: highlightedSeries,\n        setHighlightedSeries: setHighlightedSeries,\n        xDomain: xDomain,\n        yDomain: yDomain,\n        xScaleType: xScaleType,\n        yScaleType: yScaleType,\n        height: height,\n        width: width\n    });\n    var _h = getChartStatus({\n        externalData: externalSeries,\n        visibleData: visibleSeries,\n        statusType: statusType\n    }), isEmpty = _h.isEmpty, isNoMatch = _h.isNoMatch, showChart = _h.showChart;\n    var showFilters = statusType === 'finished' && (!isEmpty || isNoMatch);\n    var showLegend = !hideLegend && !isEmpty && statusType === 'finished';\n    var reserveLegendSpace = !showChart && !hideLegend;\n    var reserveFilterSpace = !showChart && !isNoMatch && (!hideFilter || additionalFilters);\n    var onBlur = function (event) {\n        if (event.relatedTarget && !nodeContains(containerRef.current, event.relatedTarget)) {\n            model.handlers.onContainerBlur();\n        }\n    };\n    return (React.createElement(\"div\", __assign({}, baseProps, { className: clsx(baseProps.className, styles.root), ref: mergeRefs([containerRef, __internalRootRef]), onBlur: onBlur }),\n        showFilters && (React.createElement(InternalBox, { className: cartesianStyles['filter-container'], margin: { bottom: 'l' } },\n            React.createElement(InternalSpaceBetween, { size: \"l\", direction: \"horizontal\", className: clsx((_b = {}, _b[styles['has-default-filter']] = !hideFilter, _b)) },\n                !hideFilter && (React.createElement(AreaChartFilter, { model: model, filterLabel: i18nStrings.filterLabel, filterPlaceholder: i18nStrings.filterPlaceholder, filterSelectedAriaLabel: i18nStrings.filterSelectedAriaLabel })),\n                additionalFilters))),\n        React.createElement(\"div\", { className: clsx(styles.content, (_c = {},\n                _c[styles['content--reserve-filter']] = reserveFilterSpace,\n                _c[styles['content--reserve-legend']] = reserveLegendSpace,\n                _c)), style: { minHeight: height } },\n            React.createElement(ChartStatusContainer, { isEmpty: isEmpty, isNoMatch: isNoMatch, showChart: showChart, statusType: statusType, empty: empty, noMatch: noMatch, loadingText: loadingText, errorText: errorText, recoveryText: recoveryText, onRecoveryClick: onRecoveryClick }),\n            showChart && (React.createElement(ChartContainer, { model: model, autoWidth: setWidth, detailPopoverSize: detailPopoverSize, xTitle: xTitle, yTitle: yTitle, ariaLabel: ariaLabel, ariaLabelledby: ariaLabelledby, ariaDescription: ariaDescription, i18nStrings: i18nStrings }))),\n        showLegend && (React.createElement(InternalBox, { margin: { top: 'm' } },\n            React.createElement(AreaChartLegend, { model: model, legendTitle: legendTitle, ariaLabel: i18nStrings.legendAriaLabel })))));\n}\n"]},"metadata":{},"sourceType":"module"}