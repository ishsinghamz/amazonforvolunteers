{"ast":null,"code":"import { isItemGroup, indexEquals } from './utils';\nexport default function moveHighlight(_a) {\n  var startIndex = _a.startIndex,\n      expandedIndex = _a.expandedIndex,\n      getNext = _a.getNext,\n      hasExpandableGroups = _a.hasExpandableGroups,\n      isInRestrictedView = _a.isInRestrictedView;\n\n  var tryMove = function (currentIndex) {\n    var _a;\n\n    var next = getNext(currentIndex);\n\n    if (!next) {\n      return null;\n    }\n\n    if ((_a = next.parent) === null || _a === void 0 ? void 0 : _a.disabled) {\n      return tryMove(next.index);\n    }\n\n    if (isItemGroup(next.item) && !hasExpandableGroups) {\n      return tryMove(next.index);\n    }\n\n    if (hasExpandableGroups && !isInRestrictedView && !isSameParent(startIndex, next.index)) {\n      return tryMove(next.index);\n    }\n\n    if (hasExpandableGroups && isInRestrictedView && !isSameLevel(next.index, expandedIndex) && !isIncluded(expandedIndex, next.index)) {\n      return tryMove(next.index);\n    }\n\n    return next.index;\n  };\n\n  return tryMove(startIndex);\n}\n\nfunction isSameParent(left, right) {\n  return indexEquals(left.slice(0, -1), right.slice(0, -1));\n}\n\nfunction isSameLevel(left, right) {\n  return left.length === right.length;\n}\n\nfunction isIncluded(parent, child) {\n  return indexEquals(parent, child.slice(0, -1));\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/button-dropdown/utils/move-highlight.js"],"names":["isItemGroup","indexEquals","moveHighlight","_a","startIndex","expandedIndex","getNext","hasExpandableGroups","isInRestrictedView","tryMove","currentIndex","next","parent","disabled","index","item","isSameParent","isSameLevel","isIncluded","left","right","slice","length","child"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,SAAzC;AACA,eAAe,SAASC,aAAT,CAAuBC,EAAvB,EAA2B;AACtC,MAAIC,UAAU,GAAGD,EAAE,CAACC,UAApB;AAAA,MAAgCC,aAAa,GAAGF,EAAE,CAACE,aAAnD;AAAA,MAAkEC,OAAO,GAAGH,EAAE,CAACG,OAA/E;AAAA,MAAwFC,mBAAmB,GAAGJ,EAAE,CAACI,mBAAjH;AAAA,MAAsIC,kBAAkB,GAAGL,EAAE,CAACK,kBAA9J;;AACA,MAAIC,OAAO,GAAG,UAAUC,YAAV,EAAwB;AAClC,QAAIP,EAAJ;;AACA,QAAIQ,IAAI,GAAGL,OAAO,CAACI,YAAD,CAAlB;;AACA,QAAI,CAACC,IAAL,EAAW;AACP,aAAO,IAAP;AACH;;AACD,QAAI,CAACR,EAAE,GAAGQ,IAAI,CAACC,MAAX,MAAuB,IAAvB,IAA+BT,EAAE,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,EAAE,CAACU,QAA/D,EAAyE;AACrE,aAAOJ,OAAO,CAACE,IAAI,CAACG,KAAN,CAAd;AACH;;AACD,QAAId,WAAW,CAACW,IAAI,CAACI,IAAN,CAAX,IAA0B,CAACR,mBAA/B,EAAoD;AAChD,aAAOE,OAAO,CAACE,IAAI,CAACG,KAAN,CAAd;AACH;;AACD,QAAIP,mBAAmB,IAAI,CAACC,kBAAxB,IAA8C,CAACQ,YAAY,CAACZ,UAAD,EAAaO,IAAI,CAACG,KAAlB,CAA/D,EAAyF;AACrF,aAAOL,OAAO,CAACE,IAAI,CAACG,KAAN,CAAd;AACH;;AACD,QAAIP,mBAAmB,IACnBC,kBADA,IAEA,CAACS,WAAW,CAACN,IAAI,CAACG,KAAN,EAAaT,aAAb,CAFZ,IAGA,CAACa,UAAU,CAACb,aAAD,EAAgBM,IAAI,CAACG,KAArB,CAHf,EAG4C;AACxC,aAAOL,OAAO,CAACE,IAAI,CAACG,KAAN,CAAd;AACH;;AACD,WAAOH,IAAI,CAACG,KAAZ;AACH,GAtBD;;AAuBA,SAAOL,OAAO,CAACL,UAAD,CAAd;AACH;;AACD,SAASY,YAAT,CAAsBG,IAAtB,EAA4BC,KAA5B,EAAmC;AAC/B,SAAOnB,WAAW,CAACkB,IAAI,CAACE,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,CAAD,EAAoBD,KAAK,CAACC,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAApB,CAAlB;AACH;;AACD,SAASJ,WAAT,CAAqBE,IAArB,EAA2BC,KAA3B,EAAkC;AAC9B,SAAOD,IAAI,CAACG,MAAL,KAAgBF,KAAK,CAACE,MAA7B;AACH;;AACD,SAASJ,UAAT,CAAoBN,MAApB,EAA4BW,KAA5B,EAAmC;AAC/B,SAAOtB,WAAW,CAACW,MAAD,EAASW,KAAK,CAACF,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,CAAT,CAAlB;AACH","sourcesContent":["import { isItemGroup, indexEquals } from './utils';\nexport default function moveHighlight(_a) {\n    var startIndex = _a.startIndex, expandedIndex = _a.expandedIndex, getNext = _a.getNext, hasExpandableGroups = _a.hasExpandableGroups, isInRestrictedView = _a.isInRestrictedView;\n    var tryMove = function (currentIndex) {\n        var _a;\n        var next = getNext(currentIndex);\n        if (!next) {\n            return null;\n        }\n        if ((_a = next.parent) === null || _a === void 0 ? void 0 : _a.disabled) {\n            return tryMove(next.index);\n        }\n        if (isItemGroup(next.item) && !hasExpandableGroups) {\n            return tryMove(next.index);\n        }\n        if (hasExpandableGroups && !isInRestrictedView && !isSameParent(startIndex, next.index)) {\n            return tryMove(next.index);\n        }\n        if (hasExpandableGroups &&\n            isInRestrictedView &&\n            !isSameLevel(next.index, expandedIndex) &&\n            !isIncluded(expandedIndex, next.index)) {\n            return tryMove(next.index);\n        }\n        return next.index;\n    };\n    return tryMove(startIndex);\n}\nfunction isSameParent(left, right) {\n    return indexEquals(left.slice(0, -1), right.slice(0, -1));\n}\nfunction isSameLevel(left, right) {\n    return left.length === right.length;\n}\nfunction isIncluded(parent, child) {\n    return indexEquals(parent, child.slice(0, -1));\n}\n"]},"metadata":{},"sourceType":"module"}