{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport VisualContext from '../internal/components/visual-context';\nimport Portal from '../internal/components/portal';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport { useEffectOnUpdate } from '../internal/hooks/use-effect-on-update';\nimport { useTopNavigation } from './use-top-navigation.js';\nimport Utility from './parts/utility';\nimport OverflowMenu from './parts/overflow-menu';\nimport { ButtonTrigger } from '../internal/components/menu-dropdown';\nimport styles from './styles.css.js';\nexport default function InternalTopNavigation(_a) {\n  var __internalRootRef = _a.__internalRootRef,\n      identity = _a.identity,\n      i18nStrings = _a.i18nStrings,\n      _b = _a.utilities,\n      utilities = _b === void 0 ? [] : _b,\n      search = _a.search,\n      restProps = __rest(_a, [\"__internalRootRef\", \"identity\", \"i18nStrings\", \"utilities\", \"search\"]);\n\n  var baseProps = getBaseProps(restProps);\n\n  var _c = useTopNavigation({\n    __internalRootRef: __internalRootRef,\n    identity: identity,\n    search: search,\n    utilities: utilities\n  }),\n      ref = _c.ref,\n      virtualRef = _c.virtualRef,\n      breakpoint = _c.breakpoint,\n      responsiveState = _c.responsiveState,\n      isSearchExpanded = _c.isSearchExpanded,\n      onSearchUtilityClick = _c.onSearchUtilityClick;\n\n  var _d = useState(false),\n      overflowMenuOpen = _d[0],\n      setOverflowMenuOpen = _d[1];\n\n  var overflowMenuTriggerRef = useRef(null);\n  var isNarrowViewport = breakpoint === 'default';\n  var isMediumViewport = breakpoint === 'xxs';\n  var isLargeViewport = breakpoint === 's';\n\n  var onIdentityClick = function (event) {\n    if (isPlainLeftClick(event)) {\n      fireCancelableEvent(identity.onFollow, {}, event);\n    }\n  };\n\n  var toggleOverflowMenu = function () {\n    setOverflowMenuOpen(function (overflowMenuOpen) {\n      return !overflowMenuOpen;\n    });\n  };\n\n  var focusVisible = useFocusVisible();\n  var menuTriggerVisible = !isSearchExpanded && responsiveState.hideUtilities;\n  useEffect(function () {\n    setOverflowMenuOpen(false);\n  }, [menuTriggerVisible]);\n  useEffectOnUpdate(function () {\n    var _a;\n\n    if (!overflowMenuOpen) {\n      (_a = overflowMenuTriggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  }, [overflowMenuOpen]);\n\n  var content = function (isVirtual) {\n    var _a, _b, _c, _d;\n\n    var _e, _f;\n\n    var Wrapper = isVirtual ? 'div' : 'header';\n    var showIdentity = isVirtual || !isSearchExpanded;\n    var showTitle = isVirtual || !responsiveState.hideTitle;\n    var showSearchSlot = search && (isVirtual || !responsiveState.hideSearch || isSearchExpanded);\n    var showSearchUtility = isVirtual || search && responsiveState.hideSearch;\n    var showUtilities = isVirtual || !isSearchExpanded;\n    var showMenuTrigger = isVirtual || menuTriggerVisible;\n    return React.createElement(Wrapper, {\n      ref: isVirtual ? virtualRef : ref,\n      \"aria-hidden\": isVirtual ? true : undefined,\n      className: clsx(styles['top-navigation'], (_a = {}, _a[styles.virtual] = isVirtual, _a[styles.hidden] = isVirtual, _a[styles.narrow] = isNarrowViewport, _a[styles.medium] = isMediumViewport, _a))\n    }, React.createElement(\"div\", {\n      className: styles['padding-box']\n    }, showIdentity && React.createElement(\"div\", {\n      className: clsx(styles.identity, !identity.logo && styles['no-logo'])\n    }, React.createElement(\"a\", __assign({}, focusVisible, {\n      className: styles['identity-link'],\n      href: identity.href,\n      onClick: onIdentityClick\n    }), identity.logo && React.createElement(\"img\", {\n      role: \"img\",\n      src: (_e = identity.logo) === null || _e === void 0 ? void 0 : _e.src,\n      alt: (_f = identity.logo) === null || _f === void 0 ? void 0 : _f.alt,\n      className: clsx(styles.logo, (_b = {}, _b[styles.narrow] = isNarrowViewport, _b))\n    }), showTitle && React.createElement(\"span\", {\n      className: styles.title\n    }, identity.title))), React.createElement(\"div\", {\n      className: styles.inputs\n    }, showSearchSlot && React.createElement(\"div\", {\n      className: clsx(styles.search, !isVirtual && isSearchExpanded && styles['search-expanded'])\n    }, search)), React.createElement(\"div\", {\n      className: styles.utilities\n    }, showSearchUtility && React.createElement(\"div\", {\n      className: clsx(styles['utility-wrapper'], styles['utility-type-button'], styles['utility-type-button-link'], (_c = {}, _c[styles.narrow] = isNarrowViewport, _c[styles.medium] = isMediumViewport, _c)),\n      \"data-utility-special\": \"search\"\n    }, React.createElement(Utility, {\n      hideText: true,\n      definition: {\n        type: 'button',\n        iconName: isSearchExpanded ? 'close' : 'search',\n        ariaLabel: isSearchExpanded ? i18nStrings.searchDismissIconAriaLabel : i18nStrings.searchIconAriaLabel,\n        onClick: onSearchUtilityClick\n      }\n    })), showUtilities && utilities.filter(function (_utility, i) {\n      return isVirtual || !responsiveState.hideUtilities || responsiveState.hideUtilities.indexOf(i) === -1;\n    }).map(function (utility, i) {\n      var _a;\n\n      var _b;\n\n      var hideText = !!responsiveState.hideUtilityText;\n      var isLast = (isVirtual || !showMenuTrigger) && i === utilities.length - 1;\n      var offsetRight = isLast && isLargeViewport ? 'xxl' : isLast ? 'l' : undefined;\n      return React.createElement(\"div\", {\n        key: i,\n        className: clsx(styles['utility-wrapper'], styles[\"utility-type-\" + utility.type], utility.type === 'button' && styles[\"utility-type-button-\" + ((_b = utility.variant) !== null && _b !== void 0 ? _b : 'link')], (_a = {}, _a[styles.narrow] = isNarrowViewport, _a[styles.medium] = isMediumViewport, _a)),\n        \"data-utility-index\": i,\n        \"data-utility-hide\": \"\" + hideText\n      }, React.createElement(Utility, {\n        hideText: hideText,\n        definition: utility,\n        offsetRight: offsetRight\n      }));\n    }), isVirtual && utilities.map(function (utility, i) {\n      var _a;\n\n      var _b;\n\n      var hideText = !responsiveState.hideUtilityText;\n      var isLast = !showMenuTrigger && i === utilities.length - 1;\n      var offsetRight = isLast && isLargeViewport ? 'xxl' : isLast ? 'l' : undefined;\n      return React.createElement(\"div\", {\n        key: i,\n        className: clsx(styles['utility-wrapper'], styles[\"utility-type-\" + utility.type], utility.type === 'button' && styles[\"utility-type-button-\" + ((_b = utility.variant) !== null && _b !== void 0 ? _b : 'link')], (_a = {}, _a[styles.narrow] = isNarrowViewport, _a[styles.medium] = isMediumViewport, _a)),\n        \"data-utility-index\": i,\n        \"data-utility-hide\": \"\" + hideText\n      }, React.createElement(Utility, {\n        hideText: hideText,\n        definition: utility,\n        offsetRight: offsetRight\n      }));\n    }), showMenuTrigger && React.createElement(\"div\", {\n      className: clsx(styles['utility-wrapper'], styles['utility-type-menu-dropdown'], (_d = {}, _d[styles.narrow] = isNarrowViewport, _d[styles.medium] = isMediumViewport, _d)),\n      \"data-utility-special\": \"menu-trigger\"\n    }, React.createElement(ButtonTrigger, {\n      expanded: overflowMenuOpen,\n      onClick: toggleOverflowMenu,\n      offsetRight: \"l\",\n      ref: !isVirtual ? overflowMenuTriggerRef : undefined\n    }, i18nStrings.overflowMenuTriggerText)))));\n  };\n\n  return React.createElement(\"div\", __assign({}, baseProps, {\n    ref: __internalRootRef\n  }), React.createElement(VisualContext, {\n    contextName: \"top-navigation\"\n  }, content(false), React.createElement(Portal, null, content(true)), menuTriggerVisible && overflowMenuOpen && React.createElement(\"div\", {\n    className: styles['overflow-menu-drawer']\n  }, React.createElement(OverflowMenu, {\n    headerText: i18nStrings.overflowMenuTitleText,\n    dismissIconAriaLabel: i18nStrings.overflowMenuDismissIconAriaLabel,\n    backIconAriaLabel: i18nStrings.overflowMenuBackIconAriaLabel,\n    items: utilities.filter(function (utility, i) {\n      return (!responsiveState.hideUtilities || responsiveState.hideUtilities.indexOf(i) !== -1) && !utility.disableUtilityCollapse;\n    }),\n    onClose: toggleOverflowMenu\n  }))));\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/top-navigation/internal.js"],"names":["__assign","__rest","React","useEffect","useRef","useState","clsx","getBaseProps","fireCancelableEvent","isPlainLeftClick","VisualContext","Portal","useFocusVisible","useEffectOnUpdate","useTopNavigation","Utility","OverflowMenu","ButtonTrigger","styles","InternalTopNavigation","_a","__internalRootRef","identity","i18nStrings","_b","utilities","search","restProps","baseProps","_c","ref","virtualRef","breakpoint","responsiveState","isSearchExpanded","onSearchUtilityClick","_d","overflowMenuOpen","setOverflowMenuOpen","overflowMenuTriggerRef","isNarrowViewport","isMediumViewport","isLargeViewport","onIdentityClick","event","onFollow","toggleOverflowMenu","focusVisible","menuTriggerVisible","hideUtilities","current","focus","content","isVirtual","_e","_f","Wrapper","showIdentity","showTitle","hideTitle","showSearchSlot","hideSearch","showSearchUtility","showUtilities","showMenuTrigger","createElement","undefined","className","virtual","hidden","narrow","medium","logo","href","onClick","role","src","alt","title","inputs","hideText","definition","type","iconName","ariaLabel","searchDismissIconAriaLabel","searchIconAriaLabel","filter","_utility","i","indexOf","map","utility","hideUtilityText","isLast","length","offsetRight","key","variant","expanded","overflowMenuTriggerText","contextName","headerText","overflowMenuTitleText","dismissIconAriaLabel","overflowMenuDismissIconAriaLabel","backIconAriaLabel","overflowMenuBackIconAriaLabel","items","disableUtilityCollapse","onClose"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireCancelableEvent, isPlainLeftClick } from '../internal/events';\nimport VisualContext from '../internal/components/visual-context';\nimport Portal from '../internal/components/portal';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport { useEffectOnUpdate } from '../internal/hooks/use-effect-on-update';\nimport { useTopNavigation } from './use-top-navigation.js';\nimport Utility from './parts/utility';\nimport OverflowMenu from './parts/overflow-menu';\nimport { ButtonTrigger } from '../internal/components/menu-dropdown';\nimport styles from './styles.css.js';\nexport default function InternalTopNavigation(_a) {\n    var __internalRootRef = _a.__internalRootRef, identity = _a.identity, i18nStrings = _a.i18nStrings, _b = _a.utilities, utilities = _b === void 0 ? [] : _b, search = _a.search, restProps = __rest(_a, [\"__internalRootRef\", \"identity\", \"i18nStrings\", \"utilities\", \"search\"]);\n    var baseProps = getBaseProps(restProps);\n    var _c = useTopNavigation({\n        __internalRootRef: __internalRootRef,\n        identity: identity,\n        search: search,\n        utilities: utilities\n    }), ref = _c.ref, virtualRef = _c.virtualRef, breakpoint = _c.breakpoint, responsiveState = _c.responsiveState, isSearchExpanded = _c.isSearchExpanded, onSearchUtilityClick = _c.onSearchUtilityClick;\n    var _d = useState(false), overflowMenuOpen = _d[0], setOverflowMenuOpen = _d[1];\n    var overflowMenuTriggerRef = useRef(null);\n    var isNarrowViewport = breakpoint === 'default';\n    var isMediumViewport = breakpoint === 'xxs';\n    var isLargeViewport = breakpoint === 's';\n    var onIdentityClick = function (event) {\n        if (isPlainLeftClick(event)) {\n            fireCancelableEvent(identity.onFollow, {}, event);\n        }\n    };\n    var toggleOverflowMenu = function () {\n        setOverflowMenuOpen(function (overflowMenuOpen) { return !overflowMenuOpen; });\n    };\n    var focusVisible = useFocusVisible();\n    var menuTriggerVisible = !isSearchExpanded && responsiveState.hideUtilities;\n    useEffect(function () {\n        setOverflowMenuOpen(false);\n    }, [menuTriggerVisible]);\n    useEffectOnUpdate(function () {\n        var _a;\n        if (!overflowMenuOpen) {\n            (_a = overflowMenuTriggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n    }, [overflowMenuOpen]);\n    var content = function (isVirtual) {\n        var _a, _b, _c, _d;\n        var _e, _f;\n        var Wrapper = isVirtual ? 'div' : 'header';\n        var showIdentity = isVirtual || !isSearchExpanded;\n        var showTitle = isVirtual || !responsiveState.hideTitle;\n        var showSearchSlot = search && (isVirtual || !responsiveState.hideSearch || isSearchExpanded);\n        var showSearchUtility = isVirtual || (search && responsiveState.hideSearch);\n        var showUtilities = isVirtual || !isSearchExpanded;\n        var showMenuTrigger = isVirtual || menuTriggerVisible;\n        return (React.createElement(Wrapper, { ref: isVirtual ? virtualRef : ref, \"aria-hidden\": isVirtual ? true : undefined, className: clsx(styles['top-navigation'], (_a = {},\n                _a[styles.virtual] = isVirtual,\n                _a[styles.hidden] = isVirtual,\n                _a[styles.narrow] = isNarrowViewport,\n                _a[styles.medium] = isMediumViewport,\n                _a)) },\n            React.createElement(\"div\", { className: styles['padding-box'] },\n                showIdentity && (React.createElement(\"div\", { className: clsx(styles.identity, !identity.logo && styles['no-logo']) },\n                    React.createElement(\"a\", __assign({}, focusVisible, { className: styles['identity-link'], href: identity.href, onClick: onIdentityClick }),\n                        identity.logo && (React.createElement(\"img\", { role: \"img\", src: (_e = identity.logo) === null || _e === void 0 ? void 0 : _e.src, alt: (_f = identity.logo) === null || _f === void 0 ? void 0 : _f.alt, className: clsx(styles.logo, (_b = {},\n                                _b[styles.narrow] = isNarrowViewport,\n                                _b)) })),\n                        showTitle && React.createElement(\"span\", { className: styles.title }, identity.title)))),\n                React.createElement(\"div\", { className: styles.inputs }, showSearchSlot && (React.createElement(\"div\", { className: clsx(styles.search, !isVirtual && isSearchExpanded && styles['search-expanded']) }, search))),\n                React.createElement(\"div\", { className: styles.utilities },\n                    showSearchUtility && (React.createElement(\"div\", { className: clsx(styles['utility-wrapper'], styles['utility-type-button'], styles['utility-type-button-link'], (_c = {},\n                            _c[styles.narrow] = isNarrowViewport,\n                            _c[styles.medium] = isMediumViewport,\n                            _c)), \"data-utility-special\": \"search\" },\n                        React.createElement(Utility, { hideText: true, definition: {\n                                type: 'button',\n                                iconName: isSearchExpanded ? 'close' : 'search',\n                                ariaLabel: isSearchExpanded\n                                    ? i18nStrings.searchDismissIconAriaLabel\n                                    : i18nStrings.searchIconAriaLabel,\n                                onClick: onSearchUtilityClick\n                            } }))),\n                    showUtilities &&\n                        utilities\n                            .filter(function (_utility, i) {\n                            return isVirtual || !responsiveState.hideUtilities || responsiveState.hideUtilities.indexOf(i) === -1;\n                        })\n                            .map(function (utility, i) {\n                            var _a;\n                            var _b;\n                            var hideText = !!responsiveState.hideUtilityText;\n                            var isLast = (isVirtual || !showMenuTrigger) && i === utilities.length - 1;\n                            var offsetRight = isLast && isLargeViewport ? 'xxl' : isLast ? 'l' : undefined;\n                            return (React.createElement(\"div\", { key: i, className: clsx(styles['utility-wrapper'], styles[\"utility-type-\" + utility.type], utility.type === 'button' && styles[\"utility-type-button-\" + ((_b = utility.variant) !== null && _b !== void 0 ? _b : 'link')], (_a = {},\n                                    _a[styles.narrow] = isNarrowViewport,\n                                    _a[styles.medium] = isMediumViewport,\n                                    _a)), \"data-utility-index\": i, \"data-utility-hide\": \"\" + hideText },\n                                React.createElement(Utility, { hideText: hideText, definition: utility, offsetRight: offsetRight })));\n                        }),\n                    isVirtual &&\n                        utilities.map(function (utility, i) {\n                            var _a;\n                            var _b;\n                            var hideText = !responsiveState.hideUtilityText;\n                            var isLast = !showMenuTrigger && i === utilities.length - 1;\n                            var offsetRight = isLast && isLargeViewport ? 'xxl' : isLast ? 'l' : undefined;\n                            return (React.createElement(\"div\", { key: i, className: clsx(styles['utility-wrapper'], styles[\"utility-type-\" + utility.type], utility.type === 'button' && styles[\"utility-type-button-\" + ((_b = utility.variant) !== null && _b !== void 0 ? _b : 'link')], (_a = {},\n                                    _a[styles.narrow] = isNarrowViewport,\n                                    _a[styles.medium] = isMediumViewport,\n                                    _a)), \"data-utility-index\": i, \"data-utility-hide\": \"\" + hideText },\n                                React.createElement(Utility, { hideText: hideText, definition: utility, offsetRight: offsetRight })));\n                        }),\n                    showMenuTrigger && (React.createElement(\"div\", { className: clsx(styles['utility-wrapper'], styles['utility-type-menu-dropdown'], (_d = {},\n                            _d[styles.narrow] = isNarrowViewport,\n                            _d[styles.medium] = isMediumViewport,\n                            _d)), \"data-utility-special\": \"menu-trigger\" },\n                        React.createElement(ButtonTrigger, { expanded: overflowMenuOpen, onClick: toggleOverflowMenu, offsetRight: \"l\", ref: !isVirtual ? overflowMenuTriggerRef : undefined }, i18nStrings.overflowMenuTriggerText)))))));\n    };\n    return (React.createElement(\"div\", __assign({}, baseProps, { ref: __internalRootRef }),\n        React.createElement(VisualContext, { contextName: \"top-navigation\" },\n            content(false),\n            React.createElement(Portal, null, content(true)),\n            menuTriggerVisible && overflowMenuOpen && (React.createElement(\"div\", { className: styles['overflow-menu-drawer'] },\n                React.createElement(OverflowMenu, { headerText: i18nStrings.overflowMenuTitleText, dismissIconAriaLabel: i18nStrings.overflowMenuDismissIconAriaLabel, backIconAriaLabel: i18nStrings.overflowMenuBackIconAriaLabel, items: utilities.filter(function (utility, i) {\n                        return (!responsiveState.hideUtilities || responsiveState.hideUtilities.indexOf(i) !== -1) &&\n                            !utility.disableUtilityCollapse;\n                    }), onClose: toggleOverflowMenu }))))));\n}\n"]},"metadata":{},"sourceType":"module"}