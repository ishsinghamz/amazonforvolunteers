{"ast":null,"code":"import { __assign } from \"tslib\";\nimport React, { forwardRef, useCallback, useImperativeHandle, useRef } from 'react';\nimport { useVirtual } from 'react-virtual';\nimport OptionsList from '../internal/components/options-list';\nimport { useContainerQuery } from '../internal/hooks/container-queries';\nimport AutosuggestOption from './autosuggest-option';\nimport { getOptionProps } from './plain-list';\nimport styles from './styles.css.js';\n\nvar VirtualList = function (_a, ref) {\n  var handleLoadMore = _a.handleLoadMore,\n      filteredItems = _a.filteredItems,\n      usingMouse = _a.usingMouse,\n      menuProps = _a.menuProps,\n      highlightedOption = _a.highlightedOption,\n      enteredTextLabel = _a.enteredTextLabel,\n      highlightedA11yProps = _a.highlightedA11yProps,\n      hasDropdownStatus = _a.hasDropdownStatus,\n      highlightText = _a.highlightText,\n      listBottom = _a.listBottom;\n  var scrollRef = useRef(null);\n\n  var _b = useContainerQuery(function (rect) {\n    return rect.width;\n  }, []),\n      width = _b[0],\n      strutRef = _b[1];\n\n  useImperativeHandle(strutRef, function () {\n    return scrollRef.current;\n  });\n  var rowVirtualizer = useVirtual({\n    size: filteredItems.length,\n    parentRef: scrollRef,\n    estimateSize: useCallback(function () {\n      return 31;\n    }, [width, highlightText]),\n    overscan: 5\n  });\n  useImperativeHandle(ref, function () {\n    return function (index) {\n      if (!usingMouse.current) {\n        rowVirtualizer.scrollToIndex(index);\n      }\n    };\n  }, [usingMouse, rowVirtualizer]);\n  return React.createElement(OptionsList, __assign({}, menuProps, {\n    onLoadMore: handleLoadMore,\n    ref: scrollRef,\n    open: true,\n    nativeAttributes: {\n      unselectable: 'on'\n    }\n  }), React.createElement(\"div\", {\n    \"aria-hidden\": \"true\",\n    key: \"total-size\",\n    className: styles['layout-strut'],\n    style: {\n      height: rowVirtualizer.totalSize + (filteredItems.length === 1 ? 1 : 0)\n    }\n  }), rowVirtualizer.virtualItems.map(function (virtualRow) {\n    var index = virtualRow.index,\n        start = virtualRow.start,\n        measureRef = virtualRow.measureRef;\n    var item = filteredItems[index];\n    var optionProps = getOptionProps(index, item, filteredItems, highlightedA11yProps, highlightedOption, hasDropdownStatus);\n    return React.createElement(AutosuggestOption, __assign({\n      key: index,\n      ref: measureRef,\n      highlightText: highlightText,\n      option: item,\n      highlighted: item === highlightedOption,\n      \"data-mouse-target\": index,\n      enteredTextLabel: enteredTextLabel,\n      virtualPosition: start + (index === 0 ? 1 : 0)\n    }, optionProps));\n  }), listBottom ? React.createElement(\"li\", {\n    className: styles['list-bottom']\n  }, listBottom) : null);\n};\n\nexport default forwardRef(VirtualList);","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/autosuggest/virtual-list.js"],"names":["__assign","React","forwardRef","useCallback","useImperativeHandle","useRef","useVirtual","OptionsList","useContainerQuery","AutosuggestOption","getOptionProps","styles","VirtualList","_a","ref","handleLoadMore","filteredItems","usingMouse","menuProps","highlightedOption","enteredTextLabel","highlightedA11yProps","hasDropdownStatus","highlightText","listBottom","scrollRef","_b","rect","width","strutRef","current","rowVirtualizer","size","length","parentRef","estimateSize","overscan","index","scrollToIndex","createElement","onLoadMore","open","nativeAttributes","unselectable","key","className","style","height","totalSize","virtualItems","map","virtualRow","start","measureRef","item","optionProps","option","highlighted","virtualPosition"],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport React, { forwardRef, useCallback, useImperativeHandle, useRef } from 'react';\nimport { useVirtual } from 'react-virtual';\nimport OptionsList from '../internal/components/options-list';\nimport { useContainerQuery } from '../internal/hooks/container-queries';\nimport AutosuggestOption from './autosuggest-option';\nimport { getOptionProps } from './plain-list';\nimport styles from './styles.css.js';\nvar VirtualList = function (_a, ref) {\n    var handleLoadMore = _a.handleLoadMore, filteredItems = _a.filteredItems, usingMouse = _a.usingMouse, menuProps = _a.menuProps, highlightedOption = _a.highlightedOption, enteredTextLabel = _a.enteredTextLabel, highlightedA11yProps = _a.highlightedA11yProps, hasDropdownStatus = _a.hasDropdownStatus, highlightText = _a.highlightText, listBottom = _a.listBottom;\n    var scrollRef = useRef(null);\n    var _b = useContainerQuery(function (rect) { return rect.width; }, []), width = _b[0], strutRef = _b[1];\n    useImperativeHandle(strutRef, function () { return scrollRef.current; });\n    var rowVirtualizer = useVirtual({\n        size: filteredItems.length,\n        parentRef: scrollRef,\n        estimateSize: useCallback(function () { return 31; }, [width, highlightText]),\n        overscan: 5\n    });\n    useImperativeHandle(ref, function () { return function (index) {\n        if (!usingMouse.current) {\n            rowVirtualizer.scrollToIndex(index);\n        }\n    }; }, [usingMouse, rowVirtualizer]);\n    return (React.createElement(OptionsList, __assign({}, menuProps, { onLoadMore: handleLoadMore, ref: scrollRef, open: true, nativeAttributes: { unselectable: 'on' } }),\n        React.createElement(\"div\", { \"aria-hidden\": \"true\", key: \"total-size\", className: styles['layout-strut'], style: { height: rowVirtualizer.totalSize + (filteredItems.length === 1 ? 1 : 0) } }),\n        rowVirtualizer.virtualItems.map(function (virtualRow) {\n            var index = virtualRow.index, start = virtualRow.start, measureRef = virtualRow.measureRef;\n            var item = filteredItems[index];\n            var optionProps = getOptionProps(index, item, filteredItems, highlightedA11yProps, highlightedOption, hasDropdownStatus);\n            return (React.createElement(AutosuggestOption, __assign({ key: index, ref: measureRef, highlightText: highlightText, option: item, highlighted: item === highlightedOption, \"data-mouse-target\": index, enteredTextLabel: enteredTextLabel, virtualPosition: start + (index === 0 ? 1 : 0) }, optionProps)));\n        }),\n        listBottom ? React.createElement(\"li\", { className: styles['list-bottom'] }, listBottom) : null));\n};\nexport default forwardRef(VirtualList);\n"]},"metadata":{},"sourceType":"module"}