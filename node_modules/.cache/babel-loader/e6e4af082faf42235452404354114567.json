{"ast":null,"code":"import clsx from 'clsx';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useStableEventHandler } from '../../internal/hooks/use-stable-event-handler';\nimport { getOverflowParents } from '../../internal/utils/scrollable-containers';\nimport { findUpUntil } from '../../internal/utils/dom';\nimport tableStyles from '../styles.css.js';\nimport styles from './styles.css.js';\nvar AUTO_GROW_START_TIME = 10;\nvar AUTO_GROW_INTERVAL = 10;\nvar AUTO_GROW_INCREMENT = 5;\nexport function Resizer(_a) {\n  var onDragMove = _a.onDragMove,\n      onFinish = _a.onFinish;\n\n  var _b = useState(false),\n      isDragging = _b[0],\n      setIsDragging = _b[1];\n\n  var _c = useState(),\n      headerCell = _c[0],\n      setHeaderCell = _c[1];\n\n  var autoGrowTimeout = useRef();\n  var onFinishStable = useStableEventHandler(onFinish);\n  var onDragStable = useStableEventHandler(onDragMove);\n  useEffect(function () {\n    if (!isDragging || !headerCell) {\n      return;\n    }\n\n    var rootElement = findUpUntil(headerCell, function (element) {\n      return element.className.indexOf(tableStyles.root) > -1;\n    });\n    var tableElement = rootElement.querySelector(\"table\");\n    var tracker = rootElement.querySelector(\".\" + styles.tracker);\n    var scrollParent = getOverflowParents(headerCell)[0];\n\n    var _a = scrollParent.getBoundingClientRect(),\n        leftEdge = _a.left,\n        rightEdge = _a.right;\n\n    var updateTrackerPosition = function (newOffset) {\n      var scrollParentLeft = tableElement.getBoundingClientRect().left;\n      tracker.style.top = headerCell.getBoundingClientRect().height + 'px';\n      tracker.style.left = newOffset - scrollParentLeft - 1 + 'px';\n    };\n\n    var updateColumnWidth = function (newWidth) {\n      onDragStable(newWidth);\n      updateTrackerPosition(headerCell.getBoundingClientRect().right);\n    };\n\n    var onAutoGrow = function () {\n      var width = headerCell.getBoundingClientRect().width;\n      autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_INTERVAL);\n      updateColumnWidth(width + AUTO_GROW_INCREMENT);\n      scrollParent.scrollLeft += AUTO_GROW_INCREMENT;\n    };\n\n    var onMouseMove = function (event) {\n      clearTimeout(autoGrowTimeout.current);\n      var offset = event.pageX;\n\n      if (offset > rightEdge) {\n        autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_START_TIME);\n      } else if (offset > leftEdge) {\n        var cellLeft = headerCell.getBoundingClientRect().left;\n        var newWidth = offset - cellLeft;\n        updateColumnWidth(newWidth);\n      }\n    };\n\n    var onMouseUp = function () {\n      setIsDragging(false);\n      onFinishStable();\n      clearTimeout(autoGrowTimeout.current);\n    };\n\n    updateTrackerPosition(headerCell.getBoundingClientRect().right);\n    document.body.classList.add(styles['resize-active']);\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    return function () {\n      clearTimeout(autoGrowTimeout.current);\n      document.body.classList.remove(styles['resize-active']);\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', onMouseUp);\n    };\n  }, [headerCell, isDragging, onDragStable, onFinishStable]);\n  return React.createElement(\"span\", {\n    className: clsx(styles.resizer, isDragging && styles['resizer-active']),\n    onMouseDown: function (event) {\n      if (event.button !== 0) {\n        return;\n      }\n\n      event.preventDefault();\n      var headerCell = findUpUntil(event.currentTarget, function (element) {\n        return element.tagName.toLowerCase() === 'th';\n      });\n      setIsDragging(true);\n      setHeaderCell(headerCell);\n    }\n  });\n}\nexport function ResizeTracker() {\n  return React.createElement(\"span\", {\n    className: styles.tracker\n  });\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/table/resizer/index.js"],"names":["clsx","React","useEffect","useRef","useState","useStableEventHandler","getOverflowParents","findUpUntil","tableStyles","styles","AUTO_GROW_START_TIME","AUTO_GROW_INTERVAL","AUTO_GROW_INCREMENT","Resizer","_a","onDragMove","onFinish","_b","isDragging","setIsDragging","_c","headerCell","setHeaderCell","autoGrowTimeout","onFinishStable","onDragStable","rootElement","element","className","indexOf","root","tableElement","querySelector","tracker","scrollParent","getBoundingClientRect","leftEdge","left","rightEdge","right","updateTrackerPosition","newOffset","scrollParentLeft","style","top","height","updateColumnWidth","newWidth","onAutoGrow","width","current","setTimeout","scrollLeft","onMouseMove","event","clearTimeout","offset","pageX","cellLeft","onMouseUp","document","body","classList","add","addEventListener","remove","removeEventListener","createElement","resizer","onMouseDown","button","preventDefault","currentTarget","tagName","toLowerCase","ResizeTracker"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,qBAAT,QAAsC,+CAAtC;AACA,SAASC,kBAAT,QAAmC,4CAAnC;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,IAAIC,oBAAoB,GAAG,EAA3B;AACA,IAAIC,kBAAkB,GAAG,EAAzB;AACA,IAAIC,mBAAmB,GAAG,CAA1B;AACA,OAAO,SAASC,OAAT,CAAiBC,EAAjB,EAAqB;AACxB,MAAIC,UAAU,GAAGD,EAAE,CAACC,UAApB;AAAA,MAAgCC,QAAQ,GAAGF,EAAE,CAACE,QAA9C;;AACA,MAAIC,EAAE,GAAGb,QAAQ,CAAC,KAAD,CAAjB;AAAA,MAA0Bc,UAAU,GAAGD,EAAE,CAAC,CAAD,CAAzC;AAAA,MAA8CE,aAAa,GAAGF,EAAE,CAAC,CAAD,CAAhE;;AACA,MAAIG,EAAE,GAAGhB,QAAQ,EAAjB;AAAA,MAAqBiB,UAAU,GAAGD,EAAE,CAAC,CAAD,CAApC;AAAA,MAAyCE,aAAa,GAAGF,EAAE,CAAC,CAAD,CAA3D;;AACA,MAAIG,eAAe,GAAGpB,MAAM,EAA5B;AACA,MAAIqB,cAAc,GAAGnB,qBAAqB,CAACW,QAAD,CAA1C;AACA,MAAIS,YAAY,GAAGpB,qBAAqB,CAACU,UAAD,CAAxC;AACAb,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAI,CAACgB,UAAD,IAAe,CAACG,UAApB,EAAgC;AAC5B;AACH;;AACD,QAAIK,WAAW,GAAGnB,WAAW,CAACc,UAAD,EAAa,UAAUM,OAAV,EAAmB;AAAE,aAAOA,OAAO,CAACC,SAAR,CAAkBC,OAAlB,CAA0BrB,WAAW,CAACsB,IAAtC,IAA8C,CAAC,CAAtD;AAA0D,KAA5F,CAA7B;AACA,QAAIC,YAAY,GAAGL,WAAW,CAACM,aAAZ,CAA0B,OAA1B,CAAnB;AACA,QAAIC,OAAO,GAAGP,WAAW,CAACM,aAAZ,CAA0B,MAAMvB,MAAM,CAACwB,OAAvC,CAAd;AACA,QAAIC,YAAY,GAAG5B,kBAAkB,CAACe,UAAD,CAAlB,CAA+B,CAA/B,CAAnB;;AACA,QAAIP,EAAE,GAAGoB,YAAY,CAACC,qBAAb,EAAT;AAAA,QAA+CC,QAAQ,GAAGtB,EAAE,CAACuB,IAA7D;AAAA,QAAmEC,SAAS,GAAGxB,EAAE,CAACyB,KAAlF;;AACA,QAAIC,qBAAqB,GAAG,UAAUC,SAAV,EAAqB;AAC7C,UAAIC,gBAAgB,GAAGX,YAAY,CAACI,qBAAb,GAAqCE,IAA5D;AACAJ,MAAAA,OAAO,CAACU,KAAR,CAAcC,GAAd,GAAoBvB,UAAU,CAACc,qBAAX,GAAmCU,MAAnC,GAA4C,IAAhE;AACAZ,MAAAA,OAAO,CAACU,KAAR,CAAcN,IAAd,GAAqBI,SAAS,GAAGC,gBAAZ,GAA+B,CAA/B,GAAmC,IAAxD;AACH,KAJD;;AAKA,QAAII,iBAAiB,GAAG,UAAUC,QAAV,EAAoB;AACxCtB,MAAAA,YAAY,CAACsB,QAAD,CAAZ;AACAP,MAAAA,qBAAqB,CAACnB,UAAU,CAACc,qBAAX,GAAmCI,KAApC,CAArB;AACH,KAHD;;AAIA,QAAIS,UAAU,GAAG,YAAY;AACzB,UAAIC,KAAK,GAAG5B,UAAU,CAACc,qBAAX,GAAmCc,KAA/C;AACA1B,MAAAA,eAAe,CAAC2B,OAAhB,GAA0BC,UAAU,CAACH,UAAD,EAAarC,kBAAb,CAApC;AACAmC,MAAAA,iBAAiB,CAACG,KAAK,GAAGrC,mBAAT,CAAjB;AACAsB,MAAAA,YAAY,CAACkB,UAAb,IAA2BxC,mBAA3B;AACH,KALD;;AAMA,QAAIyC,WAAW,GAAG,UAAUC,KAAV,EAAiB;AAC/BC,MAAAA,YAAY,CAAChC,eAAe,CAAC2B,OAAjB,CAAZ;AACA,UAAIM,MAAM,GAAGF,KAAK,CAACG,KAAnB;;AACA,UAAID,MAAM,GAAGlB,SAAb,EAAwB;AACpBf,QAAAA,eAAe,CAAC2B,OAAhB,GAA0BC,UAAU,CAACH,UAAD,EAAatC,oBAAb,CAApC;AACH,OAFD,MAGK,IAAI8C,MAAM,GAAGpB,QAAb,EAAuB;AACxB,YAAIsB,QAAQ,GAAGrC,UAAU,CAACc,qBAAX,GAAmCE,IAAlD;AACA,YAAIU,QAAQ,GAAGS,MAAM,GAAGE,QAAxB;AACAZ,QAAAA,iBAAiB,CAACC,QAAD,CAAjB;AACH;AACJ,KAXD;;AAYA,QAAIY,SAAS,GAAG,YAAY;AACxBxC,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAK,MAAAA,cAAc;AACd+B,MAAAA,YAAY,CAAChC,eAAe,CAAC2B,OAAjB,CAAZ;AACH,KAJD;;AAKAV,IAAAA,qBAAqB,CAACnB,UAAU,CAACc,qBAAX,GAAmCI,KAApC,CAArB;AACAqB,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4BtD,MAAM,CAAC,eAAD,CAAlC;AACAmD,IAAAA,QAAQ,CAACI,gBAAT,CAA0B,WAA1B,EAAuCX,WAAvC;AACAO,IAAAA,QAAQ,CAACI,gBAAT,CAA0B,SAA1B,EAAqCL,SAArC;AACA,WAAO,YAAY;AACfJ,MAAAA,YAAY,CAAChC,eAAe,CAAC2B,OAAjB,CAAZ;AACAU,MAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBG,MAAxB,CAA+BxD,MAAM,CAAC,eAAD,CAArC;AACAmD,MAAAA,QAAQ,CAACM,mBAAT,CAA6B,WAA7B,EAA0Cb,WAA1C;AACAO,MAAAA,QAAQ,CAACM,mBAAT,CAA6B,SAA7B,EAAwCP,SAAxC;AACH,KALD;AAMH,GAnDQ,EAmDN,CAACtC,UAAD,EAAaH,UAAb,EAAyBO,YAAzB,EAAuCD,cAAvC,CAnDM,CAAT;AAoDA,SAAQvB,KAAK,CAACkE,aAAN,CAAoB,MAApB,EAA4B;AAAEvC,IAAAA,SAAS,EAAE5B,IAAI,CAACS,MAAM,CAAC2D,OAAR,EAAiBlD,UAAU,IAAIT,MAAM,CAAC,gBAAD,CAArC,CAAjB;AAA2E4D,IAAAA,WAAW,EAAE,UAAUf,KAAV,EAAiB;AACrI,UAAIA,KAAK,CAACgB,MAAN,KAAiB,CAArB,EAAwB;AACpB;AACH;;AACDhB,MAAAA,KAAK,CAACiB,cAAN;AACA,UAAIlD,UAAU,GAAGd,WAAW,CAAC+C,KAAK,CAACkB,aAAP,EAAsB,UAAU7C,OAAV,EAAmB;AAAE,eAAOA,OAAO,CAAC8C,OAAR,CAAgBC,WAAhB,OAAkC,IAAzC;AAAgD,OAA3F,CAA5B;AACAvD,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAG,MAAAA,aAAa,CAACD,UAAD,CAAb;AACH;AAR+B,GAA5B,CAAR;AASH;AACD,OAAO,SAASsD,aAAT,GAAyB;AAC5B,SAAO1E,KAAK,CAACkE,aAAN,CAAoB,MAApB,EAA4B;AAAEvC,IAAAA,SAAS,EAAEnB,MAAM,CAACwB;AAApB,GAA5B,CAAP;AACH","sourcesContent":["import clsx from 'clsx';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useStableEventHandler } from '../../internal/hooks/use-stable-event-handler';\nimport { getOverflowParents } from '../../internal/utils/scrollable-containers';\nimport { findUpUntil } from '../../internal/utils/dom';\nimport tableStyles from '../styles.css.js';\nimport styles from './styles.css.js';\nvar AUTO_GROW_START_TIME = 10;\nvar AUTO_GROW_INTERVAL = 10;\nvar AUTO_GROW_INCREMENT = 5;\nexport function Resizer(_a) {\n    var onDragMove = _a.onDragMove, onFinish = _a.onFinish;\n    var _b = useState(false), isDragging = _b[0], setIsDragging = _b[1];\n    var _c = useState(), headerCell = _c[0], setHeaderCell = _c[1];\n    var autoGrowTimeout = useRef();\n    var onFinishStable = useStableEventHandler(onFinish);\n    var onDragStable = useStableEventHandler(onDragMove);\n    useEffect(function () {\n        if (!isDragging || !headerCell) {\n            return;\n        }\n        var rootElement = findUpUntil(headerCell, function (element) { return element.className.indexOf(tableStyles.root) > -1; });\n        var tableElement = rootElement.querySelector(\"table\");\n        var tracker = rootElement.querySelector(\".\" + styles.tracker);\n        var scrollParent = getOverflowParents(headerCell)[0];\n        var _a = scrollParent.getBoundingClientRect(), leftEdge = _a.left, rightEdge = _a.right;\n        var updateTrackerPosition = function (newOffset) {\n            var scrollParentLeft = tableElement.getBoundingClientRect().left;\n            tracker.style.top = headerCell.getBoundingClientRect().height + 'px';\n            tracker.style.left = newOffset - scrollParentLeft - 1 + 'px';\n        };\n        var updateColumnWidth = function (newWidth) {\n            onDragStable(newWidth);\n            updateTrackerPosition(headerCell.getBoundingClientRect().right);\n        };\n        var onAutoGrow = function () {\n            var width = headerCell.getBoundingClientRect().width;\n            autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_INTERVAL);\n            updateColumnWidth(width + AUTO_GROW_INCREMENT);\n            scrollParent.scrollLeft += AUTO_GROW_INCREMENT;\n        };\n        var onMouseMove = function (event) {\n            clearTimeout(autoGrowTimeout.current);\n            var offset = event.pageX;\n            if (offset > rightEdge) {\n                autoGrowTimeout.current = setTimeout(onAutoGrow, AUTO_GROW_START_TIME);\n            }\n            else if (offset > leftEdge) {\n                var cellLeft = headerCell.getBoundingClientRect().left;\n                var newWidth = offset - cellLeft;\n                updateColumnWidth(newWidth);\n            }\n        };\n        var onMouseUp = function () {\n            setIsDragging(false);\n            onFinishStable();\n            clearTimeout(autoGrowTimeout.current);\n        };\n        updateTrackerPosition(headerCell.getBoundingClientRect().right);\n        document.body.classList.add(styles['resize-active']);\n        document.addEventListener('mousemove', onMouseMove);\n        document.addEventListener('mouseup', onMouseUp);\n        return function () {\n            clearTimeout(autoGrowTimeout.current);\n            document.body.classList.remove(styles['resize-active']);\n            document.removeEventListener('mousemove', onMouseMove);\n            document.removeEventListener('mouseup', onMouseUp);\n        };\n    }, [headerCell, isDragging, onDragStable, onFinishStable]);\n    return (React.createElement(\"span\", { className: clsx(styles.resizer, isDragging && styles['resizer-active']), onMouseDown: function (event) {\n            if (event.button !== 0) {\n                return;\n            }\n            event.preventDefault();\n            var headerCell = findUpUntil(event.currentTarget, function (element) { return element.tagName.toLowerCase() === 'th'; });\n            setIsDragging(true);\n            setHeaderCell(headerCell);\n        } }));\n}\nexport function ResizeTracker() {\n    return React.createElement(\"span\", { className: styles.tracker });\n}\n"]},"metadata":{},"sourceType":"module"}