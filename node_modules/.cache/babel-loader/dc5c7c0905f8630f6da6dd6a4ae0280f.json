{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nimport { isItemGroup } from './utils';\nexport default function createItemsTree(items) {\n  var itemToIndex = new Map();\n  var indexToItem = new Map();\n  var flatIndices = [];\n  traverseItems(items, function (item, index) {\n    var indexKey = stringifyIndex(index);\n    itemToIndex.set(item, indexKey);\n    indexToItem.set(indexKey, item);\n    flatIndices.push(indexKey);\n  });\n  return {\n    getItem: function (index) {\n      var indexKey = stringifyIndex(index);\n      return indexToItem.get(indexKey) || null;\n    },\n    getItemIndex: function (item) {\n      var indexKey = itemToIndex.get(item);\n\n      if (!indexKey) {\n        throw new Error('Invariant violation: item is not found.');\n      }\n\n      return parseIndex(indexKey);\n    },\n    getSequentialIndex: function (index, direction) {\n      var indexKey = stringifyIndex(index);\n      var position = flatIndices.indexOf(indexKey);\n      var nextIndexKey = flatIndices[position + direction];\n\n      if (!nextIndexKey) {\n        return null;\n      }\n\n      return parseIndex(nextIndexKey);\n    },\n    getParentIndex: function (item) {\n      var indexKey = itemToIndex.get(item);\n\n      if (!indexKey) {\n        throw new Error('Invariant violation: item is not found.');\n      }\n\n      var index = parseIndex(indexKey);\n\n      if (index.length === 1) {\n        return null;\n      }\n\n      return index.slice(0, index.length - 1);\n    }\n  };\n}\n\nfunction traverseItems(items, act, parentIndex) {\n  if (parentIndex === void 0) {\n    parentIndex = [];\n  }\n\n  items.forEach(function (item, index) {\n    var itemIndex = __spreadArray(__spreadArray([], parentIndex, true), [index], false);\n\n    act(item, itemIndex);\n\n    if (isItemGroup(item)) {\n      traverseItems(item.items, act, itemIndex);\n    }\n  });\n}\n\nfunction stringifyIndex(index) {\n  return index.join('-');\n}\n\nfunction parseIndex(index) {\n  return index.split('-').map(function (it) {\n    return parseInt(it);\n  });\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/button-dropdown/utils/create-items-tree.js"],"names":["__spreadArray","isItemGroup","createItemsTree","items","itemToIndex","Map","indexToItem","flatIndices","traverseItems","item","index","indexKey","stringifyIndex","set","push","getItem","get","getItemIndex","Error","parseIndex","getSequentialIndex","direction","position","indexOf","nextIndexKey","getParentIndex","length","slice","act","parentIndex","forEach","itemIndex","join","split","map","it","parseInt"],"mappings":"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","sourcesContent":["import { __spreadArray } from \"tslib\";\nimport { isItemGroup } from './utils';\nexport default function createItemsTree(items) {\n    var itemToIndex = new Map();\n    var indexToItem = new Map();\n    var flatIndices = [];\n    traverseItems(items, function (item, index) {\n        var indexKey = stringifyIndex(index);\n        itemToIndex.set(item, indexKey);\n        indexToItem.set(indexKey, item);\n        flatIndices.push(indexKey);\n    });\n    return {\n        getItem: function (index) {\n            var indexKey = stringifyIndex(index);\n            return indexToItem.get(indexKey) || null;\n        },\n        getItemIndex: function (item) {\n            var indexKey = itemToIndex.get(item);\n            if (!indexKey) {\n                throw new Error('Invariant violation: item is not found.');\n            }\n            return parseIndex(indexKey);\n        },\n        getSequentialIndex: function (index, direction) {\n            var indexKey = stringifyIndex(index);\n            var position = flatIndices.indexOf(indexKey);\n            var nextIndexKey = flatIndices[position + direction];\n            if (!nextIndexKey) {\n                return null;\n            }\n            return parseIndex(nextIndexKey);\n        },\n        getParentIndex: function (item) {\n            var indexKey = itemToIndex.get(item);\n            if (!indexKey) {\n                throw new Error('Invariant violation: item is not found.');\n            }\n            var index = parseIndex(indexKey);\n            if (index.length === 1) {\n                return null;\n            }\n            return index.slice(0, index.length - 1);\n        }\n    };\n}\nfunction traverseItems(items, act, parentIndex) {\n    if (parentIndex === void 0) { parentIndex = []; }\n    items.forEach(function (item, index) {\n        var itemIndex = __spreadArray(__spreadArray([], parentIndex, true), [index], false);\n        act(item, itemIndex);\n        if (isItemGroup(item)) {\n            traverseItems(item.items, act, itemIndex);\n        }\n    });\n}\nfunction stringifyIndex(index) {\n    return index.join('-');\n}\nfunction parseIndex(index) {\n    return index.split('-').map(function (it) { return parseInt(it); });\n}\n"]},"metadata":{},"sourceType":"module"}