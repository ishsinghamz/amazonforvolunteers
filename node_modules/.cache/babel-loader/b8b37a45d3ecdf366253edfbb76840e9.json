{"ast":null,"code":"import { useRef } from 'react';\nimport { generateUniqueId } from '../../internal/hooks/use-unique-id';\nimport defaultOptionDescription from '../../internal/components/option/option-announcer';\nimport { getParentGroup } from '../controller';\nexport var useItemLabel = function (highlightedOption) {\n  var prevAnnouncedGroup = useRef(undefined);\n\n  if (!highlightedOption) {\n    prevAnnouncedGroup.current = undefined;\n    return '';\n  }\n\n  var parentGroup;\n  var currentParentGroup = getParentGroup(highlightedOption);\n\n  if (currentParentGroup !== prevAnnouncedGroup.current) {\n    prevAnnouncedGroup.current = currentParentGroup;\n    parentGroup = currentParentGroup;\n  }\n\n  return defaultOptionDescription(highlightedOption, parentGroup);\n};\nexport var useDropdownA11yProps = function (listId, expanded, inputAriaLabel, highlightedOption) {\n  var itemProps = {};\n  var inputProps = {\n    role: 'combobox',\n    'aria-autocomplete': 'list',\n    'aria-expanded': expanded,\n    'aria-controls': listId\n  };\n\n  if (inputAriaLabel) {\n    inputProps['aria-label'] = inputAriaLabel;\n  }\n\n  var itemAriaLabel = useItemLabel(highlightedOption);\n\n  if (highlightedOption) {\n    var id = generateUniqueId();\n    itemProps.id = id;\n    inputProps['aria-activedescendant'] = id;\n\n    if (itemAriaLabel) {\n      itemProps['aria-label'] = itemAriaLabel;\n    }\n  }\n\n  return [inputProps, itemProps];\n};","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/autosuggest/hooks/a11y.js"],"names":["useRef","generateUniqueId","defaultOptionDescription","getParentGroup","useItemLabel","highlightedOption","prevAnnouncedGroup","undefined","current","parentGroup","currentParentGroup","useDropdownA11yProps","listId","expanded","inputAriaLabel","itemProps","inputProps","role","itemAriaLabel","id"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SAASC,gBAAT,QAAiC,oCAAjC;AACA,OAAOC,wBAAP,MAAqC,mDAArC;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAO,IAAIC,YAAY,GAAG,UAAUC,iBAAV,EAA6B;AACnD,MAAIC,kBAAkB,GAAGN,MAAM,CAACO,SAAD,CAA/B;;AACA,MAAI,CAACF,iBAAL,EAAwB;AACpBC,IAAAA,kBAAkB,CAACE,OAAnB,GAA6BD,SAA7B;AACA,WAAO,EAAP;AACH;;AACD,MAAIE,WAAJ;AACA,MAAIC,kBAAkB,GAAGP,cAAc,CAACE,iBAAD,CAAvC;;AACA,MAAIK,kBAAkB,KAAKJ,kBAAkB,CAACE,OAA9C,EAAuD;AACnDF,IAAAA,kBAAkB,CAACE,OAAnB,GAA6BE,kBAA7B;AACAD,IAAAA,WAAW,GAAGC,kBAAd;AACH;;AACD,SAAOR,wBAAwB,CAACG,iBAAD,EAAoBI,WAApB,CAA/B;AACH,CAbM;AAcP,OAAO,IAAIE,oBAAoB,GAAG,UAAUC,MAAV,EAAkBC,QAAlB,EAA4BC,cAA5B,EAA4CT,iBAA5C,EAA+D;AAC7F,MAAIU,SAAS,GAAG,EAAhB;AACA,MAAIC,UAAU,GAAG;AACbC,IAAAA,IAAI,EAAE,UADO;AAEb,yBAAqB,MAFR;AAGb,qBAAiBJ,QAHJ;AAIb,qBAAiBD;AAJJ,GAAjB;;AAMA,MAAIE,cAAJ,EAAoB;AAChBE,IAAAA,UAAU,CAAC,YAAD,CAAV,GAA2BF,cAA3B;AACH;;AACD,MAAII,aAAa,GAAGd,YAAY,CAACC,iBAAD,CAAhC;;AACA,MAAIA,iBAAJ,EAAuB;AACnB,QAAIc,EAAE,GAAGlB,gBAAgB,EAAzB;AACAc,IAAAA,SAAS,CAACI,EAAV,GAAeA,EAAf;AACAH,IAAAA,UAAU,CAAC,uBAAD,CAAV,GAAsCG,EAAtC;;AACA,QAAID,aAAJ,EAAmB;AACfH,MAAAA,SAAS,CAAC,YAAD,CAAT,GAA0BG,aAA1B;AACH;AACJ;;AACD,SAAO,CAACF,UAAD,EAAaD,SAAb,CAAP;AACH,CArBM","sourcesContent":["import { useRef } from 'react';\nimport { generateUniqueId } from '../../internal/hooks/use-unique-id';\nimport defaultOptionDescription from '../../internal/components/option/option-announcer';\nimport { getParentGroup } from '../controller';\nexport var useItemLabel = function (highlightedOption) {\n    var prevAnnouncedGroup = useRef(undefined);\n    if (!highlightedOption) {\n        prevAnnouncedGroup.current = undefined;\n        return '';\n    }\n    var parentGroup;\n    var currentParentGroup = getParentGroup(highlightedOption);\n    if (currentParentGroup !== prevAnnouncedGroup.current) {\n        prevAnnouncedGroup.current = currentParentGroup;\n        parentGroup = currentParentGroup;\n    }\n    return defaultOptionDescription(highlightedOption, parentGroup);\n};\nexport var useDropdownA11yProps = function (listId, expanded, inputAriaLabel, highlightedOption) {\n    var itemProps = {};\n    var inputProps = {\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-expanded': expanded,\n        'aria-controls': listId\n    };\n    if (inputAriaLabel) {\n        inputProps['aria-label'] = inputAriaLabel;\n    }\n    var itemAriaLabel = useItemLabel(highlightedOption);\n    if (highlightedOption) {\n        var id = generateUniqueId();\n        itemProps.id = id;\n        inputProps['aria-activedescendant'] = id;\n        if (itemAriaLabel) {\n            itemProps['aria-label'] = itemAriaLabel;\n        }\n    }\n    return [inputProps, itemProps];\n};\n"]},"metadata":{},"sourceType":"module"}