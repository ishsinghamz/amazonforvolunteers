{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nimport { useSelector } from '../model/async-store';\nexport default function useHighlightDetails(_a) {\n  var model = _a.model,\n      xTickFormatter = _a.xTickFormatter,\n      yTickFormatter = _a.yTickFormatter,\n      detailTotalFormatter = _a.detailTotalFormatter,\n      detailTotalLabel = _a.detailTotalLabel;\n  var hX = useSelector(model.interactions, function (state) {\n    return state.highlightedX;\n  });\n  var hPoint = useSelector(model.interactions, function (state) {\n    return state.highlightedPoint;\n  });\n  var isPopoverPinned = useSelector(model.interactions, function (state) {\n    return state.isPopoverPinned;\n  });\n\n  if (!hX) {\n    return null;\n  }\n\n  var firstPoint = hX[0];\n  var highlightIndex = firstPoint.index.x;\n\n  var seriesPoints = __spreadArray([], model.computed.plot.xs[highlightIndex], true);\n\n  var detailsTotal = seriesPoints.reduce(function (total, point) {\n    return total + point.value;\n  }, 0);\n  var formattedX = xTickFormatter ? xTickFormatter(firstPoint.x) : firstPoint.x.toString();\n  var seriesTitle = hPoint ? getInternalSeries(hPoint).title : '';\n  var formattedY = hPoint ? getInternalSeries(hPoint).formatValue(hPoint.value, hPoint.x) : '';\n  var seriesDetails = seriesPoints.map(function (point) {\n    var _a = getInternalSeries(point),\n        title = _a.title,\n        formatValue = _a.formatValue,\n        color = _a.color,\n        markerType = _a.markerType;\n\n    var isDimmed = Boolean(hPoint) && point !== hPoint;\n    return {\n      key: title,\n      value: formatValue(point.value, point.x),\n      color: color,\n      markerType: markerType,\n      isDimmed: isDimmed\n    };\n  });\n  var totalDetails = [{\n    key: detailTotalLabel || '',\n    value: detailTotalFormatter ? detailTotalFormatter(detailsTotal) : yTickFormatter ? yTickFormatter(detailsTotal) : detailsTotal\n  }];\n  var pointDetails = hPoint ? seriesDetails[hPoint.index.s] : null;\n  var activeLabel = seriesTitle + \" \" + formattedX + \" \" + formattedY + \", \" + totalDetails[0].key + \" \" + totalDetails[0].value;\n  return {\n    isPopoverPinned: isPopoverPinned,\n    highlightIndex: highlightIndex,\n    formattedX: formattedX,\n    seriesTitle: seriesTitle,\n    formattedY: formattedY,\n    activeLabel: activeLabel,\n    seriesDetails: seriesDetails,\n    totalDetails: totalDetails,\n    pointDetails: pointDetails\n  };\n\n  function getInternalSeries(point) {\n    return model.getInternalSeries(model.series[point.index.s]);\n  }\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/area-chart/elements/use-highlight-details.js"],"names":["__spreadArray","useSelector","useHighlightDetails","_a","model","xTickFormatter","yTickFormatter","detailTotalFormatter","detailTotalLabel","hX","interactions","state","highlightedX","hPoint","highlightedPoint","isPopoverPinned","firstPoint","highlightIndex","index","x","seriesPoints","computed","plot","xs","detailsTotal","reduce","total","point","value","formattedX","toString","seriesTitle","getInternalSeries","title","formattedY","formatValue","seriesDetails","map","color","markerType","isDimmed","Boolean","key","totalDetails","pointDetails","s","activeLabel","series"],"mappings":"AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,eAAe,SAASC,mBAAT,CAA6BC,EAA7B,EAAiC;AAC5C,MAAIC,KAAK,GAAGD,EAAE,CAACC,KAAf;AAAA,MAAsBC,cAAc,GAAGF,EAAE,CAACE,cAA1C;AAAA,MAA0DC,cAAc,GAAGH,EAAE,CAACG,cAA9E;AAAA,MAA8FC,oBAAoB,GAAGJ,EAAE,CAACI,oBAAxH;AAAA,MAA8IC,gBAAgB,GAAGL,EAAE,CAACK,gBAApK;AACA,MAAIC,EAAE,GAAGR,WAAW,CAACG,KAAK,CAACM,YAAP,EAAqB,UAAUC,KAAV,EAAiB;AAAE,WAAOA,KAAK,CAACC,YAAb;AAA4B,GAApE,CAApB;AACA,MAAIC,MAAM,GAAGZ,WAAW,CAACG,KAAK,CAACM,YAAP,EAAqB,UAAUC,KAAV,EAAiB;AAAE,WAAOA,KAAK,CAACG,gBAAb;AAAgC,GAAxE,CAAxB;AACA,MAAIC,eAAe,GAAGd,WAAW,CAACG,KAAK,CAACM,YAAP,EAAqB,UAAUC,KAAV,EAAiB;AAAE,WAAOA,KAAK,CAACI,eAAb;AAA+B,GAAvE,CAAjC;;AACA,MAAI,CAACN,EAAL,EAAS;AACL,WAAO,IAAP;AACH;;AACD,MAAIO,UAAU,GAAGP,EAAE,CAAC,CAAD,CAAnB;AACA,MAAIQ,cAAc,GAAGD,UAAU,CAACE,KAAX,CAAiBC,CAAtC;;AACA,MAAIC,YAAY,GAAGpB,aAAa,CAAC,EAAD,EAAKI,KAAK,CAACiB,QAAN,CAAeC,IAAf,CAAoBC,EAApB,CAAuBN,cAAvB,CAAL,EAA6C,IAA7C,CAAhC;;AACA,MAAIO,YAAY,GAAGJ,YAAY,CAACK,MAAb,CAAoB,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB;AAAE,WAAOD,KAAK,GAAGC,KAAK,CAACC,KAArB;AAA6B,GAA3E,EAA6E,CAA7E,CAAnB;AACA,MAAIC,UAAU,GAAGxB,cAAc,GAAGA,cAAc,CAACW,UAAU,CAACG,CAAZ,CAAjB,GAAkCH,UAAU,CAACG,CAAX,CAAaW,QAAb,EAAjE;AACA,MAAIC,WAAW,GAAGlB,MAAM,GAAGmB,iBAAiB,CAACnB,MAAD,CAAjB,CAA0BoB,KAA7B,GAAqC,EAA7D;AACA,MAAIC,UAAU,GAAGrB,MAAM,GAAGmB,iBAAiB,CAACnB,MAAD,CAAjB,CAA0BsB,WAA1B,CAAsCtB,MAAM,CAACe,KAA7C,EAAoDf,MAAM,CAACM,CAA3D,CAAH,GAAmE,EAA1F;AACA,MAAIiB,aAAa,GAAGhB,YAAY,CAACiB,GAAb,CAAiB,UAAUV,KAAV,EAAiB;AAClD,QAAIxB,EAAE,GAAG6B,iBAAiB,CAACL,KAAD,CAA1B;AAAA,QAAmCM,KAAK,GAAG9B,EAAE,CAAC8B,KAA9C;AAAA,QAAqDE,WAAW,GAAGhC,EAAE,CAACgC,WAAtE;AAAA,QAAmFG,KAAK,GAAGnC,EAAE,CAACmC,KAA9F;AAAA,QAAqGC,UAAU,GAAGpC,EAAE,CAACoC,UAArH;;AACA,QAAIC,QAAQ,GAAGC,OAAO,CAAC5B,MAAD,CAAP,IAAmBc,KAAK,KAAKd,MAA5C;AACA,WAAO;AAAE6B,MAAAA,GAAG,EAAET,KAAP;AAAcL,MAAAA,KAAK,EAAEO,WAAW,CAACR,KAAK,CAACC,KAAP,EAAcD,KAAK,CAACR,CAApB,CAAhC;AAAwDmB,MAAAA,KAAK,EAAEA,KAA/D;AAAsEC,MAAAA,UAAU,EAAEA,UAAlF;AAA8FC,MAAAA,QAAQ,EAAEA;AAAxG,KAAP;AACH,GAJmB,CAApB;AAKA,MAAIG,YAAY,GAAG,CACf;AACID,IAAAA,GAAG,EAAElC,gBAAgB,IAAI,EAD7B;AAEIoB,IAAAA,KAAK,EAAErB,oBAAoB,GACrBA,oBAAoB,CAACiB,YAAD,CADC,GAErBlB,cAAc,GACVA,cAAc,CAACkB,YAAD,CADJ,GAEVA;AANd,GADe,CAAnB;AAUA,MAAIoB,YAAY,GAAG/B,MAAM,GAAGuB,aAAa,CAACvB,MAAM,CAACK,KAAP,CAAa2B,CAAd,CAAhB,GAAmC,IAA5D;AACA,MAAIC,WAAW,GAAGf,WAAW,GAAG,GAAd,GAAoBF,UAApB,GAAiC,GAAjC,GAAuCK,UAAvC,GAAoD,IAApD,GAA2DS,YAAY,CAAC,CAAD,CAAZ,CAAgBD,GAA3E,GAAiF,GAAjF,GAAuFC,YAAY,CAAC,CAAD,CAAZ,CAAgBf,KAAzH;AACA,SAAO;AACHb,IAAAA,eAAe,EAAEA,eADd;AAEHE,IAAAA,cAAc,EAAEA,cAFb;AAGHY,IAAAA,UAAU,EAAEA,UAHT;AAIHE,IAAAA,WAAW,EAAEA,WAJV;AAKHG,IAAAA,UAAU,EAAEA,UALT;AAMHY,IAAAA,WAAW,EAAEA,WANV;AAOHV,IAAAA,aAAa,EAAEA,aAPZ;AAQHO,IAAAA,YAAY,EAAEA,YARX;AASHC,IAAAA,YAAY,EAAEA;AATX,GAAP;;AAWA,WAASZ,iBAAT,CAA2BL,KAA3B,EAAkC;AAC9B,WAAOvB,KAAK,CAAC4B,iBAAN,CAAwB5B,KAAK,CAAC2C,MAAN,CAAapB,KAAK,CAACT,KAAN,CAAY2B,CAAzB,CAAxB,CAAP;AACH;AACJ","sourcesContent":["import { __spreadArray } from \"tslib\";\nimport { useSelector } from '../model/async-store';\nexport default function useHighlightDetails(_a) {\n    var model = _a.model, xTickFormatter = _a.xTickFormatter, yTickFormatter = _a.yTickFormatter, detailTotalFormatter = _a.detailTotalFormatter, detailTotalLabel = _a.detailTotalLabel;\n    var hX = useSelector(model.interactions, function (state) { return state.highlightedX; });\n    var hPoint = useSelector(model.interactions, function (state) { return state.highlightedPoint; });\n    var isPopoverPinned = useSelector(model.interactions, function (state) { return state.isPopoverPinned; });\n    if (!hX) {\n        return null;\n    }\n    var firstPoint = hX[0];\n    var highlightIndex = firstPoint.index.x;\n    var seriesPoints = __spreadArray([], model.computed.plot.xs[highlightIndex], true);\n    var detailsTotal = seriesPoints.reduce(function (total, point) { return total + point.value; }, 0);\n    var formattedX = xTickFormatter ? xTickFormatter(firstPoint.x) : firstPoint.x.toString();\n    var seriesTitle = hPoint ? getInternalSeries(hPoint).title : '';\n    var formattedY = hPoint ? getInternalSeries(hPoint).formatValue(hPoint.value, hPoint.x) : '';\n    var seriesDetails = seriesPoints.map(function (point) {\n        var _a = getInternalSeries(point), title = _a.title, formatValue = _a.formatValue, color = _a.color, markerType = _a.markerType;\n        var isDimmed = Boolean(hPoint) && point !== hPoint;\n        return { key: title, value: formatValue(point.value, point.x), color: color, markerType: markerType, isDimmed: isDimmed };\n    });\n    var totalDetails = [\n        {\n            key: detailTotalLabel || '',\n            value: detailTotalFormatter\n                ? detailTotalFormatter(detailsTotal)\n                : yTickFormatter\n                    ? yTickFormatter(detailsTotal)\n                    : detailsTotal\n        },\n    ];\n    var pointDetails = hPoint ? seriesDetails[hPoint.index.s] : null;\n    var activeLabel = seriesTitle + \" \" + formattedX + \" \" + formattedY + \", \" + totalDetails[0].key + \" \" + totalDetails[0].value;\n    return {\n        isPopoverPinned: isPopoverPinned,\n        highlightIndex: highlightIndex,\n        formattedX: formattedX,\n        seriesTitle: seriesTitle,\n        formattedY: formattedY,\n        activeLabel: activeLabel,\n        seriesDetails: seriesDetails,\n        totalDetails: totalDetails,\n        pointDetails: pointDetails\n    };\n    function getInternalSeries(point) {\n        return model.getInternalSeries(model.series[point.index.s]);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}