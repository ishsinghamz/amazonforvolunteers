{"ast":null,"code":"import { __assign } from \"tslib\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useCollection } from '@awsui/collection-hooks';\nimport { InternalButton } from '../../button/internal';\nimport InternalHeader from '../../header/internal';\nimport InternalPagination from '../../pagination/internal';\nimport InternalTable from '../../table/internal';\nimport InternalTextFilter from '../../text-filter/internal';\nimport useForwardFocus from '../../internal/hooks/forward-focus';\nimport { useStableEventHandler } from '../../internal/hooks/use-stable-event-handler';\nimport { EmptyState } from './empty-state';\nexport function getSharedI18Strings(i18nStrings) {\n  return {\n    filteringCounterText: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filteringCounterText,\n    labelRefresh: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.labelRefresh,\n    labelsPagination: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.labelsPagination,\n    noMatchTitle: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filteringNoMatches,\n    noMatchSubtitle: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filteringCantFindMatch,\n    clearFilterButtonText: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.clearFilterButtonText\n  };\n}\nexport function BasicS3Table(_a) {\n  var _b;\n\n  var forwardFocusRef = _a.forwardFocusRef,\n      columnDefinitions = _a.columnDefinitions,\n      fetchData = _a.fetchData,\n      trackBy = _a.trackBy,\n      _c = _a.i18nStrings,\n      i18nStrings = _c === void 0 ? {} : _c,\n      isVisualRefresh = _a.isVisualRefresh,\n      visibleColumns = _a.visibleColumns,\n      isItemDisabled = _a.isItemDisabled,\n      onSelect = _a.onSelect;\n\n  var _d = useState(false),\n      loading = _d[0],\n      setLoading = _d[1];\n\n  var _e = useState([]),\n      allItems = _e[0],\n      setAllItems = _e[1];\n\n  var textFilterRef = useRef(null);\n  var onSelectLatest = useStableEventHandler(onSelect);\n\n  function loadData() {\n    setLoading(true);\n    fetchData().then(function (items) {\n      setAllItems(items);\n      setLoading(false);\n    })[\"catch\"](function () {\n      setLoading(false);\n    });\n  }\n\n  useEffect(function () {\n    loadData();\n  }, []);\n  useForwardFocus(forwardFocusRef, textFilterRef);\n\n  var _f = useCollection(allItems, {\n    selection: {\n      trackBy: trackBy\n    },\n    filtering: {\n      empty: i18nStrings.emptyText,\n      noMatch: React.createElement(EmptyState, {\n        title: i18nStrings.noMatchTitle,\n        subtitle: i18nStrings.noMatchSubtitle,\n        action: React.createElement(InternalButton, {\n          onClick: function () {\n            return actions.setFiltering('');\n          }\n        }, i18nStrings.clearFilterButtonText)\n      })\n    },\n    pagination: {},\n    sorting: {}\n  }),\n      items = _f.items,\n      filteredItemsCount = _f.filteredItemsCount,\n      collectionProps = _f.collectionProps,\n      filterProps = _f.filterProps,\n      paginationProps = _f.paginationProps,\n      actions = _f.actions;\n\n  var selectedItem = (_b = collectionProps.selectedItems) === null || _b === void 0 ? void 0 : _b[0];\n  useEffect(function () {\n    onSelectLatest(selectedItem);\n  }, [selectedItem, onSelectLatest]);\n  return React.createElement(InternalTable, __assign({\n    variant: \"embedded\"\n  }, collectionProps, {\n    header: React.createElement(InternalHeader, {\n      variant: isVisualRefresh ? 'h3' : 'h2',\n      actions: React.createElement(InternalButton, {\n        iconName: \"refresh\",\n        ariaLabel: i18nStrings.labelRefresh,\n        onClick: loadData\n      }),\n      counter: selectedItem ? \"(1/\" + allItems.length + \")\" : \"(\" + allItems.length + \")\"\n    }, i18nStrings.header),\n    trackBy: trackBy,\n    filter: React.createElement(InternalTextFilter, __assign({}, filterProps, {\n      ref: textFilterRef,\n      filteringAriaLabel: i18nStrings.filteringAriaLabel,\n      filteringPlaceholder: i18nStrings.filteringPlaceholder,\n      countText: i18nStrings.filteringCounterText ? i18nStrings.filteringCounterText(filteredItemsCount) : ''\n    })),\n    pagination: React.createElement(InternalPagination, __assign({}, paginationProps, {\n      ariaLabels: i18nStrings.labelsPagination\n    })),\n    selectionType: \"single\",\n    ariaLabels: i18nStrings.selectionLabels,\n    loading: loading,\n    loadingText: i18nStrings.loadingText,\n    items: items,\n    visibleColumns: visibleColumns,\n    isItemDisabled: isItemDisabled,\n    columnDefinitions: columnDefinitions\n  }));\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/s3-resource-selector/s3-modal/basic-table.js"],"names":["__assign","React","useEffect","useState","useRef","useCollection","InternalButton","InternalHeader","InternalPagination","InternalTable","InternalTextFilter","useForwardFocus","useStableEventHandler","EmptyState","getSharedI18Strings","i18nStrings","filteringCounterText","labelRefresh","labelsPagination","noMatchTitle","filteringNoMatches","noMatchSubtitle","filteringCantFindMatch","clearFilterButtonText","BasicS3Table","_a","_b","forwardFocusRef","columnDefinitions","fetchData","trackBy","_c","isVisualRefresh","visibleColumns","isItemDisabled","onSelect","_d","loading","setLoading","_e","allItems","setAllItems","textFilterRef","onSelectLatest","loadData","then","items","_f","selection","filtering","empty","emptyText","noMatch","createElement","title","subtitle","action","onClick","actions","setFiltering","pagination","sorting","filteredItemsCount","collectionProps","filterProps","paginationProps","selectedItem","selectedItems","variant","header","iconName","ariaLabel","counter","length","filter","ref","filteringAriaLabel","filteringPlaceholder","countText","ariaLabels","selectionType","selectionLabels","loadingText"],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useCollection } from '@awsui/collection-hooks';\nimport { InternalButton } from '../../button/internal';\nimport InternalHeader from '../../header/internal';\nimport InternalPagination from '../../pagination/internal';\nimport InternalTable from '../../table/internal';\nimport InternalTextFilter from '../../text-filter/internal';\nimport useForwardFocus from '../../internal/hooks/forward-focus';\nimport { useStableEventHandler } from '../../internal/hooks/use-stable-event-handler';\nimport { EmptyState } from './empty-state';\nexport function getSharedI18Strings(i18nStrings) {\n    return {\n        filteringCounterText: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filteringCounterText,\n        labelRefresh: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.labelRefresh,\n        labelsPagination: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.labelsPagination,\n        noMatchTitle: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filteringNoMatches,\n        noMatchSubtitle: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filteringCantFindMatch,\n        clearFilterButtonText: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.clearFilterButtonText\n    };\n}\nexport function BasicS3Table(_a) {\n    var _b;\n    var forwardFocusRef = _a.forwardFocusRef, columnDefinitions = _a.columnDefinitions, fetchData = _a.fetchData, trackBy = _a.trackBy, _c = _a.i18nStrings, i18nStrings = _c === void 0 ? {} : _c, isVisualRefresh = _a.isVisualRefresh, visibleColumns = _a.visibleColumns, isItemDisabled = _a.isItemDisabled, onSelect = _a.onSelect;\n    var _d = useState(false), loading = _d[0], setLoading = _d[1];\n    var _e = useState([]), allItems = _e[0], setAllItems = _e[1];\n    var textFilterRef = useRef(null);\n    var onSelectLatest = useStableEventHandler(onSelect);\n    function loadData() {\n        setLoading(true);\n        fetchData()\n            .then(function (items) {\n            setAllItems(items);\n            setLoading(false);\n        })[\"catch\"](function () {\n            setLoading(false);\n        });\n    }\n    useEffect(function () {\n        loadData();\n    }, []);\n    useForwardFocus(forwardFocusRef, textFilterRef);\n    var _f = useCollection(allItems, {\n        selection: { trackBy: trackBy },\n        filtering: {\n            empty: i18nStrings.emptyText,\n            noMatch: (React.createElement(EmptyState, { title: i18nStrings.noMatchTitle, subtitle: i18nStrings.noMatchSubtitle, action: React.createElement(InternalButton, { onClick: function () { return actions.setFiltering(''); } }, i18nStrings.clearFilterButtonText) }))\n        },\n        pagination: {},\n        sorting: {}\n    }), items = _f.items, filteredItemsCount = _f.filteredItemsCount, collectionProps = _f.collectionProps, filterProps = _f.filterProps, paginationProps = _f.paginationProps, actions = _f.actions;\n    var selectedItem = (_b = collectionProps.selectedItems) === null || _b === void 0 ? void 0 : _b[0];\n    useEffect(function () {\n        onSelectLatest(selectedItem);\n    }, [selectedItem, onSelectLatest]);\n    return (React.createElement(InternalTable, __assign({ variant: \"embedded\" }, collectionProps, { header: React.createElement(InternalHeader, { variant: isVisualRefresh ? 'h3' : 'h2', actions: React.createElement(InternalButton, { iconName: \"refresh\", ariaLabel: i18nStrings.labelRefresh, onClick: loadData }), counter: selectedItem ? \"(1/\" + allItems.length + \")\" : \"(\" + allItems.length + \")\" }, i18nStrings.header), trackBy: trackBy, filter: React.createElement(InternalTextFilter, __assign({}, filterProps, { ref: textFilterRef, filteringAriaLabel: i18nStrings.filteringAriaLabel, filteringPlaceholder: i18nStrings.filteringPlaceholder, countText: i18nStrings.filteringCounterText ? i18nStrings.filteringCounterText(filteredItemsCount) : '' })), pagination: React.createElement(InternalPagination, __assign({}, paginationProps, { ariaLabels: i18nStrings.labelsPagination })), selectionType: \"single\", ariaLabels: i18nStrings.selectionLabels, loading: loading, loadingText: i18nStrings.loadingText, items: items, visibleColumns: visibleColumns, isItemDisabled: isItemDisabled, columnDefinitions: columnDefinitions })));\n}\n"]},"metadata":{},"sourceType":"module"}