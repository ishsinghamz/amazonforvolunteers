{"ast":null,"code":"import { __assign, __spreadArray } from \"tslib\";\nimport React from 'react';\nimport InternalSpaceBetween from '../space-between/internal';\nimport InternalToggle from '../toggle/internal';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport styles from './styles.css.js';\n\nvar isVisible = function (id, visibleIds) {\n  return visibleIds.indexOf(id) !== -1;\n};\n\nvar className = function (suffix) {\n  return {\n    className: styles[\"visible-content-\" + suffix]\n  };\n};\n\nexport default function VisibleContentPreference(_a) {\n  var title = _a.title,\n      options = _a.options,\n      _b = _a.value,\n      value = _b === void 0 ? [] : _b,\n      onChange = _a.onChange;\n  var idPrefix = useUniqueId('visible-content');\n  var flatOptionsIds = options.reduce(function (ids, group) {\n    return __spreadArray(__spreadArray([], ids, true), group.options.reduce(function (groupIds, option) {\n      return __spreadArray(__spreadArray([], groupIds, true), [option.id], false);\n    }, []), true);\n  }, []);\n\n  var onToggle = function (id) {\n    if (!isVisible(id, value)) {\n      onChange(__spreadArray(__spreadArray([], value, true), [id], false).sort(function (firstId, secondId) {\n        return flatOptionsIds.indexOf(firstId) - flatOptionsIds.indexOf(secondId);\n      }));\n    } else {\n      onChange(value.filter(function (currentId) {\n        return currentId !== id;\n      }));\n    }\n  };\n\n  var selectionOption = function (option, optionGroupIndex, optionIndex) {\n    var labelId = idPrefix + \"-\" + optionGroupIndex + \"-\" + optionIndex;\n    return React.createElement(\"div\", __assign({\n      key: optionIndex\n    }, className('option')), React.createElement(\"label\", __assign({}, className('option-label'), {\n      htmlFor: labelId\n    }), option.label), React.createElement(\"div\", __assign({}, className('toggle')), React.createElement(InternalToggle, {\n      checked: isVisible(option.id, value),\n      onChange: function () {\n        return onToggle(option.id);\n      },\n      disabled: option.editable === false,\n      controlId: labelId\n    })));\n  };\n\n  var outerGroupLabelId = idPrefix + \"-outer\";\n  return React.createElement(\"div\", {\n    className: styles['visible-content']\n  }, React.createElement(\"div\", __assign({}, className('title'), {\n    id: outerGroupLabelId\n  }), title), React.createElement(InternalSpaceBetween, __assign({}, className('groups'), {\n    size: \"xs\"\n  }), options.map(function (optionGroup, optionGroupIndex) {\n    var groupLabelId = idPrefix + \"-\" + optionGroupIndex;\n    return React.createElement(\"div\", __assign({\n      key: optionGroupIndex\n    }, className('group'), {\n      role: \"group\",\n      \"aria-labelledby\": outerGroupLabelId + \" \" + groupLabelId\n    }), React.createElement(\"div\", __assign({}, className('group-label'), {\n      id: groupLabelId\n    }), optionGroup.label), React.createElement(\"div\", null, optionGroup.options.map(function (option, optionIndex) {\n      return selectionOption(option, optionGroupIndex, optionIndex);\n    })));\n  })));\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/collection-preferences/visible-content.js"],"names":["__assign","__spreadArray","React","InternalSpaceBetween","InternalToggle","useUniqueId","styles","isVisible","id","visibleIds","indexOf","className","suffix","VisibleContentPreference","_a","title","options","_b","value","onChange","idPrefix","flatOptionsIds","reduce","ids","group","groupIds","option","onToggle","sort","firstId","secondId","filter","currentId","selectionOption","optionGroupIndex","optionIndex","labelId","createElement","key","htmlFor","label","checked","disabled","editable","controlId","outerGroupLabelId","size","map","optionGroup","groupLabelId","role"],"mappings":"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","sourcesContent":["import { __assign, __spreadArray } from \"tslib\";\nimport React from 'react';\nimport InternalSpaceBetween from '../space-between/internal';\nimport InternalToggle from '../toggle/internal';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport styles from './styles.css.js';\nvar isVisible = function (id, visibleIds) { return visibleIds.indexOf(id) !== -1; };\nvar className = function (suffix) { return ({\n    className: styles[\"visible-content-\" + suffix]\n}); };\nexport default function VisibleContentPreference(_a) {\n    var title = _a.title, options = _a.options, _b = _a.value, value = _b === void 0 ? [] : _b, onChange = _a.onChange;\n    var idPrefix = useUniqueId('visible-content');\n    var flatOptionsIds = options.reduce(function (ids, group) { return __spreadArray(__spreadArray([], ids, true), group.options.reduce(function (groupIds, option) { return __spreadArray(__spreadArray([], groupIds, true), [option.id], false); }, []), true); }, []);\n    var onToggle = function (id) {\n        if (!isVisible(id, value)) {\n            onChange(__spreadArray(__spreadArray([], value, true), [id], false).sort(function (firstId, secondId) { return flatOptionsIds.indexOf(firstId) - flatOptionsIds.indexOf(secondId); }));\n        }\n        else {\n            onChange(value.filter(function (currentId) { return currentId !== id; }));\n        }\n    };\n    var selectionOption = function (option, optionGroupIndex, optionIndex) {\n        var labelId = idPrefix + \"-\" + optionGroupIndex + \"-\" + optionIndex;\n        return (React.createElement(\"div\", __assign({ key: optionIndex }, className('option')),\n            React.createElement(\"label\", __assign({}, className('option-label'), { htmlFor: labelId }), option.label),\n            React.createElement(\"div\", __assign({}, className('toggle')),\n                React.createElement(InternalToggle, { checked: isVisible(option.id, value), onChange: function () { return onToggle(option.id); }, disabled: option.editable === false, controlId: labelId }))));\n    };\n    var outerGroupLabelId = idPrefix + \"-outer\";\n    return (React.createElement(\"div\", { className: styles['visible-content'] },\n        React.createElement(\"div\", __assign({}, className('title'), { id: outerGroupLabelId }), title),\n        React.createElement(InternalSpaceBetween, __assign({}, className('groups'), { size: \"xs\" }), options.map(function (optionGroup, optionGroupIndex) {\n            var groupLabelId = idPrefix + \"-\" + optionGroupIndex;\n            return (React.createElement(\"div\", __assign({ key: optionGroupIndex }, className('group'), { role: \"group\", \"aria-labelledby\": outerGroupLabelId + \" \" + groupLabelId }),\n                React.createElement(\"div\", __assign({}, className('group-label'), { id: groupLabelId }), optionGroup.label),\n                React.createElement(\"div\", null, optionGroup.options.map(function (option, optionIndex) {\n                    return selectionOption(option, optionGroupIndex, optionIndex);\n                }))));\n        }))));\n}\n"]},"metadata":{},"sourceType":"module"}