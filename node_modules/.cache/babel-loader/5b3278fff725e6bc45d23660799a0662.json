{"ast":null,"code":"var ARROW_OFFSET = 12;\nexport var PRIORITY_MAPPING = {\n  top: ['top-center', 'bottom-center', 'right-top', 'right-bottom', 'left-top', 'left-bottom', 'top-right', 'top-left', 'bottom-right', 'bottom-left'],\n  bottom: ['bottom-center', 'top-center', 'right-top', 'right-bottom', 'left-top', 'left-bottom', 'bottom-right', 'bottom-left', 'top-right', 'top-left'],\n  left: ['left-top', 'left-bottom', 'right-top', 'right-bottom', 'bottom-center', 'top-center', 'bottom-left', 'top-left', 'bottom-right', 'top-right'],\n  right: ['right-top', 'right-bottom', 'left-top', 'left-bottom', 'bottom-center', 'top-center', 'bottom-right', 'top-right', 'bottom-left', 'top-left']\n};\nvar RECTANGLE_CALCULATIONS = {\n  'top-center': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top - body.height - arrow.height,\n      left: trigger.left + trigger.width / 2 - body.width / 2,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'top-right': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top - body.height - arrow.height,\n      left: trigger.left,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'top-left': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top - body.height - arrow.height,\n      left: trigger.left + trigger.width - body.width,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'bottom-center': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top + trigger.height + arrow.height,\n      left: trigger.left + trigger.width / 2 - body.width / 2,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'bottom-right': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top + trigger.height + arrow.height,\n      left: trigger.left,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'bottom-left': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top + trigger.height + arrow.height,\n      left: trigger.left + trigger.width - body.width,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'right-top': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n      left: trigger.left + trigger.width + arrow.height,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'right-bottom': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n      left: trigger.left + trigger.width + arrow.height,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'left-top': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n      left: trigger.left - body.width - arrow.height,\n      width: body.width,\n      height: body.height\n    };\n  },\n  'left-bottom': function (_a) {\n    var body = _a.body,\n        trigger = _a.trigger,\n        arrow = _a.arrow;\n    return {\n      top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n      left: trigger.left - body.width - arrow.height,\n      width: body.width,\n      height: body.height\n    };\n  }\n};\n\nfunction canRectFit(inner, outer) {\n  return inner.left >= outer.left && inner.top >= outer.top && inner.left + inner.width <= outer.left + outer.width && inner.top + inner.height <= outer.top + outer.height;\n}\n\nexport function intersectRectangles(rectangles) {\n  var boundingOffset = null;\n\n  for (var _i = 0, rectangles_1 = rectangles; _i < rectangles_1.length; _i++) {\n    var currentRect = rectangles_1[_i];\n\n    if (!boundingOffset) {\n      boundingOffset = currentRect;\n      continue;\n    }\n\n    var left = Math.max(boundingOffset.left, currentRect.left);\n    var top_1 = Math.max(boundingOffset.top, currentRect.top);\n    var right = Math.min(boundingOffset.left + boundingOffset.width, currentRect.left + currentRect.width);\n    var bottom = Math.min(boundingOffset.top + boundingOffset.height, currentRect.top + currentRect.height);\n\n    if (right < left || bottom < top_1) {\n      return null;\n    }\n\n    boundingOffset = {\n      left: left,\n      top: top_1,\n      width: right - left,\n      height: bottom - top_1\n    };\n  }\n\n  return boundingOffset && boundingOffset.height * boundingOffset.width;\n}\nexport function calculatePosition(preferred, trigger, arrow, body, container, viewport, renderWithPortal) {\n  var bestPositionOutsideViewport = null;\n  var largestArea = 0;\n\n  for (var _i = 0, _a = PRIORITY_MAPPING[preferred]; _i < _a.length; _i++) {\n    var internalPosition = _a[_i];\n    var boundingOffset = RECTANGLE_CALCULATIONS[internalPosition]({\n      body: body,\n      trigger: trigger,\n      arrow: arrow\n    });\n    var fitsInContainer = renderWithPortal || canRectFit(boundingOffset, container);\n    var fitsInViewport = canRectFit(boundingOffset, viewport);\n\n    if (fitsInContainer && fitsInViewport) {\n      return {\n        internalPosition: internalPosition,\n        boundingOffset: boundingOffset\n      };\n    }\n\n    var boundingRectangles = [boundingOffset, viewport];\n\n    if (!renderWithPortal) {\n      boundingRectangles.push(container);\n    }\n\n    var availableArea = intersectRectangles(boundingRectangles);\n\n    if (availableArea && availableArea > largestArea) {\n      bestPositionOutsideViewport = {\n        internalPosition: internalPosition,\n        boundingOffset: boundingOffset\n      };\n      largestArea = availableArea;\n    }\n  }\n\n  if (bestPositionOutsideViewport !== null) {\n    return bestPositionOutsideViewport;\n  }\n\n  return {\n    internalPosition: 'right-top',\n    boundingOffset: RECTANGLE_CALCULATIONS['right-top']({\n      body: body,\n      trigger: trigger,\n      arrow: arrow\n    })\n  };\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/popover/utils/positions.js"],"names":["ARROW_OFFSET","PRIORITY_MAPPING","top","bottom","left","right","RECTANGLE_CALCULATIONS","_a","body","trigger","arrow","height","width","canRectFit","inner","outer","intersectRectangles","rectangles","boundingOffset","_i","rectangles_1","length","currentRect","Math","max","top_1","min","calculatePosition","preferred","container","viewport","renderWithPortal","bestPositionOutsideViewport","largestArea","internalPosition","fitsInContainer","fitsInViewport","boundingRectangles","push","availableArea"],"mappings":"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","sourcesContent":["var ARROW_OFFSET = 12;\nexport var PRIORITY_MAPPING = {\n    top: [\n        'top-center',\n        'bottom-center',\n        'right-top',\n        'right-bottom',\n        'left-top',\n        'left-bottom',\n        'top-right',\n        'top-left',\n        'bottom-right',\n        'bottom-left',\n    ],\n    bottom: [\n        'bottom-center',\n        'top-center',\n        'right-top',\n        'right-bottom',\n        'left-top',\n        'left-bottom',\n        'bottom-right',\n        'bottom-left',\n        'top-right',\n        'top-left',\n    ],\n    left: [\n        'left-top',\n        'left-bottom',\n        'right-top',\n        'right-bottom',\n        'bottom-center',\n        'top-center',\n        'bottom-left',\n        'top-left',\n        'bottom-right',\n        'top-right',\n    ],\n    right: [\n        'right-top',\n        'right-bottom',\n        'left-top',\n        'left-bottom',\n        'bottom-center',\n        'top-center',\n        'bottom-right',\n        'top-right',\n        'bottom-left',\n        'top-left',\n    ]\n};\nvar RECTANGLE_CALCULATIONS = {\n    'top-center': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top - body.height - arrow.height,\n            left: trigger.left + trigger.width / 2 - body.width / 2,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'top-right': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top - body.height - arrow.height,\n            left: trigger.left,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'top-left': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top - body.height - arrow.height,\n            left: trigger.left + trigger.width - body.width,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'bottom-center': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height + arrow.height,\n            left: trigger.left + trigger.width / 2 - body.width / 2,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'bottom-right': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height + arrow.height,\n            left: trigger.left,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'bottom-left': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height + arrow.height,\n            left: trigger.left + trigger.width - body.width,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'right-top': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n            left: trigger.left + trigger.width + arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'right-bottom': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n            left: trigger.left + trigger.width + arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'left-top': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n            left: trigger.left - body.width - arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'left-bottom': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n            left: trigger.left - body.width - arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    }\n};\nfunction canRectFit(inner, outer) {\n    return (inner.left >= outer.left &&\n        inner.top >= outer.top &&\n        inner.left + inner.width <= outer.left + outer.width &&\n        inner.top + inner.height <= outer.top + outer.height);\n}\nexport function intersectRectangles(rectangles) {\n    var boundingOffset = null;\n    for (var _i = 0, rectangles_1 = rectangles; _i < rectangles_1.length; _i++) {\n        var currentRect = rectangles_1[_i];\n        if (!boundingOffset) {\n            boundingOffset = currentRect;\n            continue;\n        }\n        var left = Math.max(boundingOffset.left, currentRect.left);\n        var top_1 = Math.max(boundingOffset.top, currentRect.top);\n        var right = Math.min(boundingOffset.left + boundingOffset.width, currentRect.left + currentRect.width);\n        var bottom = Math.min(boundingOffset.top + boundingOffset.height, currentRect.top + currentRect.height);\n        if (right < left || bottom < top_1) {\n            return null;\n        }\n        boundingOffset = {\n            left: left,\n            top: top_1,\n            width: right - left,\n            height: bottom - top_1\n        };\n    }\n    return boundingOffset && boundingOffset.height * boundingOffset.width;\n}\nexport function calculatePosition(preferred, trigger, arrow, body, container, viewport, renderWithPortal) {\n    var bestPositionOutsideViewport = null;\n    var largestArea = 0;\n    for (var _i = 0, _a = PRIORITY_MAPPING[preferred]; _i < _a.length; _i++) {\n        var internalPosition = _a[_i];\n        var boundingOffset = RECTANGLE_CALCULATIONS[internalPosition]({ body: body, trigger: trigger, arrow: arrow });\n        var fitsInContainer = renderWithPortal || canRectFit(boundingOffset, container);\n        var fitsInViewport = canRectFit(boundingOffset, viewport);\n        if (fitsInContainer && fitsInViewport) {\n            return { internalPosition: internalPosition, boundingOffset: boundingOffset };\n        }\n        var boundingRectangles = [boundingOffset, viewport];\n        if (!renderWithPortal) {\n            boundingRectangles.push(container);\n        }\n        var availableArea = intersectRectangles(boundingRectangles);\n        if (availableArea && availableArea > largestArea) {\n            bestPositionOutsideViewport = { internalPosition: internalPosition, boundingOffset: boundingOffset };\n            largestArea = availableArea;\n        }\n    }\n    if (bestPositionOutsideViewport !== null) {\n        return bestPositionOutsideViewport;\n    }\n    return {\n        internalPosition: 'right-top',\n        boundingOffset: RECTANGLE_CALCULATIONS['right-top']({ body: body, trigger: trigger, arrow: arrow })\n    };\n}\n"]},"metadata":{},"sourceType":"module"}