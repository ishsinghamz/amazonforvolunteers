{"ast":null,"code":"import { __assign } from \"tslib\";\nimport mergeRefs from 'react-merge-refs';\nimport React, { forwardRef, useCallback, useImperativeHandle } from 'react';\nimport OptionsList from '../../internal/components/options-list';\nimport { renderOptions } from '../utils/render-options';\nimport { useVirtual } from 'react-virtual';\nimport { useContainerQuery } from '../../internal/hooks/container-queries';\nimport styles from './styles.css.js';\n\nvar VirtualList = function (props, ref) {\n  return props.menuProps.open ? React.createElement(VirtualListOpen, __assign({}, props, {\n    ref: ref\n  })) : React.createElement(VirtualListClosed, __assign({}, props, {\n    ref: ref\n  }));\n};\n\nvar VirtualListOpen = forwardRef(function (_a, ref) {\n  var menuProps = _a.menuProps,\n      getOptionProps = _a.getOptionProps,\n      filteredOptions = _a.filteredOptions,\n      filteringValue = _a.filteringValue,\n      isKeyboard = _a.isKeyboard,\n      checkboxes = _a.checkboxes,\n      hasDropdownStatus = _a.hasDropdownStatus,\n      listBottom = _a.listBottom;\n\n  var _b = useContainerQuery(function (rect) {\n    return rect.width;\n  }, []),\n      width = _b[0],\n      menuRef = _b[1];\n\n  var _c = useVirtual({\n    size: filteredOptions.length,\n    parentRef: menuRef,\n    estimateSize: useCallback(function () {\n      return 31;\n    }, [width, filteringValue]),\n    overscan: 5\n  }),\n      virtualItems = _c.virtualItems,\n      totalSize = _c.totalSize,\n      scrollToIndex = _c.scrollToIndex;\n\n  useImperativeHandle(ref, function () {\n    return function (index) {\n      if (isKeyboard) {\n        scrollToIndex(index);\n      }\n    };\n  }, [isKeyboard, scrollToIndex]);\n  var finalOptions = renderOptions({\n    options: virtualItems.map(function (_a) {\n      var index = _a.index;\n      return filteredOptions[index];\n    }),\n    getOptionProps: getOptionProps,\n    filteringValue: filteringValue,\n    isKeyboard: isKeyboard,\n    checkboxes: checkboxes,\n    hasDropdownStatus: hasDropdownStatus,\n    virtualItems: virtualItems\n  });\n  return React.createElement(OptionsList, __assign({}, menuProps, {\n    ref: mergeRefs([menuRef, menuProps.ref])\n  }), React.createElement(\"div\", {\n    \"aria-hidden\": \"true\",\n    key: \"total-size\",\n    className: styles['layout-strut'],\n    style: {\n      height: totalSize\n    }\n  }), finalOptions, listBottom ? React.createElement(\"li\", {\n    className: styles['list-bottom']\n  }, listBottom) : null);\n});\nvar VirtualListClosed = forwardRef(function (_a, ref) {\n  var menuProps = _a.menuProps,\n      listBottom = _a.listBottom;\n  useImperativeHandle(ref, function () {\n    return function () {};\n  }, []);\n  return React.createElement(OptionsList, __assign({}, menuProps, {\n    ref: menuProps.ref\n  }), listBottom ? React.createElement(\"li\", {\n    className: styles['list-bottom']\n  }, listBottom) : null);\n});\nexport default forwardRef(VirtualList);","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/select/parts/virtual-list.js"],"names":["__assign","mergeRefs","React","forwardRef","useCallback","useImperativeHandle","OptionsList","renderOptions","useVirtual","useContainerQuery","styles","VirtualList","props","ref","menuProps","open","createElement","VirtualListOpen","VirtualListClosed","_a","getOptionProps","filteredOptions","filteringValue","isKeyboard","checkboxes","hasDropdownStatus","listBottom","_b","rect","width","menuRef","_c","size","length","parentRef","estimateSize","overscan","virtualItems","totalSize","scrollToIndex","index","finalOptions","options","map","key","className","style","height"],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport mergeRefs from 'react-merge-refs';\nimport React, { forwardRef, useCallback, useImperativeHandle } from 'react';\nimport OptionsList from '../../internal/components/options-list';\nimport { renderOptions } from '../utils/render-options';\nimport { useVirtual } from 'react-virtual';\nimport { useContainerQuery } from '../../internal/hooks/container-queries';\nimport styles from './styles.css.js';\nvar VirtualList = function (props, ref) {\n    return props.menuProps.open ? React.createElement(VirtualListOpen, __assign({}, props, { ref: ref })) : React.createElement(VirtualListClosed, __assign({}, props, { ref: ref }));\n};\nvar VirtualListOpen = forwardRef(function (_a, ref) {\n    var menuProps = _a.menuProps, getOptionProps = _a.getOptionProps, filteredOptions = _a.filteredOptions, filteringValue = _a.filteringValue, isKeyboard = _a.isKeyboard, checkboxes = _a.checkboxes, hasDropdownStatus = _a.hasDropdownStatus, listBottom = _a.listBottom;\n    var _b = useContainerQuery(function (rect) { return rect.width; }, []), width = _b[0], menuRef = _b[1];\n    var _c = useVirtual({\n        size: filteredOptions.length,\n        parentRef: menuRef,\n        estimateSize: useCallback(function () { return 31; }, [width, filteringValue]),\n        overscan: 5\n    }), virtualItems = _c.virtualItems, totalSize = _c.totalSize, scrollToIndex = _c.scrollToIndex;\n    useImperativeHandle(ref, function () { return function (index) {\n        if (isKeyboard) {\n            scrollToIndex(index);\n        }\n    }; }, [isKeyboard, scrollToIndex]);\n    var finalOptions = renderOptions({\n        options: virtualItems.map(function (_a) {\n            var index = _a.index;\n            return filteredOptions[index];\n        }),\n        getOptionProps: getOptionProps,\n        filteringValue: filteringValue,\n        isKeyboard: isKeyboard,\n        checkboxes: checkboxes,\n        hasDropdownStatus: hasDropdownStatus,\n        virtualItems: virtualItems\n    });\n    return (React.createElement(OptionsList, __assign({}, menuProps, { ref: mergeRefs([menuRef, menuProps.ref]) }),\n        React.createElement(\"div\", { \"aria-hidden\": \"true\", key: \"total-size\", className: styles['layout-strut'], style: { height: totalSize } }),\n        finalOptions,\n        listBottom ? React.createElement(\"li\", { className: styles['list-bottom'] }, listBottom) : null));\n});\nvar VirtualListClosed = forwardRef(function (_a, ref) {\n    var menuProps = _a.menuProps, listBottom = _a.listBottom;\n    useImperativeHandle(ref, function () { return function () { }; }, []);\n    return (React.createElement(OptionsList, __assign({}, menuProps, { ref: menuProps.ref }), listBottom ? React.createElement(\"li\", { className: styles['list-bottom'] }, listBottom) : null));\n});\nexport default forwardRef(VirtualList);\n"]},"metadata":{},"sourceType":"module"}