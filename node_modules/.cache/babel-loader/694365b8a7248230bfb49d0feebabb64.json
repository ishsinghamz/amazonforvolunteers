{"ast":null,"code":"import { filter } from './filter.js';\nimport { propertyFilter } from './property-filter.js';\nimport { sort } from './sort.js';\nimport { getPagesCount, normalizePageIndex, paginate } from './paginate.js';\nexport function processItems(items, _a, _b) {\n  var filteringText = _a.filteringText,\n      sortingState = _a.sortingState,\n      currentPageIndex = _a.currentPageIndex,\n      propertyFilteringQuery = _a.propertyFilteringQuery;\n  var filtering = _b.filtering,\n      sorting = _b.sorting,\n      pagination = _b.pagination,\n      propertyFiltering = _b.propertyFiltering;\n  var result = items;\n  var pagesCount;\n  var actualPageIndex;\n  var filteredItemsCount;\n\n  if (propertyFiltering) {\n    result = propertyFilter(result, propertyFilteringQuery || {\n      tokens: [],\n      operation: 'and'\n    }, propertyFiltering);\n    filteredItemsCount = result.length;\n  }\n\n  if (filtering) {\n    result = filter(result, filteringText, filtering);\n    filteredItemsCount = result.length;\n  }\n\n  if (sorting) {\n    result = sort(result, sortingState);\n  }\n\n  if (pagination) {\n    pagesCount = getPagesCount(result, pagination.pageSize);\n    actualPageIndex = normalizePageIndex(currentPageIndex, pagesCount);\n    result = paginate(result, actualPageIndex, pagination.pageSize);\n  }\n\n  return {\n    items: result,\n    pagesCount: pagesCount,\n    filteredItemsCount: filteredItemsCount,\n    actualPageIndex: actualPageIndex\n  };\n}\nexport var getTrackableValue = function (trackBy, item) {\n  if (!trackBy) {\n    return item;\n  }\n\n  if (typeof trackBy === 'function') {\n    return trackBy(item);\n  }\n\n  return item[trackBy];\n};\nexport var processSelectedItems = function (items, selectedItems, trackBy) {\n  var selectedSet = new Set();\n  selectedItems.forEach(function (item) {\n    return selectedSet.add(getTrackableValue(trackBy, item));\n  });\n  return items.filter(function (item) {\n    return selectedSet.has(getTrackableValue(trackBy, item));\n  });\n};\nexport var itemsAreEqual = function (items1, items2, trackBy) {\n  if (items1.length !== items2.length) {\n    return false;\n  }\n\n  var set1 = new Set();\n  items1.forEach(function (item) {\n    return set1.add(getTrackableValue(trackBy, item));\n  });\n  return items2.every(function (item) {\n    return set1.has(getTrackableValue(trackBy, item));\n  });\n};","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/collection-hooks/dist/mjs/operations/index.js"],"names":["filter","propertyFilter","sort","getPagesCount","normalizePageIndex","paginate","processItems","items","_a","_b","filteringText","sortingState","currentPageIndex","propertyFilteringQuery","filtering","sorting","pagination","propertyFiltering","result","pagesCount","actualPageIndex","filteredItemsCount","tokens","operation","length","pageSize","getTrackableValue","trackBy","item","processSelectedItems","selectedItems","selectedSet","Set","forEach","add","has","itemsAreEqual","items1","items2","set1","every"],"mappings":"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","sourcesContent":["import { filter } from './filter.js';\nimport { propertyFilter } from './property-filter.js';\nimport { sort } from './sort.js';\nimport { getPagesCount, normalizePageIndex, paginate } from './paginate.js';\nexport function processItems(items, _a, _b) {\n    var filteringText = _a.filteringText, sortingState = _a.sortingState, currentPageIndex = _a.currentPageIndex, propertyFilteringQuery = _a.propertyFilteringQuery;\n    var filtering = _b.filtering, sorting = _b.sorting, pagination = _b.pagination, propertyFiltering = _b.propertyFiltering;\n    var result = items;\n    var pagesCount;\n    var actualPageIndex;\n    var filteredItemsCount;\n    if (propertyFiltering) {\n        result = propertyFilter(result, propertyFilteringQuery || { tokens: [], operation: 'and' }, propertyFiltering);\n        filteredItemsCount = result.length;\n    }\n    if (filtering) {\n        result = filter(result, filteringText, filtering);\n        filteredItemsCount = result.length;\n    }\n    if (sorting) {\n        result = sort(result, sortingState);\n    }\n    if (pagination) {\n        pagesCount = getPagesCount(result, pagination.pageSize);\n        actualPageIndex = normalizePageIndex(currentPageIndex, pagesCount);\n        result = paginate(result, actualPageIndex, pagination.pageSize);\n    }\n    return { items: result, pagesCount: pagesCount, filteredItemsCount: filteredItemsCount, actualPageIndex: actualPageIndex };\n}\nexport var getTrackableValue = function (trackBy, item) {\n    if (!trackBy) {\n        return item;\n    }\n    if (typeof trackBy === 'function') {\n        return trackBy(item);\n    }\n    return item[trackBy];\n};\nexport var processSelectedItems = function (items, selectedItems, trackBy) {\n    var selectedSet = new Set();\n    selectedItems.forEach(function (item) { return selectedSet.add(getTrackableValue(trackBy, item)); });\n    return items.filter(function (item) { return selectedSet.has(getTrackableValue(trackBy, item)); });\n};\nexport var itemsAreEqual = function (items1, items2, trackBy) {\n    if (items1.length !== items2.length) {\n        return false;\n    }\n    var set1 = new Set();\n    items1.forEach(function (item) { return set1.add(getTrackableValue(trackBy, item)); });\n    return items2.every(function (item) { return set1.has(getTrackableValue(trackBy, item)); });\n};\n"]},"metadata":{},"sourceType":"module"}