{"ast":null,"code":"export function setupEditor(ace, editor, setAnnotations, setCursorPosition, setHighlightedAnnotation, setPaneStatus) {\n  ace.config.loadModule('ace/ext/language_tools', function () {\n    editor.setOptions({\n      displayIndentGuides: false,\n      enableSnippets: true,\n      enableBasicAutocompletion: true\n    });\n  });\n  editor.setAutoScrollEditorIntoView(true);\n  editor.session.selection.on('changeCursor', function () {\n    setCursorPosition(editor.getCursorPosition());\n  });\n  editor.session.on('changeAnnotation', function () {\n    var editorAnnotations = editor.session.getAnnotations();\n    var newAnnotations = editorAnnotations.filter(function (a) {\n      return a.type !== 'info';\n    });\n\n    if (editorAnnotations.length !== newAnnotations.length) {\n      editor.session.setAnnotations(newAnnotations);\n    }\n\n    setAnnotations(newAnnotations);\n  });\n  editor.commands.addCommand({\n    name: 'exitCodeEditor',\n    bindKey: 'Esc',\n    exec: function () {\n      editor.container.focus();\n    }\n  });\n  editor.on('focus', function () {\n    editor.textInput.getElement().setAttribute('tabindex', 0);\n  });\n  editor.on('blur', function () {\n    editor.textInput.getElement().setAttribute('tabindex', -1);\n  });\n  editor.textInput.getElement().setAttribute('tabindex', -1);\n  editor.commands.removeCommand('showSettingsMenu', false);\n  editor.on('guttermousedown', function (e) {\n    e.stop();\n  });\n\n  var moveCursorToAnnotation = function (a) {\n    if (typeof a.row === 'number') {\n      editor.gotoLine(a.row + 1, a.column || 0, false);\n    }\n  };\n\n  editor.on('gutterclick', function (e) {\n    var row = e.getDocumentPosition().row;\n    var currentAnnotations = editor.session.getAnnotations().filter(function (a) {\n      return a.row === row && a.type !== 'info';\n    });\n    var errors = currentAnnotations.filter(function (a) {\n      return a.type === 'error';\n    });\n\n    if (errors.length > 0) {\n      setHighlightedAnnotation(errors[0]);\n      setPaneStatus('error');\n      moveCursorToAnnotation(errors[0]);\n    } else if (currentAnnotations.length > 0) {\n      setHighlightedAnnotation(currentAnnotations[0]);\n      setPaneStatus('warning');\n      moveCursorToAnnotation(currentAnnotations[0]);\n    } else {\n      setHighlightedAnnotation(undefined);\n      setPaneStatus('hidden');\n      editor.gotoLine(row + 1, 0, false);\n    }\n  });\n  editor.setHighlightActiveLine(false);\n\n  editor.$updateHighlightActiveLine = function () {\n    var session = this.getSession();\n    var highlight;\n\n    if (this.$highlightActiveLine) {\n      if (this.$selectionStyle !== 'line' || !this.selection.isMultiLine()) {\n        highlight = this.getCursorPosition();\n      }\n\n      if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1)) {\n        highlight = false;\n      }\n    }\n\n    if (session.$highlightLineMarker && !highlight) {\n      session.removeMarker(session.$highlightLineMarker.id);\n      session.$highlightLineMarker = null;\n    } else if (!session.$highlightLineMarker && highlight) {\n      var range = new ace.Range(highlight.row, 0, highlight.row, Infinity);\n      range.id = session.addMarker(range, 'ace_active-line', 'fullLine');\n      session.$highlightLineMarker = range;\n    } else if (highlight) {\n      session.$highlightLineMarker.start.row = highlight.row;\n      session.$highlightLineMarker.end.row = highlight.row;\n      session.$highlightLineMarker.start.column = 0;\n\n      session._signal('changeBackMarker');\n    }\n  };\n\n  editor.setHighlightActiveLine(true);\n  editor.on('change', function () {\n    if (editor.getValue().length === 0) {\n      editor.session.clearAnnotations();\n    }\n  });\n  editor.on('showGutterTooltip', function (tooltip) {\n    tooltip.hide();\n  });\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/code-editor/setup-editor.js"],"names":["setupEditor","ace","editor","setAnnotations","setCursorPosition","setHighlightedAnnotation","setPaneStatus","config","loadModule","setOptions","displayIndentGuides","enableSnippets","enableBasicAutocompletion","setAutoScrollEditorIntoView","session","selection","on","getCursorPosition","editorAnnotations","getAnnotations","newAnnotations","filter","a","type","length","commands","addCommand","name","bindKey","exec","container","focus","textInput","getElement","setAttribute","removeCommand","e","stop","moveCursorToAnnotation","row","gotoLine","column","getDocumentPosition","currentAnnotations","errors","undefined","setHighlightActiveLine","$updateHighlightActiveLine","getSession","highlight","$highlightActiveLine","$selectionStyle","isMultiLine","renderer","$maxLines","getLength","$minLines","$highlightLineMarker","removeMarker","id","range","Range","Infinity","addMarker","start","end","_signal","getValue","clearAnnotations","tooltip","hide"],"mappings":"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","sourcesContent":["export function setupEditor(ace, editor, setAnnotations, setCursorPosition, setHighlightedAnnotation, setPaneStatus) {\n    ace.config.loadModule('ace/ext/language_tools', function () {\n        editor.setOptions({\n            displayIndentGuides: false,\n            enableSnippets: true,\n            enableBasicAutocompletion: true\n        });\n    });\n    editor.setAutoScrollEditorIntoView(true);\n    editor.session.selection.on('changeCursor', function () {\n        setCursorPosition(editor.getCursorPosition());\n    });\n    editor.session.on('changeAnnotation', function () {\n        var editorAnnotations = editor.session.getAnnotations();\n        var newAnnotations = editorAnnotations.filter(function (a) { return a.type !== 'info'; });\n        if (editorAnnotations.length !== newAnnotations.length) {\n            editor.session.setAnnotations(newAnnotations);\n        }\n        setAnnotations(newAnnotations);\n    });\n    editor.commands.addCommand({\n        name: 'exitCodeEditor',\n        bindKey: 'Esc',\n        exec: function () {\n            editor.container.focus();\n        }\n    });\n    editor.on('focus', function () {\n        editor.textInput.getElement().setAttribute('tabindex', 0);\n    });\n    editor.on('blur', function () {\n        editor.textInput.getElement().setAttribute('tabindex', -1);\n    });\n    editor.textInput.getElement().setAttribute('tabindex', -1);\n    editor.commands.removeCommand('showSettingsMenu', false);\n    editor.on('guttermousedown', function (e) {\n        e.stop();\n    });\n    var moveCursorToAnnotation = function (a) {\n        if (typeof a.row === 'number') {\n            editor.gotoLine(a.row + 1, a.column || 0, false);\n        }\n    };\n    editor.on('gutterclick', function (e) {\n        var row = e.getDocumentPosition().row;\n        var currentAnnotations = editor.session.getAnnotations().filter(function (a) { return a.row === row && a.type !== 'info'; });\n        var errors = currentAnnotations.filter(function (a) { return a.type === 'error'; });\n        if (errors.length > 0) {\n            setHighlightedAnnotation(errors[0]);\n            setPaneStatus('error');\n            moveCursorToAnnotation(errors[0]);\n        }\n        else if (currentAnnotations.length > 0) {\n            setHighlightedAnnotation(currentAnnotations[0]);\n            setPaneStatus('warning');\n            moveCursorToAnnotation(currentAnnotations[0]);\n        }\n        else {\n            setHighlightedAnnotation(undefined);\n            setPaneStatus('hidden');\n            editor.gotoLine(row + 1, 0, false);\n        }\n    });\n    editor.setHighlightActiveLine(false);\n    editor.$updateHighlightActiveLine = function () {\n        var session = this.getSession();\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle !== 'line' || !this.selection.isMultiLine()) {\n                highlight = this.getCursorPosition();\n            }\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1)) {\n                highlight = false;\n            }\n        }\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        }\n        else if (!session.$highlightLineMarker && highlight) {\n            var range = new ace.Range(highlight.row, 0, highlight.row, Infinity);\n            range.id = session.addMarker(range, 'ace_active-line', 'fullLine');\n            session.$highlightLineMarker = range;\n        }\n        else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = 0;\n            session._signal('changeBackMarker');\n        }\n    };\n    editor.setHighlightActiveLine(true);\n    editor.on('change', function () {\n        if (editor.getValue().length === 0) {\n            editor.session.clearAnnotations();\n        }\n    });\n    editor.on('showGutterTooltip', function (tooltip) {\n        tooltip.hide();\n    });\n}\n"]},"metadata":{},"sourceType":"module"}