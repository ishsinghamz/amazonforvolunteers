{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport clsx from 'clsx';\nimport mergeRefs from 'react-merge-refs';\nimport React, { useEffect, useRef } from 'react';\nimport { getBaseProps } from '../../base-component';\nimport { fireNonCancelableEvent, fireKeyboardEvent, getBlurEventRelatedTarget } from '../../events';\nimport { findUpUntil } from '../../utils/dom';\nimport styles from './styles.css.js';\nvar BOTTOM_TRIGGER_OFFSET = 80;\n\nvar getItemIndex = function (containerRef, event) {\n  var target = findUpUntil(event.target, function (element) {\n    return element === containerRef.current || !!element.dataset.mouseTarget;\n  });\n  var mouseTarget = target === null || target === void 0 ? void 0 : target.dataset.mouseTarget;\n  return mouseTarget ? parseInt(mouseTarget) : -1;\n};\n\nvar OptionsList = function (_a, ref) {\n  var _b;\n\n  var open = _a.open,\n      children = _a.children,\n      _c = _a.nativeAttributes,\n      nativeAttributes = _c === void 0 ? {} : _c,\n      onKeyDown = _a.onKeyDown,\n      onBlur = _a.onBlur,\n      onFocus = _a.onFocus,\n      onLoadMore = _a.onLoadMore,\n      onMouseUp = _a.onMouseUp,\n      onMouseMove = _a.onMouseMove,\n      _d = _a.position,\n      position = _d === void 0 ? 'relative' : _d,\n      _e = _a.role,\n      role = _e === void 0 ? 'listbox' : _e,\n      _f = _a.decreaseTopMargin,\n      decreaseTopMargin = _f === void 0 ? false : _f,\n      ariaLabelledby = _a.ariaLabelledby,\n      restProps = __rest(_a, [\"open\", \"children\", \"nativeAttributes\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"onLoadMore\", \"onMouseUp\", \"onMouseMove\", \"position\", \"role\", \"decreaseTopMargin\", \"ariaLabelledby\"]);\n\n  var baseProps = getBaseProps(restProps);\n  var menuRef = useRef(null);\n\n  var handleScroll = function () {\n    var scrollContainer = menuRef === null || menuRef === void 0 ? void 0 : menuRef.current;\n\n    if (scrollContainer) {\n      var bottomEdgePosition = scrollContainer.scrollTop + scrollContainer.clientHeight;\n      var remainingScrollHeight = scrollContainer.scrollHeight - bottomEdgePosition;\n\n      if (remainingScrollHeight < BOTTOM_TRIGGER_OFFSET) {\n        fireNonCancelableEvent(onLoadMore);\n      }\n    }\n  };\n\n  useEffect(function () {\n    if (!open) {\n      return;\n    }\n\n    handleScroll();\n  });\n  var className = clsx(styles['options-list'], (_b = {}, _b[styles['decrease-top-margin']] = decreaseTopMargin, _b));\n  return React.createElement(\"ul\", __assign({}, baseProps, nativeAttributes, {\n    className: className,\n    ref: mergeRefs([ref, menuRef]),\n    style: {\n      position: position\n    },\n    role: role,\n    onScroll: handleScroll,\n    onKeyDown: function (event) {\n      return onKeyDown && fireKeyboardEvent(onKeyDown, event);\n    },\n    onMouseMove: function (event) {\n      return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(getItemIndex(menuRef, event));\n    },\n    onMouseUp: function (event) {\n      return onMouseUp === null || onMouseUp === void 0 ? void 0 : onMouseUp(getItemIndex(menuRef, event));\n    },\n    onBlur: function (event) {\n      return fireNonCancelableEvent(onBlur, {\n        relatedTarget: getBlurEventRelatedTarget(event.nativeEvent)\n      });\n    },\n    onFocus: function () {\n      return fireNonCancelableEvent(onFocus);\n    },\n    tabIndex: -1,\n    \"aria-labelledby\": ariaLabelledby\n  }), open && children);\n};\n\nexport default React.forwardRef(OptionsList);","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/internal/components/options-list/index.js"],"names":["__assign","__rest","clsx","mergeRefs","React","useEffect","useRef","getBaseProps","fireNonCancelableEvent","fireKeyboardEvent","getBlurEventRelatedTarget","findUpUntil","styles","BOTTOM_TRIGGER_OFFSET","getItemIndex","containerRef","event","target","element","current","dataset","mouseTarget","parseInt","OptionsList","_a","ref","_b","open","children","_c","nativeAttributes","onKeyDown","onBlur","onFocus","onLoadMore","onMouseUp","onMouseMove","_d","position","_e","role","_f","decreaseTopMargin","ariaLabelledby","restProps","baseProps","menuRef","handleScroll","scrollContainer","bottomEdgePosition","scrollTop","clientHeight","remainingScrollHeight","scrollHeight","className","createElement","style","onScroll","relatedTarget","nativeEvent","tabIndex","forwardRef"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport clsx from 'clsx';\nimport mergeRefs from 'react-merge-refs';\nimport React, { useEffect, useRef } from 'react';\nimport { getBaseProps } from '../../base-component';\nimport { fireNonCancelableEvent, fireKeyboardEvent, getBlurEventRelatedTarget, } from '../../events';\nimport { findUpUntil } from '../../utils/dom';\nimport styles from './styles.css.js';\nvar BOTTOM_TRIGGER_OFFSET = 80;\nvar getItemIndex = function (containerRef, event) {\n    var target = findUpUntil(event.target, function (element) { return element === containerRef.current || !!element.dataset.mouseTarget; });\n    var mouseTarget = target === null || target === void 0 ? void 0 : target.dataset.mouseTarget;\n    return mouseTarget ? parseInt(mouseTarget) : -1;\n};\nvar OptionsList = function (_a, ref) {\n    var _b;\n    var open = _a.open, children = _a.children, _c = _a.nativeAttributes, nativeAttributes = _c === void 0 ? {} : _c, onKeyDown = _a.onKeyDown, onBlur = _a.onBlur, onFocus = _a.onFocus, onLoadMore = _a.onLoadMore, onMouseUp = _a.onMouseUp, onMouseMove = _a.onMouseMove, _d = _a.position, position = _d === void 0 ? 'relative' : _d, _e = _a.role, role = _e === void 0 ? 'listbox' : _e, _f = _a.decreaseTopMargin, decreaseTopMargin = _f === void 0 ? false : _f, ariaLabelledby = _a.ariaLabelledby, restProps = __rest(_a, [\"open\", \"children\", \"nativeAttributes\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"onLoadMore\", \"onMouseUp\", \"onMouseMove\", \"position\", \"role\", \"decreaseTopMargin\", \"ariaLabelledby\"]);\n    var baseProps = getBaseProps(restProps);\n    var menuRef = useRef(null);\n    var handleScroll = function () {\n        var scrollContainer = menuRef === null || menuRef === void 0 ? void 0 : menuRef.current;\n        if (scrollContainer) {\n            var bottomEdgePosition = scrollContainer.scrollTop + scrollContainer.clientHeight;\n            var remainingScrollHeight = scrollContainer.scrollHeight - bottomEdgePosition;\n            if (remainingScrollHeight < BOTTOM_TRIGGER_OFFSET) {\n                fireNonCancelableEvent(onLoadMore);\n            }\n        }\n    };\n    useEffect(function () {\n        if (!open) {\n            return;\n        }\n        handleScroll();\n    });\n    var className = clsx(styles['options-list'], (_b = {},\n        _b[styles['decrease-top-margin']] = decreaseTopMargin,\n        _b));\n    return (React.createElement(\"ul\", __assign({}, baseProps, nativeAttributes, { className: className, ref: mergeRefs([ref, menuRef]), style: { position: position }, role: role, onScroll: handleScroll, onKeyDown: function (event) { return onKeyDown && fireKeyboardEvent(onKeyDown, event); }, onMouseMove: function (event) { return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(getItemIndex(menuRef, event)); }, onMouseUp: function (event) { return onMouseUp === null || onMouseUp === void 0 ? void 0 : onMouseUp(getItemIndex(menuRef, event)); }, onBlur: function (event) { return fireNonCancelableEvent(onBlur, { relatedTarget: getBlurEventRelatedTarget(event.nativeEvent) }); }, onFocus: function () { return fireNonCancelableEvent(onFocus); }, tabIndex: -1, \"aria-labelledby\": ariaLabelledby }), open && children));\n};\nexport default React.forwardRef(OptionsList);\n"]},"metadata":{},"sourceType":"module"}