{"ast":null,"code":"var filterUsingOperator = function (itemValue, tokenValue, operator) {\n  switch (operator) {\n    case '<':\n      return itemValue < tokenValue;\n\n    case '<=':\n      return itemValue <= tokenValue;\n\n    case '>':\n      return itemValue > tokenValue;\n\n    case '>=':\n      return itemValue >= tokenValue;\n\n    case '=':\n      // eslint-disable-next-line eqeqeq\n      return itemValue == tokenValue;\n\n    case '!=':\n      // eslint-disable-next-line eqeqeq\n      return itemValue != tokenValue;\n\n    case ':':\n      return (itemValue + '').toLowerCase().indexOf((tokenValue + '').toLowerCase()) > -1;\n\n    case '!:':\n      return (itemValue + '').toLowerCase().indexOf((tokenValue + '').toLowerCase()) === -1;\n  }\n};\n\nfunction freeTextFilter(value, item, operator, filteringPropertiesMap) {\n  var matches = Object.keys(filteringPropertiesMap).some(function (propertyKey) {\n    var operators = filteringPropertiesMap[propertyKey].operators;\n    return !!operators[operator] && filterUsingOperator(item[propertyKey], value, ':');\n  });\n  return operator === ':' ? matches : !matches;\n}\n\nfunction filterByToken(token, item, filteringPropertiesMap) {\n  if (token.propertyKey) {\n    // token refers to a unknown property or uses an unsupported operator\n    if (!(token.propertyKey in filteringPropertiesMap) || !(token.operator in filteringPropertiesMap[token.propertyKey].operators)) {\n      return false;\n    }\n\n    var itemValue = fixupFalsyValues(item[token.propertyKey]);\n    return filterUsingOperator(itemValue, token.value, token.operator);\n  }\n\n  return freeTextFilter(token.value, item, token.operator, filteringPropertiesMap);\n}\n\nfunction defaultFilteringFunction(filteringPropertiesMap) {\n  return function (item, _a) {\n    var tokens = _a.tokens,\n        operation = _a.operation;\n    var result = operation === 'and' ? true : !tokens.length;\n\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n      var token = tokens_1[_i];\n      result = operation === 'and' ? result && filterByToken(token, item, filteringPropertiesMap) : result || filterByToken(token, item, filteringPropertiesMap);\n    }\n\n    return result;\n  };\n}\n\nexport function propertyFilter(items, query, _a) {\n  var filteringFunction = _a.filteringFunction,\n      filteringProperties = _a.filteringProperties;\n  var filteringPropertiesMap = filteringProperties.reduce(function (acc, _a) {\n    var _b;\n\n    var key = _a.key,\n        operators = _a.operators,\n        defaultOperator = _a.defaultOperator;\n    var operatorSet = (_b = {}, _b[defaultOperator !== null && defaultOperator !== void 0 ? defaultOperator : '='] = true, _b);\n    operators === null || operators === void 0 ? void 0 : operators.forEach(function (op) {\n      return operatorSet[op] = true;\n    });\n    acc[key] = {\n      operators: operatorSet\n    };\n    return acc;\n  }, {});\n  var filter = filteringFunction || defaultFilteringFunction(filteringPropertiesMap);\n  return items.filter(function (item) {\n    return filter(item, query);\n  });\n}\nexport var fixupFalsyValues = function (value) {\n  if (typeof value === 'boolean') {\n    return value + '';\n  }\n\n  if (value || value === 0) {\n    return value;\n  }\n\n  return '';\n};","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/collection-hooks/dist/mjs/operations/property-filter.js"],"names":["filterUsingOperator","itemValue","tokenValue","operator","toLowerCase","indexOf","freeTextFilter","value","item","filteringPropertiesMap","matches","Object","keys","some","propertyKey","operators","filterByToken","token","fixupFalsyValues","defaultFilteringFunction","_a","tokens","operation","result","length","_i","tokens_1","propertyFilter","items","query","filteringFunction","filteringProperties","reduce","acc","_b","key","defaultOperator","operatorSet","forEach","op","filter"],"mappings":"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","sourcesContent":["var filterUsingOperator = function (itemValue, tokenValue, operator) {\n    switch (operator) {\n        case '<':\n            return itemValue < tokenValue;\n        case '<=':\n            return itemValue <= tokenValue;\n        case '>':\n            return itemValue > tokenValue;\n        case '>=':\n            return itemValue >= tokenValue;\n        case '=':\n            // eslint-disable-next-line eqeqeq\n            return itemValue == tokenValue;\n        case '!=':\n            // eslint-disable-next-line eqeqeq\n            return itemValue != tokenValue;\n        case ':':\n            return (itemValue + '').toLowerCase().indexOf((tokenValue + '').toLowerCase()) > -1;\n        case '!:':\n            return (itemValue + '').toLowerCase().indexOf((tokenValue + '').toLowerCase()) === -1;\n    }\n};\nfunction freeTextFilter(value, item, operator, filteringPropertiesMap) {\n    var matches = Object.keys(filteringPropertiesMap).some(function (propertyKey) {\n        var operators = filteringPropertiesMap[propertyKey].operators;\n        return !!operators[operator] && filterUsingOperator(item[propertyKey], value, ':');\n    });\n    return operator === ':' ? matches : !matches;\n}\nfunction filterByToken(token, item, filteringPropertiesMap) {\n    if (token.propertyKey) {\n        // token refers to a unknown property or uses an unsupported operator\n        if (!(token.propertyKey in filteringPropertiesMap) ||\n            !(token.operator in filteringPropertiesMap[token.propertyKey].operators)) {\n            return false;\n        }\n        var itemValue = fixupFalsyValues(item[token.propertyKey]);\n        return filterUsingOperator(itemValue, token.value, token.operator);\n    }\n    return freeTextFilter(token.value, item, token.operator, filteringPropertiesMap);\n}\nfunction defaultFilteringFunction(filteringPropertiesMap) {\n    return function (item, _a) {\n        var tokens = _a.tokens, operation = _a.operation;\n        var result = operation === 'and' ? true : !tokens.length;\n        for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n            var token = tokens_1[_i];\n            result =\n                operation === 'and'\n                    ? result && filterByToken(token, item, filteringPropertiesMap)\n                    : result || filterByToken(token, item, filteringPropertiesMap);\n        }\n        return result;\n    };\n}\nexport function propertyFilter(items, query, _a) {\n    var filteringFunction = _a.filteringFunction, filteringProperties = _a.filteringProperties;\n    var filteringPropertiesMap = filteringProperties.reduce(function (acc, _a) {\n        var _b;\n        var key = _a.key, operators = _a.operators, defaultOperator = _a.defaultOperator;\n        var operatorSet = (_b = {}, _b[defaultOperator !== null && defaultOperator !== void 0 ? defaultOperator : '='] = true, _b);\n        operators === null || operators === void 0 ? void 0 : operators.forEach(function (op) { return (operatorSet[op] = true); });\n        acc[key] = {\n            operators: operatorSet,\n        };\n        return acc;\n    }, {});\n    var filter = filteringFunction || defaultFilteringFunction(filteringPropertiesMap);\n    return items.filter(function (item) { return filter(item, query); });\n}\nexport var fixupFalsyValues = function (value) {\n    if (typeof value === 'boolean') {\n        return value + '';\n    }\n    if (value || value === 0) {\n        return value;\n    }\n    return '';\n};\n"]},"metadata":{},"sourceType":"module"}