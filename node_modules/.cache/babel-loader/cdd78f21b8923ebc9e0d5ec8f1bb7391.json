{"ast":null,"code":"import React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\nimport { TICK_LENGTH, TICK_MARGIN } from './constants';\nimport styles from './styles.css.js';\nimport { formatTicks, getVisibleTicks } from './label-utils';\nvar OFFSET_PX = 12;\nexport default memo(LeftLabels);\n\nfunction LeftLabels(_a) {\n  var _b = _a.axis,\n      axis = _b === void 0 ? 'y' : _b,\n      width = _a.width,\n      height = _a.height,\n      scale = _a.scale,\n      ticks = _a.ticks,\n      tickFormatter = _a.tickFormatter,\n      title = _a.title,\n      ariaRoleDescription = _a.ariaRoleDescription;\n  var virtualTextRef = useRef(null);\n  var yOffset = axis === 'x' && scale.isCategorical() ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n  var cacheRef = useRef({});\n\n  var getLabelSpace = function (label) {\n    if (cacheRef.current[label] !== undefined) {\n      return cacheRef.current[label];\n    }\n\n    if (virtualTextRef.current && virtualTextRef.current.getBBox) {\n      virtualTextRef.current.textContent = label;\n      cacheRef.current[label] = virtualTextRef.current.getBBox().height;\n      return cacheRef.current[label];\n    }\n\n    return 0;\n  };\n\n  var formattedTicks = formatTicks({\n    ticks: ticks,\n    scale: scale,\n    getLabelSpace: getLabelSpace,\n    tickFormatter: tickFormatter\n  });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  var from = 0 - OFFSET_PX - yOffset;\n  var until = height + OFFSET_PX - yOffset;\n  var visibleTicks = getVisibleTicks(formattedTicks, from, until);\n  return React.createElement(\"g\", {\n    className: clsx(styles['labels-left']),\n    \"aria-label\": title,\n    role: \"list\",\n    \"aria-roledescription\": ariaRoleDescription,\n    \"aria-hidden\": visibleTicks.length === 0\n  }, visibleTicks.map(function (_a, index) {\n    var position = _a.position,\n        lines = _a.lines;\n    return isFinite(position) && React.createElement(\"g\", {\n      key: index,\n      role: \"listitem\",\n      transform: \"translate(0,\" + (position + yOffset) + \")\",\n      className: clsx(styles.ticks, axis === 'x' ? styles['ticks--x'] : styles['ticks--y'])\n    }, axis === 'y' && React.createElement(\"line\", {\n      className: clsx(styles.grid, styles.ticks_line),\n      x1: -TICK_LENGTH,\n      y1: 0,\n      x2: width,\n      y2: 0,\n      \"aria-hidden\": \"true\"\n    }), React.createElement(\"text\", {\n      className: styles.ticks__text,\n      x: -(TICK_LENGTH + TICK_MARGIN),\n      y: 0\n    }, lines.join(' ')));\n  }), React.createElement(\"text\", {\n    ref: virtualTextRef,\n    x: 0,\n    y: 0,\n    style: {\n      visibility: 'hidden'\n    },\n    \"aria-hidden\": \"true\"\n  }));\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/internal/components/cartesian-chart/left-labels.js"],"names":["React","memo","useRef","clsx","TICK_LENGTH","TICK_MARGIN","styles","formatTicks","getVisibleTicks","OFFSET_PX","LeftLabels","_a","_b","axis","width","height","scale","ticks","tickFormatter","title","ariaRoleDescription","virtualTextRef","yOffset","isCategorical","Math","max","d3Scale","bandwidth","cacheRef","getLabelSpace","label","current","undefined","getBBox","textContent","formattedTicks","from","until","visibleTicks","createElement","className","role","length","map","index","position","lines","isFinite","key","transform","grid","ticks_line","x1","y1","x2","y2","ticks__text","x","y","join","ref","style","visibility"],"mappings":"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","sourcesContent":["import React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\nimport { TICK_LENGTH, TICK_MARGIN } from './constants';\nimport styles from './styles.css.js';\nimport { formatTicks, getVisibleTicks } from './label-utils';\nvar OFFSET_PX = 12;\nexport default memo(LeftLabels);\nfunction LeftLabels(_a) {\n    var _b = _a.axis, axis = _b === void 0 ? 'y' : _b, width = _a.width, height = _a.height, scale = _a.scale, ticks = _a.ticks, tickFormatter = _a.tickFormatter, title = _a.title, ariaRoleDescription = _a.ariaRoleDescription;\n    var virtualTextRef = useRef(null);\n    var yOffset = axis === 'x' && scale.isCategorical() ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n    var cacheRef = useRef({});\n    var getLabelSpace = function (label) {\n        if (cacheRef.current[label] !== undefined) {\n            return cacheRef.current[label];\n        }\n        if (virtualTextRef.current && virtualTextRef.current.getBBox) {\n            virtualTextRef.current.textContent = label;\n            cacheRef.current[label] = virtualTextRef.current.getBBox().height;\n            return cacheRef.current[label];\n        }\n        return 0;\n    };\n    var formattedTicks = formatTicks({ ticks: ticks, scale: scale, getLabelSpace: getLabelSpace, tickFormatter: tickFormatter });\n    if (virtualTextRef.current) {\n        virtualTextRef.current.textContent = '';\n    }\n    var from = 0 - OFFSET_PX - yOffset;\n    var until = height + OFFSET_PX - yOffset;\n    var visibleTicks = getVisibleTicks(formattedTicks, from, until);\n    return (React.createElement(\"g\", { className: clsx(styles['labels-left']), \"aria-label\": title, role: \"list\", \"aria-roledescription\": ariaRoleDescription, \"aria-hidden\": visibleTicks.length === 0 },\n        visibleTicks.map(function (_a, index) {\n            var position = _a.position, lines = _a.lines;\n            return isFinite(position) && (React.createElement(\"g\", { key: index, role: \"listitem\", transform: \"translate(0,\" + (position + yOffset) + \")\", className: clsx(styles.ticks, axis === 'x' ? styles['ticks--x'] : styles['ticks--y']) },\n                axis === 'y' && (React.createElement(\"line\", { className: clsx(styles.grid, styles.ticks_line), x1: -TICK_LENGTH, y1: 0, x2: width, y2: 0, \"aria-hidden\": \"true\" })),\n                React.createElement(\"text\", { className: styles.ticks__text, x: -(TICK_LENGTH + TICK_MARGIN), y: 0 }, lines.join(' '))));\n        }),\n        React.createElement(\"text\", { ref: virtualTextRef, x: 0, y: 0, style: { visibility: 'hidden' }, \"aria-hidden\": \"true\" })));\n}\n"]},"metadata":{},"sourceType":"module"}