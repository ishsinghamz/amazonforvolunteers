{"ast":null,"code":"import React, { useEffect } from 'react';\nimport { useContainerQuery } from '../../internal/hooks/container-queries';\n\nfunction getScrollableContainers(element) {\n  var node = element;\n\n  while ((node = node.parentElement) && node !== document.body) {\n    if (['scroll', 'auto'].indexOf(getComputedStyle(node).overflow) > -1) {\n      return node;\n    }\n  }\n\n  return null;\n}\n\nexport function useStickyPosition(topOffset) {\n  if (topOffset === void 0) {\n    topOffset = 0;\n  }\n\n  var _a = useContainerQuery(function (rect) {\n    return rect.height;\n  }),\n      stickyHeight = _a[0],\n      stickyRef = _a[1];\n\n  var _b = useContainerQuery(function (rect) {\n    return rect.width;\n  }),\n      stickyWidth = _b[0],\n      placeholderRef = _b[1];\n\n  var placeholder = React.createElement(\"div\", {\n    ref: placeholderRef\n  });\n  useEffect(function () {\n    if (!stickyRef.current || !placeholderRef.current) {\n      return;\n    }\n\n    var stickyElement = stickyRef.current;\n    var placeholder = placeholderRef.current;\n    var scrollParent = getScrollableContainers(stickyElement);\n\n    var handler = function () {\n      var stickyBox = stickyElement.getBoundingClientRect();\n      var containerBox = scrollParent ? scrollParent.getBoundingClientRect() : {\n        top: 0\n      };\n\n      if (stickyBox.top - containerBox.top <= topOffset) {\n        stickyElement.style.position = 'fixed';\n        stickyElement.style.width = stickyWidth + \"px\";\n        stickyElement.style.top = topOffset + \"px\";\n        placeholder.style.height = stickyHeight + \"px\";\n      } else {\n        stickyElement.style.position = '';\n        stickyElement.style.width = \"\";\n        stickyElement.style.top = \"\";\n        placeholder.style.height = \"\";\n      }\n    };\n\n    var eventTarget = scrollParent || window;\n    eventTarget.addEventListener('scroll', handler);\n    handler();\n    return function () {\n      return eventTarget.removeEventListener('scroll', handler);\n    };\n  }, [topOffset, stickyWidth, stickyHeight, stickyRef, placeholderRef]);\n  return [stickyRef, placeholder];\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/app-layout/utils/use-sticky-position.js"],"names":["React","useEffect","useContainerQuery","getScrollableContainers","element","node","parentElement","document","body","indexOf","getComputedStyle","overflow","useStickyPosition","topOffset","_a","rect","height","stickyHeight","stickyRef","_b","width","stickyWidth","placeholderRef","placeholder","createElement","ref","current","stickyElement","scrollParent","handler","stickyBox","getBoundingClientRect","containerBox","top","style","position","eventTarget","window","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useContainerQuery } from '../../internal/hooks/container-queries';\nfunction getScrollableContainers(element) {\n    var node = element;\n    while ((node = node.parentElement) && node !== document.body) {\n        if (['scroll', 'auto'].indexOf(getComputedStyle(node).overflow) > -1) {\n            return node;\n        }\n    }\n    return null;\n}\nexport function useStickyPosition(topOffset) {\n    if (topOffset === void 0) { topOffset = 0; }\n    var _a = useContainerQuery(function (rect) { return rect.height; }), stickyHeight = _a[0], stickyRef = _a[1];\n    var _b = useContainerQuery(function (rect) { return rect.width; }), stickyWidth = _b[0], placeholderRef = _b[1];\n    var placeholder = React.createElement(\"div\", { ref: placeholderRef });\n    useEffect(function () {\n        if (!stickyRef.current || !placeholderRef.current) {\n            return;\n        }\n        var stickyElement = stickyRef.current;\n        var placeholder = placeholderRef.current;\n        var scrollParent = getScrollableContainers(stickyElement);\n        var handler = function () {\n            var stickyBox = stickyElement.getBoundingClientRect();\n            var containerBox = scrollParent ? scrollParent.getBoundingClientRect() : { top: 0 };\n            if (stickyBox.top - containerBox.top <= topOffset) {\n                stickyElement.style.position = 'fixed';\n                stickyElement.style.width = stickyWidth + \"px\";\n                stickyElement.style.top = topOffset + \"px\";\n                placeholder.style.height = stickyHeight + \"px\";\n            }\n            else {\n                stickyElement.style.position = '';\n                stickyElement.style.width = \"\";\n                stickyElement.style.top = \"\";\n                placeholder.style.height = \"\";\n            }\n        };\n        var eventTarget = scrollParent || window;\n        eventTarget.addEventListener('scroll', handler);\n        handler();\n        return function () { return eventTarget.removeEventListener('scroll', handler); };\n    }, [topOffset, stickyWidth, stickyHeight, stickyRef, placeholderRef]);\n    return [stickyRef, placeholder];\n}\n"]},"metadata":{},"sourceType":"module"}