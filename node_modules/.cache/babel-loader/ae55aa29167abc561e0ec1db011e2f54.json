{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport React, { forwardRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../../internal/events';\nimport { useUniqueId } from '../../../internal/hooks/use-unique-id';\nimport useFocusVisible from '../../../internal/hooks/focus-visible';\nimport InternalIcon from '../../../icon/internal';\nimport { useNavigate } from './router';\nimport styles from '../../styles.css.js';\n\nvar ListItem = function (_a) {\n  var children = _a.children,\n      startIcon = _a.startIcon,\n      endIcon = _a.endIcon;\n  return React.createElement(React.Fragment, null, startIcon && React.createElement(\"span\", {\n    className: styles['overflow-menu-list-item-icon']\n  }, startIcon), React.createElement(\"span\", {\n    className: styles['overflow-menu-list-item-text']\n  }, children), endIcon && endIcon);\n};\n\nvar LinkItem = forwardRef(function (_a, ref) {\n  var children = _a.children,\n      external = _a.external,\n      href = _a.href,\n      startIcon = _a.startIcon,\n      endIcon = _a.endIcon,\n      onFollow = _a.onFollow,\n      context = _a.context,\n      testId = _a.testId;\n  var focusVisible = useFocusVisible();\n  var rel = external ? 'noopener noreferrer' : undefined;\n  var target = external ? '_blank' : undefined;\n  var anchorProps = {\n    rel: rel,\n    target: target,\n    href: href,\n    onClick: function (event) {\n      if (isPlainLeftClick(event)) {\n        onFollow === null || onFollow === void 0 ? void 0 : onFollow(event);\n      }\n    }\n  };\n  var buttonProps = {\n    role: 'button',\n    tabIndex: 0,\n    onKeyDown: function (event) {\n      if (event.key === ' ') {\n        event.preventDefault();\n      }\n    },\n    onKeyUp: function (event) {\n      if (event.key === ' ' || event.key === 'Enter') {\n        onFollow === null || onFollow === void 0 ? void 0 : onFollow(event);\n      }\n    },\n    onClick: onFollow\n  };\n  return React.createElement(\"a\", __assign({\n    ref: ref,\n    className: clsx(styles['overflow-menu-control'], styles['overflow-menu-control-link'], context && styles[\"overflow-menu-control-\" + context])\n  }, typeof href === 'string' ? anchorProps : buttonProps, focusVisible, testId ? {\n    'data-testid': testId\n  } : {}), React.createElement(ListItem, {\n    startIcon: startIcon,\n    endIcon: endIcon\n  }, children));\n});\nvar ButtonItem = forwardRef(function (_a, ref) {\n  var children = _a.children,\n      startIcon = _a.startIcon,\n      endIcon = _a.endIcon,\n      onClick = _a.onFollow,\n      testId = _a.testId;\n  var focusVisible = useFocusVisible();\n  return React.createElement(\"button\", __assign({\n    ref: ref,\n    className: styles['overflow-menu-control'],\n    onClick: onClick\n  }, focusVisible, typeof testId === 'string' ? {\n    'data-testid': testId\n  } : {}), React.createElement(ListItem, {\n    startIcon: startIcon,\n    endIcon: endIcon\n  }, children));\n});\nvar NavigationItem = forwardRef(function (_a, ref) {\n  var startIcon = _a.startIcon,\n      children = _a.children,\n      index = _a.index,\n      testId = _a.testId,\n      definition = __rest(_a, [\"startIcon\", \"children\", \"index\", \"testId\"]);\n\n  var navigate = useNavigate();\n  return React.createElement(ButtonItem, {\n    ref: ref,\n    startIcon: startIcon,\n    endIcon: React.createElement(InternalIcon, {\n      name: \"angle-right\"\n    }),\n    testId: testId,\n    onFollow: function () {\n      return navigate('dropdown-menu', {\n        definition: definition,\n        headerText: definition.text || definition.title,\n        headerSecondaryText: definition.description,\n        utilityIndex: index\n      });\n    }\n  }, children);\n});\n\nvar ExpandableItem = function (_a) {\n  var children = _a.children,\n      onItemClick = _a.onItemClick,\n      definition = __rest(_a, [\"children\", \"onItemClick\"]);\n\n  var focusVisible = useFocusVisible();\n\n  var _b = useState(false),\n      expanded = _b[0],\n      setExpanded = _b[1];\n\n  var headerId = useUniqueId('overflow-menu-item');\n  return React.createElement(React.Fragment, null, React.createElement(\"button\", __assign({\n    className: clsx(styles['overflow-menu-control'], styles['overflow-menu-control-expandable-menu-trigger']),\n    onClick: function () {\n      return setExpanded(function (value) {\n        return !value;\n      });\n    },\n    \"aria-expanded\": expanded\n  }, focusVisible), React.createElement(ListItem, {\n    endIcon: React.createElement(\"span\", {\n      className: clsx(styles.icon, expanded && styles.expanded)\n    }, React.createElement(InternalIcon, {\n      name: \"caret-up-filled\"\n    }))\n  }, React.createElement(\"span\", {\n    id: headerId\n  }, children))), expanded && React.createElement(\"ul\", {\n    className: clsx(styles['overflow-menu-list'], styles['overflow-menu-list-submenu']),\n    \"aria-labelledby\": headerId\n  }, definition.items.map(function (item, index) {\n    var isGroup = typeof item.items !== 'undefined';\n    return React.createElement(\"li\", {\n      key: index,\n      className: clsx(styles[\"overflow-menu-list-item\"], styles[\"overflow-menu-list-item-dropdown-menu\"])\n    }, dropdownComponentFactory(item, isGroup, onItemClick));\n  })));\n};\n\nfunction utilityComponentFactory(utility, index, ref) {\n  var label = utility.text || utility.title;\n  var hasIcon = !!utility.iconName || !!utility.iconUrl || !!utility.iconAlt || !!utility.iconSvg;\n  var startIcon = hasIcon && React.createElement(InternalIcon, {\n    name: utility.iconName,\n    url: utility.iconUrl,\n    alt: utility.iconAlt,\n    svg: utility.iconSvg\n  });\n\n  switch (utility.type) {\n    case 'button':\n      {\n        var handleClick = function (event) {\n          fireCancelableEvent(utility.onClick, {}, event);\n        };\n\n        if (utility.variant === 'primary-button') {\n          return React.createElement(ButtonItem, {\n            ref: ref,\n            startIcon: startIcon,\n            onFollow: handleClick,\n            testId: \"__\" + index\n          }, label);\n        }\n\n        return React.createElement(LinkItem, {\n          ref: ref,\n          startIcon: startIcon,\n          href: utility.href,\n          external: utility.external,\n          testId: \"__\" + index,\n          onFollow: handleClick\n        }, label, utility.external && React.createElement(React.Fragment, null, ' ', React.createElement(\"span\", {\n          \"aria-label\": utility.externalIconAriaLabel,\n          role: utility.externalIconAriaLabel ? 'img' : undefined\n        }, React.createElement(InternalIcon, {\n          name: \"external\",\n          size: \"normal\"\n        }))));\n      }\n\n    case 'menu-dropdown':\n      {\n        return React.createElement(NavigationItem, __assign({\n          ref: ref,\n          startIcon: startIcon,\n          index: index\n        }, utility, {\n          testId: \"__\" + index\n        }), label);\n      }\n  }\n}\n\nfunction dropdownComponentFactory(item, expandable, onItemClick) {\n  var label = item.text;\n  var hasIcon = !!item.iconName || !!item.iconUrl || !!item.iconAlt || !!item.iconSvg;\n  var startIcon = hasIcon && React.createElement(InternalIcon, {\n    name: item.iconName,\n    url: item.iconUrl,\n    alt: item.iconAlt,\n    svg: item.iconSvg\n  });\n\n  if (expandable) {\n    return React.createElement(ExpandableItem, __assign({}, item, {\n      onItemClick: onItemClick\n    }), label);\n  }\n\n  return React.createElement(LinkItem, {\n    startIcon: startIcon,\n    href: item.href,\n    external: item.external,\n    context: \"dropdown-menu\",\n    testId: item.id,\n    onFollow: function () {\n      return onItemClick(item);\n    }\n  }, label, item.external && React.createElement(React.Fragment, null, ' ', React.createElement(\"span\", {\n    \"aria-label\": item.externalIconAriaLabel,\n    role: item.externalIconAriaLabel ? 'img' : undefined\n  }, React.createElement(InternalIcon, {\n    name: \"external\",\n    size: \"normal\"\n  }))));\n}\n\nexport var UtilityMenuItem = forwardRef(function (_a, ref) {\n  var index = _a.index,\n      props = __rest(_a, [\"index\"]);\n\n  return React.createElement(\"li\", {\n    className: clsx(styles[\"overflow-menu-list-item\"], styles[\"overflow-menu-list-item-utility\"])\n  }, utilityComponentFactory(props, index, ref));\n});\nexport var SubmenuItem = function (props) {\n  var expandable = typeof props.items !== 'undefined';\n  return React.createElement(\"li\", {\n    className: clsx(styles[\"overflow-menu-list-item\"], styles[\"overflow-menu-list-item-submenu\"], expandable && styles[\"overflow-menu-list-item-expandable\"])\n  }, dropdownComponentFactory(props, expandable, props.onItemClick));\n};","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/top-navigation/parts/overflow-menu/menu-item.js"],"names":["__assign","__rest","React","forwardRef","useState","clsx","fireCancelableEvent","isPlainLeftClick","useUniqueId","useFocusVisible","InternalIcon","useNavigate","styles","ListItem","_a","children","startIcon","endIcon","createElement","Fragment","className","LinkItem","ref","external","href","onFollow","context","testId","focusVisible","rel","undefined","target","anchorProps","onClick","event","buttonProps","role","tabIndex","onKeyDown","key","preventDefault","onKeyUp","ButtonItem","NavigationItem","index","definition","navigate","name","headerText","text","title","headerSecondaryText","description","utilityIndex","ExpandableItem","onItemClick","_b","expanded","setExpanded","headerId","value","icon","id","items","map","item","isGroup","dropdownComponentFactory","utilityComponentFactory","utility","label","hasIcon","iconName","iconUrl","iconAlt","iconSvg","url","alt","svg","type","handleClick","variant","externalIconAriaLabel","size","expandable","UtilityMenuItem","props","SubmenuItem"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport React, { forwardRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../../internal/events';\nimport { useUniqueId } from '../../../internal/hooks/use-unique-id';\nimport useFocusVisible from '../../../internal/hooks/focus-visible';\nimport InternalIcon from '../../../icon/internal';\nimport { useNavigate } from './router';\nimport styles from '../../styles.css.js';\nvar ListItem = function (_a) {\n    var children = _a.children, startIcon = _a.startIcon, endIcon = _a.endIcon;\n    return (React.createElement(React.Fragment, null,\n        startIcon && React.createElement(\"span\", { className: styles['overflow-menu-list-item-icon'] }, startIcon),\n        React.createElement(\"span\", { className: styles['overflow-menu-list-item-text'] }, children),\n        endIcon && endIcon));\n};\nvar LinkItem = forwardRef(function (_a, ref) {\n    var children = _a.children, external = _a.external, href = _a.href, startIcon = _a.startIcon, endIcon = _a.endIcon, onFollow = _a.onFollow, context = _a.context, testId = _a.testId;\n    var focusVisible = useFocusVisible();\n    var rel = external ? 'noopener noreferrer' : undefined;\n    var target = external ? '_blank' : undefined;\n    var anchorProps = {\n        rel: rel,\n        target: target,\n        href: href,\n        onClick: function (event) {\n            if (isPlainLeftClick(event)) {\n                onFollow === null || onFollow === void 0 ? void 0 : onFollow(event);\n            }\n        }\n    };\n    var buttonProps = {\n        role: 'button',\n        tabIndex: 0,\n        onKeyDown: function (event) {\n            if (event.key === ' ') {\n                event.preventDefault();\n            }\n        },\n        onKeyUp: function (event) {\n            if (event.key === ' ' || event.key === 'Enter') {\n                onFollow === null || onFollow === void 0 ? void 0 : onFollow(event);\n            }\n        },\n        onClick: onFollow\n    };\n    return (React.createElement(\"a\", __assign({ ref: ref, className: clsx(styles['overflow-menu-control'], styles['overflow-menu-control-link'], context && styles[\"overflow-menu-control-\" + context]) }, (typeof href === 'string' ? anchorProps : buttonProps), focusVisible, (testId ? { 'data-testid': testId } : {})),\n        React.createElement(ListItem, { startIcon: startIcon, endIcon: endIcon }, children)));\n});\nvar ButtonItem = forwardRef(function (_a, ref) {\n    var children = _a.children, startIcon = _a.startIcon, endIcon = _a.endIcon, onClick = _a.onFollow, testId = _a.testId;\n    var focusVisible = useFocusVisible();\n    return (React.createElement(\"button\", __assign({ ref: ref, className: styles['overflow-menu-control'], onClick: onClick }, focusVisible, (typeof testId === 'string' ? { 'data-testid': testId } : {})),\n        React.createElement(ListItem, { startIcon: startIcon, endIcon: endIcon }, children)));\n});\nvar NavigationItem = forwardRef(function (_a, ref) {\n    var startIcon = _a.startIcon, children = _a.children, index = _a.index, testId = _a.testId, definition = __rest(_a, [\"startIcon\", \"children\", \"index\", \"testId\"]);\n    var navigate = useNavigate();\n    return (React.createElement(ButtonItem, { ref: ref, startIcon: startIcon, endIcon: React.createElement(InternalIcon, { name: \"angle-right\" }), testId: testId, onFollow: function () {\n            return navigate('dropdown-menu', {\n                definition: definition,\n                headerText: definition.text || definition.title,\n                headerSecondaryText: definition.description,\n                utilityIndex: index\n            });\n        } }, children));\n});\nvar ExpandableItem = function (_a) {\n    var children = _a.children, onItemClick = _a.onItemClick, definition = __rest(_a, [\"children\", \"onItemClick\"]);\n    var focusVisible = useFocusVisible();\n    var _b = useState(false), expanded = _b[0], setExpanded = _b[1];\n    var headerId = useUniqueId('overflow-menu-item');\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"button\", __assign({ className: clsx(styles['overflow-menu-control'], styles['overflow-menu-control-expandable-menu-trigger']), onClick: function () { return setExpanded(function (value) { return !value; }); }, \"aria-expanded\": expanded }, focusVisible),\n            React.createElement(ListItem, { endIcon: React.createElement(\"span\", { className: clsx(styles.icon, expanded && styles.expanded) },\n                    React.createElement(InternalIcon, { name: \"caret-up-filled\" })) },\n                React.createElement(\"span\", { id: headerId }, children))),\n        expanded && (React.createElement(\"ul\", { className: clsx(styles['overflow-menu-list'], styles['overflow-menu-list-submenu']), \"aria-labelledby\": headerId }, definition.items.map(function (item, index) {\n            var isGroup = typeof item.items !== 'undefined';\n            return (React.createElement(\"li\", { key: index, className: clsx(styles[\"overflow-menu-list-item\"], styles[\"overflow-menu-list-item-dropdown-menu\"]) }, dropdownComponentFactory(item, isGroup, onItemClick)));\n        })))));\n};\nfunction utilityComponentFactory(utility, index, ref) {\n    var label = utility.text || utility.title;\n    var hasIcon = !!utility.iconName || !!utility.iconUrl || !!utility.iconAlt || !!utility.iconSvg;\n    var startIcon = hasIcon && (React.createElement(InternalIcon, { name: utility.iconName, url: utility.iconUrl, alt: utility.iconAlt, svg: utility.iconSvg }));\n    switch (utility.type) {\n        case 'button': {\n            var handleClick = function (event) {\n                fireCancelableEvent(utility.onClick, {}, event);\n            };\n            if (utility.variant === 'primary-button') {\n                return (React.createElement(ButtonItem, { ref: ref, startIcon: startIcon, onFollow: handleClick, testId: \"__\" + index }, label));\n            }\n            return (React.createElement(LinkItem, { ref: ref, startIcon: startIcon, href: utility.href, external: utility.external, testId: \"__\" + index, onFollow: handleClick },\n                label,\n                utility.external && (React.createElement(React.Fragment, null,\n                    ' ',\n                    React.createElement(\"span\", { \"aria-label\": utility.externalIconAriaLabel, role: utility.externalIconAriaLabel ? 'img' : undefined },\n                        React.createElement(InternalIcon, { name: \"external\", size: \"normal\" }))))));\n        }\n        case 'menu-dropdown': {\n            return (React.createElement(NavigationItem, __assign({ ref: ref, startIcon: startIcon, index: index }, utility, { testId: \"__\" + index }), label));\n        }\n    }\n}\nfunction dropdownComponentFactory(item, expandable, onItemClick) {\n    var label = item.text;\n    var hasIcon = !!item.iconName || !!item.iconUrl || !!item.iconAlt || !!item.iconSvg;\n    var startIcon = hasIcon && (React.createElement(InternalIcon, { name: item.iconName, url: item.iconUrl, alt: item.iconAlt, svg: item.iconSvg }));\n    if (expandable) {\n        return (React.createElement(ExpandableItem, __assign({}, item, { onItemClick: onItemClick }), label));\n    }\n    return (React.createElement(LinkItem, { startIcon: startIcon, href: item.href, external: item.external, context: \"dropdown-menu\", testId: item.id, onFollow: function () { return onItemClick(item); } },\n        label,\n        item.external && (React.createElement(React.Fragment, null,\n            ' ',\n            React.createElement(\"span\", { \"aria-label\": item.externalIconAriaLabel, role: item.externalIconAriaLabel ? 'img' : undefined },\n                React.createElement(InternalIcon, { name: \"external\", size: \"normal\" }))))));\n}\nexport var UtilityMenuItem = forwardRef(function (_a, ref) {\n    var index = _a.index, props = __rest(_a, [\"index\"]);\n    return (React.createElement(\"li\", { className: clsx(styles[\"overflow-menu-list-item\"], styles[\"overflow-menu-list-item-utility\"]) }, utilityComponentFactory(props, index, ref)));\n});\nexport var SubmenuItem = function (props) {\n    var expandable = typeof props.items !== 'undefined';\n    return (React.createElement(\"li\", { className: clsx(styles[\"overflow-menu-list-item\"], styles[\"overflow-menu-list-item-submenu\"], expandable && styles[\"overflow-menu-list-item-expandable\"]) }, dropdownComponentFactory(props, expandable, props.onItemClick)));\n};\n"]},"metadata":{},"sourceType":"module"}