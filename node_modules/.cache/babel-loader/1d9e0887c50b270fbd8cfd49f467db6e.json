{"ast":null,"code":"import React, { useCallback, useLayoutEffect, useMemo, useRef } from 'react';\nimport clsx from 'clsx';\nimport { arc } from 'd3-shape';\nimport styles from './styles.css.js';\nimport { dimensionsBySize, balanceLabelNodes } from './utils';\nimport { useResizeObserver } from '../internal/hooks/container-queries';\nimport ResponsiveText from './responsive-text';\n\nfunction LabelElement(_a) {\n  var x = _a.x,\n      y = _a.y,\n      hideTitles = _a.hideTitles,\n      hideDescriptions = _a.hideDescriptions,\n      rightSide = _a.rightSide,\n      title = _a.title,\n      description = _a.description,\n      containerBoundaries = _a.containerBoundaries;\n  return React.createElement(\"g\", {\n    className: styles['label-text'],\n    transform: \"\",\n    \"data-x\": x,\n    \"data-y\": y\n  }, !hideTitles && React.createElement(ResponsiveText, {\n    x: x,\n    y: y,\n    rightSide: rightSide,\n    containerBoundaries: containerBoundaries\n  }, title), !hideDescriptions && description && React.createElement(ResponsiveText, {\n    x: x,\n    y: y + (hideTitles ? 0 : 18),\n    rightSide: rightSide,\n    className: styles.label__description,\n    containerBoundaries: containerBoundaries\n  }, description));\n}\n\nexport default (function (_a) {\n  var pieData = _a.pieData,\n      size = _a.size,\n      highlightedSegment = _a.highlightedSegment,\n      segmentDescription = _a.segmentDescription,\n      visibleDataSum = _a.visibleDataSum,\n      hideTitles = _a.hideTitles,\n      hideDescriptions = _a.hideDescriptions,\n      containerRef = _a.containerRef;\n  var containerBoundaries = useElementBoundaries(containerRef);\n  var markers = useMemo(function () {\n    var _a = dimensionsBySize[size],\n        radius = _a.outerRadius,\n        innerLabelPadding = _a.innerLabelPadding;\n    var arcMarkerStart = arc().innerRadius(radius - 1).outerRadius(radius - 1);\n    var arcMarkerBreak = arc().innerRadius(radius + innerLabelPadding).outerRadius(radius + innerLabelPadding);\n    return pieData.map(function (datum, i) {\n      var labelDatum = pieData[i];\n      var midAngle = labelDatum.startAngle + (labelDatum.endAngle - labelDatum.startAngle) / 2;\n      arcMarkerBreak.outerRadius(radius + 20 * (0.5 * Math.cos(2 * midAngle) + 0.5));\n      arcMarkerBreak.innerRadius(radius + 20 * (0.5 * Math.cos(2 * midAngle) + 0.5));\n\n      var _a = arcMarkerStart.centroid(datum),\n          startX = _a[0],\n          startY = _a[1];\n\n      var _b = arcMarkerBreak.centroid(datum),\n          breakX = _b[0],\n          breakY = _b[1];\n\n      var rightSide = midAngle < Math.PI;\n      var endX = (radius + 20) * (rightSide ? 1 : -1);\n      var textX = endX + 5 * (rightSide ? 1 : -1);\n      return {\n        startX: startX,\n        startY: startY,\n        breakX: breakX,\n        breakY: breakY,\n        endX: endX,\n        endY: breakY,\n        textX: textX,\n        textY: breakY,\n        rightSide: rightSide,\n        datum: datum\n      };\n    });\n  }, [pieData, size]);\n  var rootRef = useRef(null);\n  useLayoutEffect(function () {\n    if (!rootRef.current) {\n      return;\n    }\n\n    var labelNodes = rootRef.current.querySelectorAll(\".\" + styles['label-text']);\n    balanceLabelNodes(labelNodes, markers, false);\n    balanceLabelNodes(labelNodes, markers, true);\n  }, [markers, pieData]);\n  return React.createElement(\"g\", {\n    className: styles.markers,\n    \"aria-hidden\": \"true\",\n    ref: rootRef\n  }, markers.map(function (_a) {\n    var _b;\n\n    var startX = _a.startX,\n        startY = _a.startY,\n        breakX = _a.breakX,\n        breakY = _a.breakY,\n        endX = _a.endX,\n        endY = _a.endY,\n        textX = _a.textX,\n        textY = _a.textY,\n        rightSide = _a.rightSide,\n        datum = _a.datum;\n    var segment = datum.data.datum;\n    var description = segmentDescription === null || segmentDescription === void 0 ? void 0 : segmentDescription(segment, visibleDataSum);\n\n    if (hideTitles && !description || hideDescriptions && !segment.title) {\n      return null;\n    }\n\n    return React.createElement(\"g\", {\n      key: datum.data.index,\n      className: clsx(styles.label, (_b = {}, _b[styles['label--highlighted']] = highlightedSegment === segment, _b[styles['label--dimmed']] = highlightedSegment !== null && highlightedSegment !== segment, _b[styles['label--align-right']] = !rightSide, _b))\n    }, React.createElement(\"line\", {\n      x1: startX,\n      y1: startY,\n      x2: breakX,\n      y2: breakY\n    }), React.createElement(\"line\", {\n      x1: breakX,\n      y1: breakY,\n      x2: endX,\n      y2: endY,\n      className: styles['label-line']\n    }), React.createElement(LabelElement, {\n      x: textX,\n      y: textY,\n      rightSide: rightSide,\n      title: segment.title,\n      description: description,\n      hideTitles: hideTitles,\n      hideDescriptions: hideDescriptions,\n      containerBoundaries: containerBoundaries\n    }));\n  }));\n});\n\nfunction useElementBoundaries(ref) {\n  var refFn = useCallback(function () {\n    return ref.current;\n  }, [ref]);\n  var getWidthFn = useCallback(function () {\n    var elementRect = ref.current.getBoundingClientRect();\n    return {\n      left: elementRect.left,\n      right: elementRect.right\n    };\n  }, [ref]);\n  return useResizeObserver(refFn, getWidthFn);\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/pie-chart/labels.js"],"names":["React","useCallback","useLayoutEffect","useMemo","useRef","clsx","arc","styles","dimensionsBySize","balanceLabelNodes","useResizeObserver","ResponsiveText","LabelElement","_a","x","y","hideTitles","hideDescriptions","rightSide","title","description","containerBoundaries","createElement","className","transform","label__description","pieData","size","highlightedSegment","segmentDescription","visibleDataSum","containerRef","useElementBoundaries","markers","radius","outerRadius","innerLabelPadding","arcMarkerStart","innerRadius","arcMarkerBreak","map","datum","i","labelDatum","midAngle","startAngle","endAngle","Math","cos","centroid","startX","startY","_b","breakX","breakY","PI","endX","textX","endY","textY","rootRef","current","labelNodes","querySelectorAll","ref","segment","data","key","index","label","x1","y1","x2","y2","refFn","getWidthFn","elementRect","getBoundingClientRect","left","right"],"mappings":"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","sourcesContent":["import React, { useCallback, useLayoutEffect, useMemo, useRef } from 'react';\nimport clsx from 'clsx';\nimport { arc } from 'd3-shape';\nimport styles from './styles.css.js';\nimport { dimensionsBySize, balanceLabelNodes } from './utils';\nimport { useResizeObserver } from '../internal/hooks/container-queries';\nimport ResponsiveText from './responsive-text';\nfunction LabelElement(_a) {\n    var x = _a.x, y = _a.y, hideTitles = _a.hideTitles, hideDescriptions = _a.hideDescriptions, rightSide = _a.rightSide, title = _a.title, description = _a.description, containerBoundaries = _a.containerBoundaries;\n    return (React.createElement(\"g\", { className: styles['label-text'], transform: \"\", \"data-x\": x, \"data-y\": y },\n        !hideTitles && (React.createElement(ResponsiveText, { x: x, y: y, rightSide: rightSide, containerBoundaries: containerBoundaries }, title)),\n        !hideDescriptions && description && (React.createElement(ResponsiveText, { x: x, y: y + (hideTitles ? 0 : 18), rightSide: rightSide, className: styles.label__description, containerBoundaries: containerBoundaries }, description))));\n}\nexport default (function (_a) {\n    var pieData = _a.pieData, size = _a.size, highlightedSegment = _a.highlightedSegment, segmentDescription = _a.segmentDescription, visibleDataSum = _a.visibleDataSum, hideTitles = _a.hideTitles, hideDescriptions = _a.hideDescriptions, containerRef = _a.containerRef;\n    var containerBoundaries = useElementBoundaries(containerRef);\n    var markers = useMemo(function () {\n        var _a = dimensionsBySize[size], radius = _a.outerRadius, innerLabelPadding = _a.innerLabelPadding;\n        var arcMarkerStart = arc()\n            .innerRadius(radius - 1)\n            .outerRadius(radius - 1);\n        var arcMarkerBreak = arc()\n            .innerRadius(radius + innerLabelPadding)\n            .outerRadius(radius + innerLabelPadding);\n        return pieData.map(function (datum, i) {\n            var labelDatum = pieData[i];\n            var midAngle = labelDatum.startAngle + (labelDatum.endAngle - labelDatum.startAngle) / 2;\n            arcMarkerBreak.outerRadius(radius + 20 * (0.5 * Math.cos(2 * midAngle) + 0.5));\n            arcMarkerBreak.innerRadius(radius + 20 * (0.5 * Math.cos(2 * midAngle) + 0.5));\n            var _a = arcMarkerStart.centroid(datum), startX = _a[0], startY = _a[1];\n            var _b = arcMarkerBreak.centroid(datum), breakX = _b[0], breakY = _b[1];\n            var rightSide = midAngle < Math.PI;\n            var endX = (radius + 20) * (rightSide ? 1 : -1);\n            var textX = endX + 5 * (rightSide ? 1 : -1);\n            return {\n                startX: startX,\n                startY: startY,\n                breakX: breakX,\n                breakY: breakY,\n                endX: endX,\n                endY: breakY,\n                textX: textX,\n                textY: breakY,\n                rightSide: rightSide,\n                datum: datum\n            };\n        });\n    }, [pieData, size]);\n    var rootRef = useRef(null);\n    useLayoutEffect(function () {\n        if (!rootRef.current) {\n            return;\n        }\n        var labelNodes = rootRef.current.querySelectorAll(\".\" + styles['label-text']);\n        balanceLabelNodes(labelNodes, markers, false);\n        balanceLabelNodes(labelNodes, markers, true);\n    }, [markers, pieData]);\n    return (React.createElement(\"g\", { className: styles.markers, \"aria-hidden\": \"true\", ref: rootRef }, markers.map(function (_a) {\n        var _b;\n        var startX = _a.startX, startY = _a.startY, breakX = _a.breakX, breakY = _a.breakY, endX = _a.endX, endY = _a.endY, textX = _a.textX, textY = _a.textY, rightSide = _a.rightSide, datum = _a.datum;\n        var segment = datum.data.datum;\n        var description = segmentDescription === null || segmentDescription === void 0 ? void 0 : segmentDescription(segment, visibleDataSum);\n        if ((hideTitles && !description) || (hideDescriptions && !segment.title)) {\n            return null;\n        }\n        return (React.createElement(\"g\", { key: datum.data.index, className: clsx(styles.label, (_b = {},\n                _b[styles['label--highlighted']] = highlightedSegment === segment,\n                _b[styles['label--dimmed']] = highlightedSegment !== null && highlightedSegment !== segment,\n                _b[styles['label--align-right']] = !rightSide,\n                _b)) },\n            React.createElement(\"line\", { x1: startX, y1: startY, x2: breakX, y2: breakY }),\n            React.createElement(\"line\", { x1: breakX, y1: breakY, x2: endX, y2: endY, className: styles['label-line'] }),\n            React.createElement(LabelElement, { x: textX, y: textY, rightSide: rightSide, title: segment.title, description: description, hideTitles: hideTitles, hideDescriptions: hideDescriptions, containerBoundaries: containerBoundaries })));\n    })));\n});\nfunction useElementBoundaries(ref) {\n    var refFn = useCallback(function () { return ref.current; }, [ref]);\n    var getWidthFn = useCallback(function () {\n        var elementRect = ref.current.getBoundingClientRect();\n        return { left: elementRect.left, right: elementRect.right };\n    }, [ref]);\n    return useResizeObserver(refFn, getWidthFn);\n}\n"]},"metadata":{},"sourceType":"module"}