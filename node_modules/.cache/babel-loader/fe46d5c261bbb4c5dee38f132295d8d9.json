{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { fixupFalsyValues } from './operations/property-filter.js';\nexport function collectionReducer(state, action) {\n  var newState = __assign({}, state);\n\n  switch (action.type) {\n    case 'selection':\n      newState.selectedItems = action.selectedItems;\n      break;\n\n    case 'filtering':\n      newState.currentPageIndex = 1;\n      newState.filteringText = action.filteringText;\n      break;\n\n    case 'sorting':\n      newState.currentPageIndex = 1;\n      newState.sortingState = action.sortingState;\n      break;\n\n    case 'pagination':\n      newState.currentPageIndex = action.pageIndex;\n      break;\n\n    case 'property-filtering':\n      newState.currentPageIndex = 1;\n      newState.propertyFilteringQuery = action.query;\n      break;\n  }\n\n  return newState;\n}\nexport function createActions(_a) {\n  var dispatch = _a.dispatch,\n      collectionRef = _a.collectionRef;\n  return {\n    setFiltering: function (filteringText) {\n      dispatch({\n        type: 'filtering',\n        filteringText: filteringText\n      });\n      collectionRef.current && collectionRef.current.scrollToTop();\n    },\n    setSorting: function (state) {\n      dispatch({\n        type: 'sorting',\n        sortingState: state\n      });\n      collectionRef.current && collectionRef.current.scrollToTop();\n    },\n    setCurrentPage: function (pageIndex) {\n      dispatch({\n        type: 'pagination',\n        pageIndex: pageIndex\n      });\n      collectionRef.current && collectionRef.current.scrollToTop();\n    },\n    setSelectedItems: function (selectedItems) {\n      dispatch({\n        type: 'selection',\n        selectedItems: selectedItems\n      });\n    },\n    setPropertyFiltering: function (query) {\n      dispatch({\n        type: 'property-filtering',\n        query: query\n      });\n      collectionRef.current && collectionRef.current.scrollToTop();\n    }\n  };\n}\nexport function createSyncProps(options, _a, actions, collectionRef, _b) {\n  var _c;\n\n  var filteringText = _a.filteringText,\n      sortingState = _a.sortingState,\n      selectedItems = _a.selectedItems,\n      currentPageIndex = _a.currentPageIndex,\n      propertyFilteringQuery = _a.propertyFilteringQuery;\n  var pagesCount = _b.pagesCount,\n      actualPageIndex = _b.actualPageIndex,\n      allItems = _b.allItems;\n  var empty = options.filtering ? allItems.length ? options.filtering.noMatch : options.filtering.empty : null;\n  empty = options.propertyFiltering ? allItems.length ? options.propertyFiltering.noMatch : options.propertyFiltering.empty : empty;\n  var filteringOptions = options.propertyFiltering ? options.propertyFiltering.filteringProperties.reduce(function (acc, property) {\n    Object.keys(allItems.reduce(function (acc, item) {\n      acc['' + fixupFalsyValues(item[property.key])] = true;\n      return acc;\n    }, {})).forEach(function (value) {\n      if (value !== '') {\n        acc.push({\n          propertyKey: property.key,\n          value: value\n        });\n      }\n    });\n    return acc;\n  }, []) : [];\n  return {\n    collectionProps: __assign(__assign(__assign({\n      empty: empty\n    }, options.sorting ? {\n      onSortingChange: function (_a) {\n        var detail = _a.detail;\n        actions.setSorting(detail);\n      },\n      sortingColumn: sortingState === null || sortingState === void 0 ? void 0 : sortingState.sortingColumn,\n      sortingDescending: sortingState === null || sortingState === void 0 ? void 0 : sortingState.isDescending\n    } : {}), options.selection ? {\n      onSelectionChange: function (_a) {\n        var selectedItems = _a.detail.selectedItems;\n        actions.setSelectedItems(selectedItems);\n      },\n      selectedItems: selectedItems,\n      trackBy: options.selection.trackBy\n    } : {}), {\n      ref: collectionRef\n    }),\n    filterProps: {\n      filteringText: filteringText,\n      onChange: function (_a) {\n        var filteringText = _a.detail.filteringText;\n        actions.setFiltering(filteringText);\n      }\n    },\n    propertyFilterProps: {\n      query: propertyFilteringQuery,\n      onChange: function (_a) {\n        var query = _a.detail;\n        actions.setPropertyFiltering(query);\n      },\n      filteringProperties: ((_c = options.propertyFiltering) === null || _c === void 0 ? void 0 : _c.filteringProperties) || [],\n      filteringOptions: filteringOptions\n    },\n    paginationProps: {\n      currentPageIndex: actualPageIndex !== null && actualPageIndex !== void 0 ? actualPageIndex : currentPageIndex,\n      // pagesCount is always calculated when options.pagination is present\n      pagesCount: pagesCount,\n      onChange: function (_a) {\n        var currentPageIndex = _a.detail.currentPageIndex;\n        actions.setCurrentPage(currentPageIndex);\n      }\n    }\n  };\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/collection-hooks/dist/mjs/utils.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","fixupFalsyValues","collectionReducer","state","action","newState","type","selectedItems","currentPageIndex","filteringText","sortingState","pageIndex","propertyFilteringQuery","query","createActions","_a","dispatch","collectionRef","setFiltering","current","scrollToTop","setSorting","setCurrentPage","setSelectedItems","setPropertyFiltering","createSyncProps","options","actions","_b","_c","pagesCount","actualPageIndex","allItems","empty","filtering","noMatch","propertyFiltering","filteringOptions","filteringProperties","reduce","acc","property","keys","item","key","forEach","value","push","propertyKey","collectionProps","sorting","onSortingChange","detail","sortingColumn","sortingDescending","isDescending","selection","onSelectionChange","trackBy","ref","filterProps","onChange","propertyFilterProps","paginationProps"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { fixupFalsyValues } from './operations/property-filter.js';\nexport function collectionReducer(state, action) {\n    var newState = __assign({}, state);\n    switch (action.type) {\n        case 'selection':\n            newState.selectedItems = action.selectedItems;\n            break;\n        case 'filtering':\n            newState.currentPageIndex = 1;\n            newState.filteringText = action.filteringText;\n            break;\n        case 'sorting':\n            newState.currentPageIndex = 1;\n            newState.sortingState = action.sortingState;\n            break;\n        case 'pagination':\n            newState.currentPageIndex = action.pageIndex;\n            break;\n        case 'property-filtering':\n            newState.currentPageIndex = 1;\n            newState.propertyFilteringQuery = action.query;\n            break;\n    }\n    return newState;\n}\nexport function createActions(_a) {\n    var dispatch = _a.dispatch, collectionRef = _a.collectionRef;\n    return {\n        setFiltering: function (filteringText) {\n            dispatch({ type: 'filtering', filteringText: filteringText });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n        setSorting: function (state) {\n            dispatch({ type: 'sorting', sortingState: state });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n        setCurrentPage: function (pageIndex) {\n            dispatch({ type: 'pagination', pageIndex: pageIndex });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n        setSelectedItems: function (selectedItems) {\n            dispatch({ type: 'selection', selectedItems: selectedItems });\n        },\n        setPropertyFiltering: function (query) {\n            dispatch({ type: 'property-filtering', query: query });\n            collectionRef.current && collectionRef.current.scrollToTop();\n        },\n    };\n}\nexport function createSyncProps(options, _a, actions, collectionRef, _b) {\n    var _c;\n    var filteringText = _a.filteringText, sortingState = _a.sortingState, selectedItems = _a.selectedItems, currentPageIndex = _a.currentPageIndex, propertyFilteringQuery = _a.propertyFilteringQuery;\n    var pagesCount = _b.pagesCount, actualPageIndex = _b.actualPageIndex, allItems = _b.allItems;\n    var empty = options.filtering\n        ? allItems.length\n            ? options.filtering.noMatch\n            : options.filtering.empty\n        : null;\n    empty = options.propertyFiltering\n        ? allItems.length\n            ? options.propertyFiltering.noMatch\n            : options.propertyFiltering.empty\n        : empty;\n    var filteringOptions = options.propertyFiltering\n        ? options.propertyFiltering.filteringProperties.reduce(function (acc, property) {\n            Object.keys(allItems.reduce(function (acc, item) {\n                acc['' + fixupFalsyValues(item[property.key])] = true;\n                return acc;\n            }, {})).forEach(function (value) {\n                if (value !== '') {\n                    acc.push({\n                        propertyKey: property.key,\n                        value: value,\n                    });\n                }\n            });\n            return acc;\n        }, [])\n        : [];\n    return {\n        collectionProps: __assign(__assign(__assign({ empty: empty }, (options.sorting\n            ? {\n                onSortingChange: function (_a) {\n                    var detail = _a.detail;\n                    actions.setSorting(detail);\n                },\n                sortingColumn: sortingState === null || sortingState === void 0 ? void 0 : sortingState.sortingColumn,\n                sortingDescending: sortingState === null || sortingState === void 0 ? void 0 : sortingState.isDescending,\n            }\n            : {})), (options.selection\n            ? {\n                onSelectionChange: function (_a) {\n                    var selectedItems = _a.detail.selectedItems;\n                    actions.setSelectedItems(selectedItems);\n                },\n                selectedItems: selectedItems,\n                trackBy: options.selection.trackBy,\n            }\n            : {})), { ref: collectionRef }),\n        filterProps: {\n            filteringText: filteringText,\n            onChange: function (_a) {\n                var filteringText = _a.detail.filteringText;\n                actions.setFiltering(filteringText);\n            },\n        },\n        propertyFilterProps: {\n            query: propertyFilteringQuery,\n            onChange: function (_a) {\n                var query = _a.detail;\n                actions.setPropertyFiltering(query);\n            },\n            filteringProperties: ((_c = options.propertyFiltering) === null || _c === void 0 ? void 0 : _c.filteringProperties) || [],\n            filteringOptions: filteringOptions,\n        },\n        paginationProps: {\n            currentPageIndex: actualPageIndex !== null && actualPageIndex !== void 0 ? actualPageIndex : currentPageIndex,\n            // pagesCount is always calculated when options.pagination is present\n            pagesCount: pagesCount,\n            onChange: function (_a) {\n                var currentPageIndex = _a.detail.currentPageIndex;\n                actions.setCurrentPage(currentPageIndex);\n            },\n        },\n    };\n}\n"]},"metadata":{},"sourceType":"module"}