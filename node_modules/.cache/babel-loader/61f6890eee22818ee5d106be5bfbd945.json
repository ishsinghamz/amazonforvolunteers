{"ast":null,"code":"import { useState } from 'react';\nimport { ALWAYS_VISUAL_REFRESH } from '../../environment';\nimport { isMotionDisabled } from '../../motion';\nimport { findUpUntil } from '../../utils/dom';\nimport { useMutationObserver } from '../use-mutation-observer';\nexport function useCurrentMode(elementRef) {\n  var _a = useState('light'),\n      value = _a[0],\n      setValue = _a[1];\n\n  useMutationObserver(elementRef, function (node) {\n    var darkModeParent = findUpUntil(node, function (node) {\n      return node.classList.contains('awsui-dark-mode') || node.classList.contains('awsui-dark-mode');\n    });\n    setValue(darkModeParent ? 'dark' : 'light');\n  });\n  return value;\n}\nexport function useDensityMode(elementRef) {\n  var _a = useState('comfortable'),\n      value = _a[0],\n      setValue = _a[1];\n\n  useMutationObserver(elementRef, function (node) {\n    var compactModeParent = findUpUntil(node, function (node) {\n      return node.classList.contains('awsui-compact-mode') || node.classList.contains('awsui-compact-mode');\n    });\n    setValue(compactModeParent ? 'compact' : 'comfortable');\n  });\n  return value;\n}\nexport function useVisualRefresh(elementRef) {\n  var _a = useState(Boolean(ALWAYS_VISUAL_REFRESH)),\n      value = _a[0],\n      setValue = _a[1];\n\n  useMutationObserver(elementRef, function (node) {\n    var _a, _b;\n\n    var supportsCSSVariables = (_b = (_a = window.CSS) === null || _a === void 0 ? void 0 : _a.supports) === null || _b === void 0 ? void 0 : _b.call(_a, 'color', 'var(--test-var)');\n\n    if (!supportsCSSVariables || ALWAYS_VISUAL_REFRESH) {\n      return;\n    }\n\n    var visualRefreshParent = findUpUntil(node, function (node) {\n      return node.classList.contains('awsui-visual-refresh');\n    });\n    setValue(!!visualRefreshParent);\n  });\n  return value;\n}\nexport function useReducedMotion(elementRef) {\n  var _a = useState(false),\n      value = _a[0],\n      setValue = _a[1];\n\n  useMutationObserver(elementRef, function (node) {\n    setValue(isMotionDisabled(node));\n  });\n  return value;\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/internal/hooks/use-visual-mode/index.js"],"names":["useState","ALWAYS_VISUAL_REFRESH","isMotionDisabled","findUpUntil","useMutationObserver","useCurrentMode","elementRef","_a","value","setValue","node","darkModeParent","classList","contains","useDensityMode","compactModeParent","useVisualRefresh","Boolean","_b","supportsCSSVariables","window","CSS","supports","call","visualRefreshParent","useReducedMotion"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { ALWAYS_VISUAL_REFRESH } from '../../environment';\nimport { isMotionDisabled } from '../../motion';\nimport { findUpUntil } from '../../utils/dom';\nimport { useMutationObserver } from '../use-mutation-observer';\nexport function useCurrentMode(elementRef) {\n    var _a = useState('light'), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        var darkModeParent = findUpUntil(node, function (node) { return node.classList.contains('awsui-dark-mode') || node.classList.contains('awsui-dark-mode'); });\n        setValue(darkModeParent ? 'dark' : 'light');\n    });\n    return value;\n}\nexport function useDensityMode(elementRef) {\n    var _a = useState('comfortable'), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        var compactModeParent = findUpUntil(node, function (node) { return node.classList.contains('awsui-compact-mode') || node.classList.contains('awsui-compact-mode'); });\n        setValue(compactModeParent ? 'compact' : 'comfortable');\n    });\n    return value;\n}\nexport function useVisualRefresh(elementRef) {\n    var _a = useState(Boolean(ALWAYS_VISUAL_REFRESH)), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        var _a, _b;\n        var supportsCSSVariables = (_b = (_a = window.CSS) === null || _a === void 0 ? void 0 : _a.supports) === null || _b === void 0 ? void 0 : _b.call(_a, 'color', 'var(--test-var)');\n        if (!supportsCSSVariables || ALWAYS_VISUAL_REFRESH) {\n            return;\n        }\n        var visualRefreshParent = findUpUntil(node, function (node) { return node.classList.contains('awsui-visual-refresh'); });\n        setValue(!!visualRefreshParent);\n    });\n    return value;\n}\nexport function useReducedMotion(elementRef) {\n    var _a = useState(false), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        setValue(isMotionDisabled(node));\n    });\n    return value;\n}\n"]},"metadata":{},"sourceType":"module"}