{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { indexIncludes } from './utils';\nimport createItemsTree from './create-items-tree';\nimport moveHighlightOneStep from './move-highlight';\nexport default function useHighlightedMenu(_a) {\n  var items = _a.items,\n      hasExpandableGroups = _a.hasExpandableGroups,\n      _b = _a.isInRestrictedView,\n      isInRestrictedView = _b === void 0 ? false : _b;\n\n  var _c = useState([]),\n      targetIndex = _c[0],\n      setTargetIndex = _c[1];\n\n  var _d = useState([]),\n      expandedIndex = _d[0],\n      setExpandedIndex = _d[1];\n\n  var _e = useMemo(function () {\n    return createItemsTree(items);\n  }, [items]),\n      getItem = _e.getItem,\n      getItemIndex = _e.getItemIndex,\n      getSequentialIndex = _e.getSequentialIndex,\n      getParentIndex = _e.getParentIndex;\n\n  var targetItem = useMemo(function () {\n    return getItem(targetIndex);\n  }, [targetIndex, getItem]);\n  var isHighlighted = useCallback(function (item) {\n    var index = getItemIndex(item);\n    return indexIncludes(index, targetIndex);\n  }, [targetIndex, getItemIndex]);\n  var isExpanded = useCallback(function (group) {\n    var index = getItemIndex(group);\n    return indexIncludes(index, expandedIndex);\n  }, [expandedIndex, getItemIndex]);\n  var moveHighlight = useCallback(function (direction) {\n    var getNext = function (index) {\n      var nextIndex = getSequentialIndex(index, direction);\n      var item = getItem(nextIndex || [-1]);\n\n      if (!nextIndex || !item) {\n        return null;\n      }\n\n      var parentIndex = getParentIndex(item);\n      var parentItem = parentIndex && getItem(parentIndex);\n      return {\n        index: nextIndex,\n        item: item,\n        parent: parentItem || undefined\n      };\n    };\n\n    var nextIndex = moveHighlightOneStep({\n      startIndex: targetIndex,\n      expandedIndex: expandedIndex,\n      getNext: getNext,\n      hasExpandableGroups: hasExpandableGroups,\n      isInRestrictedView: isInRestrictedView\n    });\n\n    if (nextIndex) {\n      setTargetIndex(nextIndex);\n    }\n  }, [targetIndex, expandedIndex, getItem, getSequentialIndex, getParentIndex, hasExpandableGroups, isInRestrictedView]);\n  var highlightItem = useCallback(function (item) {\n    setTargetIndex(getItemIndex(item));\n  }, [getItemIndex]);\n  var expandGroup = useCallback(function (group) {\n    var groupIndex = group ? getItemIndex(group) : targetIndex;\n\n    var firstChildIndex = __spreadArray(__spreadArray([], groupIndex, true), [0], false);\n\n    setTargetIndex(isInRestrictedView ? groupIndex : firstChildIndex);\n    setExpandedIndex(groupIndex);\n  }, [targetIndex, getItemIndex, isInRestrictedView]);\n  var collapseGroup = useCallback(function () {\n    if (expandedIndex.length > 0) {\n      setTargetIndex(expandedIndex);\n      setExpandedIndex(expandedIndex.slice(0, -1));\n    }\n  }, [expandedIndex]);\n  var reset = useCallback(function () {\n    setTargetIndex([]);\n    setExpandedIndex([]);\n  }, []);\n  return {\n    targetItem: targetItem,\n    isHighlighted: isHighlighted,\n    isExpanded: isExpanded,\n    moveHighlight: moveHighlight,\n    highlightItem: highlightItem,\n    expandGroup: expandGroup,\n    collapseGroup: collapseGroup,\n    reset: reset\n  };\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/amazonforvolunteers-ui/node_modules/@awsui/components-react/button-dropdown/utils/use-highlighted-menu.js"],"names":["__spreadArray","useState","useMemo","useCallback","indexIncludes","createItemsTree","moveHighlightOneStep","useHighlightedMenu","_a","items","hasExpandableGroups","_b","isInRestrictedView","_c","targetIndex","setTargetIndex","_d","expandedIndex","setExpandedIndex","_e","getItem","getItemIndex","getSequentialIndex","getParentIndex","targetItem","isHighlighted","item","index","isExpanded","group","moveHighlight","direction","getNext","nextIndex","parentIndex","parentItem","parent","undefined","startIndex","highlightItem","expandGroup","groupIndex","firstChildIndex","collapseGroup","length","slice","reset"],"mappings":"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","sourcesContent":["import { __spreadArray } from \"tslib\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { indexIncludes } from './utils';\nimport createItemsTree from './create-items-tree';\nimport moveHighlightOneStep from './move-highlight';\nexport default function useHighlightedMenu(_a) {\n    var items = _a.items, hasExpandableGroups = _a.hasExpandableGroups, _b = _a.isInRestrictedView, isInRestrictedView = _b === void 0 ? false : _b;\n    var _c = useState([]), targetIndex = _c[0], setTargetIndex = _c[1];\n    var _d = useState([]), expandedIndex = _d[0], setExpandedIndex = _d[1];\n    var _e = useMemo(function () { return createItemsTree(items); }, [items]), getItem = _e.getItem, getItemIndex = _e.getItemIndex, getSequentialIndex = _e.getSequentialIndex, getParentIndex = _e.getParentIndex;\n    var targetItem = useMemo(function () { return getItem(targetIndex); }, [targetIndex, getItem]);\n    var isHighlighted = useCallback(function (item) {\n        var index = getItemIndex(item);\n        return indexIncludes(index, targetIndex);\n    }, [targetIndex, getItemIndex]);\n    var isExpanded = useCallback(function (group) {\n        var index = getItemIndex(group);\n        return indexIncludes(index, expandedIndex);\n    }, [expandedIndex, getItemIndex]);\n    var moveHighlight = useCallback(function (direction) {\n        var getNext = function (index) {\n            var nextIndex = getSequentialIndex(index, direction);\n            var item = getItem(nextIndex || [-1]);\n            if (!nextIndex || !item) {\n                return null;\n            }\n            var parentIndex = getParentIndex(item);\n            var parentItem = parentIndex && getItem(parentIndex);\n            return { index: nextIndex, item: item, parent: parentItem || undefined };\n        };\n        var nextIndex = moveHighlightOneStep({\n            startIndex: targetIndex,\n            expandedIndex: expandedIndex,\n            getNext: getNext,\n            hasExpandableGroups: hasExpandableGroups,\n            isInRestrictedView: isInRestrictedView\n        });\n        if (nextIndex) {\n            setTargetIndex(nextIndex);\n        }\n    }, [targetIndex, expandedIndex, getItem, getSequentialIndex, getParentIndex, hasExpandableGroups, isInRestrictedView]);\n    var highlightItem = useCallback(function (item) {\n        setTargetIndex(getItemIndex(item));\n    }, [getItemIndex]);\n    var expandGroup = useCallback(function (group) {\n        var groupIndex = group ? getItemIndex(group) : targetIndex;\n        var firstChildIndex = __spreadArray(__spreadArray([], groupIndex, true), [0], false);\n        setTargetIndex(isInRestrictedView ? groupIndex : firstChildIndex);\n        setExpandedIndex(groupIndex);\n    }, [targetIndex, getItemIndex, isInRestrictedView]);\n    var collapseGroup = useCallback(function () {\n        if (expandedIndex.length > 0) {\n            setTargetIndex(expandedIndex);\n            setExpandedIndex(expandedIndex.slice(0, -1));\n        }\n    }, [expandedIndex]);\n    var reset = useCallback(function () {\n        setTargetIndex([]);\n        setExpandedIndex([]);\n    }, []);\n    return {\n        targetItem: targetItem,\n        isHighlighted: isHighlighted,\n        isExpanded: isExpanded,\n        moveHighlight: moveHighlight,\n        highlightItem: highlightItem,\n        expandGroup: expandGroup,\n        collapseGroup: collapseGroup,\n        reset: reset\n    };\n}\n"]},"metadata":{},"sourceType":"module"}