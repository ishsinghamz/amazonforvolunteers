{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { FormFieldDomContext, useFormFieldContext } from '../internal/context/form-field-context';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport InternalGrid from '../grid/internal';\nimport InternalIcon from '../icon/internal';\nimport { getAriaDescribedBy, getGridDefinition, getSlotIds, joinStrings } from './util';\nimport styles from './styles.css.js';\nimport mergeRefs from 'react-merge-refs';\nexport var FormFieldError = function (_a) {\n  var id = _a.id,\n      children = _a.children;\n  return React.createElement(\"div\", {\n    className: styles.error\n  }, React.createElement(\"div\", {\n    className: styles['error-icon-shake-wrapper']\n  }, React.createElement(\"div\", {\n    className: styles['error-icon-scale-wrapper']\n  }, React.createElement(InternalIcon, {\n    name: \"status-warning\",\n    size: \"small\"\n  }))), React.createElement(\"span\", {\n    id: id,\n    className: styles.error__message\n  }, children));\n};\nexport default function InternalFormField(_a) {\n  var controlId = _a.controlId,\n      _b = _a.stretch,\n      stretch = _b === void 0 ? false : _b,\n      label = _a.label,\n      info = _a.info,\n      children = _a.children,\n      secondaryControl = _a.secondaryControl,\n      description = _a.description,\n      constraintText = _a.constraintText,\n      errorText = _a.errorText,\n      __hideLabel = _a.__hideLabel,\n      _c = _a.__internalRootRef,\n      __internalRootRef = _c === void 0 ? null : _c,\n      rest = __rest(_a, [\"controlId\", \"stretch\", \"label\", \"info\", \"children\", \"secondaryControl\", \"description\", \"constraintText\", \"errorText\", \"__hideLabel\", \"__internalRootRef\"]);\n\n  var baseProps = getBaseProps(rest);\n  var ref = useRef(null);\n  var isRefresh = useVisualRefresh(ref);\n  var instanceUniqueId = useUniqueId('formField');\n  var generatedControlId = controlId || instanceUniqueId;\n  var formFieldId = controlId || generatedControlId;\n  var slotIds = getSlotIds(formFieldId, label, description, constraintText, errorText);\n  var ariaDescribedBy = getAriaDescribedBy(slotIds);\n  var gridDefinition = getGridDefinition(stretch, !!secondaryControl, isRefresh);\n\n  var _d = useFormFieldContext({}),\n      parentAriaLabelledby = _d.ariaLabelledby,\n      parentAriaDescribedby = _d.ariaDescribedby,\n      parentInvalid = _d.invalid;\n\n  var contextValuesWithoutControlId = {\n    ariaLabelledby: joinStrings(parentAriaLabelledby, slotIds.label) || undefined,\n    ariaDescribedby: joinStrings(parentAriaDescribedby, ariaDescribedBy) || undefined,\n    invalid: !!errorText || !!parentInvalid\n  };\n  return React.createElement(\"div\", __assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.root),\n    ref: mergeRefs([ref, __internalRootRef])\n  }), React.createElement(\"div\", {\n    className: clsx(__hideLabel && styles['visually-hidden'])\n  }, label && React.createElement(\"label\", {\n    className: styles.label,\n    id: slotIds.label,\n    htmlFor: generatedControlId\n  }, label), !__hideLabel && info && React.createElement(\"span\", {\n    className: styles.info\n  }, info)), description && React.createElement(\"div\", {\n    className: styles.description,\n    id: slotIds.description\n  }, description), React.createElement(\"div\", {\n    className: clsx(styles.controls, __hideLabel && styles['label-hidden'])\n  }, React.createElement(InternalGrid, {\n    gridDefinition: gridDefinition\n  }, React.createElement(FormFieldDomContext.RootProvider, {\n    value: __assign({\n      controlId: generatedControlId\n    }, contextValuesWithoutControlId)\n  }, children && React.createElement(\"div\", {\n    className: styles.control\n  }, children)), secondaryControl && React.createElement(FormFieldDomContext.RootProvider, {\n    value: contextValuesWithoutControlId\n  }, React.createElement(\"div\", {\n    className: styles['secondary-control']\n  }, secondaryControl)))), (constraintText || errorText) && React.createElement(\"div\", {\n    className: styles.hints\n  }, errorText && React.createElement(FormFieldError, {\n    id: slotIds.error\n  }, errorText), constraintText && React.createElement(\"div\", {\n    className: clsx(styles.constraint, errorText && styles['constraint-has-error']),\n    id: slotIds.constraint\n  }, constraintText)));\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/form-field/internal.js"],"names":["__assign","__rest","React","useRef","clsx","getBaseProps","FormFieldDomContext","useFormFieldContext","useUniqueId","useVisualRefresh","InternalGrid","InternalIcon","getAriaDescribedBy","getGridDefinition","getSlotIds","joinStrings","styles","mergeRefs","FormFieldError","_a","id","children","createElement","className","error","name","size","error__message","InternalFormField","controlId","_b","stretch","label","info","secondaryControl","description","constraintText","errorText","__hideLabel","_c","__internalRootRef","rest","baseProps","ref","isRefresh","instanceUniqueId","generatedControlId","formFieldId","slotIds","ariaDescribedBy","gridDefinition","_d","parentAriaLabelledby","ariaLabelledby","parentAriaDescribedby","ariaDescribedby","parentInvalid","invalid","contextValuesWithoutControlId","undefined","root","htmlFor","controls","RootProvider","value","control","hints","constraint"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport React, { useRef } from 'react';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component';\nimport { FormFieldDomContext, useFormFieldContext } from '../internal/context/form-field-context';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport InternalGrid from '../grid/internal';\nimport InternalIcon from '../icon/internal';\nimport { getAriaDescribedBy, getGridDefinition, getSlotIds, joinStrings } from './util';\nimport styles from './styles.css.js';\nimport mergeRefs from 'react-merge-refs';\nexport var FormFieldError = function (_a) {\n    var id = _a.id, children = _a.children;\n    return (React.createElement(\"div\", { className: styles.error },\n        React.createElement(\"div\", { className: styles['error-icon-shake-wrapper'] },\n            React.createElement(\"div\", { className: styles['error-icon-scale-wrapper'] },\n                React.createElement(InternalIcon, { name: \"status-warning\", size: \"small\" }))),\n        React.createElement(\"span\", { id: id, className: styles.error__message }, children)));\n};\nexport default function InternalFormField(_a) {\n    var controlId = _a.controlId, _b = _a.stretch, stretch = _b === void 0 ? false : _b, label = _a.label, info = _a.info, children = _a.children, secondaryControl = _a.secondaryControl, description = _a.description, constraintText = _a.constraintText, errorText = _a.errorText, __hideLabel = _a.__hideLabel, _c = _a.__internalRootRef, __internalRootRef = _c === void 0 ? null : _c, rest = __rest(_a, [\"controlId\", \"stretch\", \"label\", \"info\", \"children\", \"secondaryControl\", \"description\", \"constraintText\", \"errorText\", \"__hideLabel\", \"__internalRootRef\"]);\n    var baseProps = getBaseProps(rest);\n    var ref = useRef(null);\n    var isRefresh = useVisualRefresh(ref);\n    var instanceUniqueId = useUniqueId('formField');\n    var generatedControlId = controlId || instanceUniqueId;\n    var formFieldId = controlId || generatedControlId;\n    var slotIds = getSlotIds(formFieldId, label, description, constraintText, errorText);\n    var ariaDescribedBy = getAriaDescribedBy(slotIds);\n    var gridDefinition = getGridDefinition(stretch, !!secondaryControl, isRefresh);\n    var _d = useFormFieldContext({}), parentAriaLabelledby = _d.ariaLabelledby, parentAriaDescribedby = _d.ariaDescribedby, parentInvalid = _d.invalid;\n    var contextValuesWithoutControlId = {\n        ariaLabelledby: joinStrings(parentAriaLabelledby, slotIds.label) || undefined,\n        ariaDescribedby: joinStrings(parentAriaDescribedby, ariaDescribedBy) || undefined,\n        invalid: !!errorText || !!parentInvalid\n    };\n    return (React.createElement(\"div\", __assign({}, baseProps, { className: clsx(baseProps.className, styles.root), ref: mergeRefs([ref, __internalRootRef]) }),\n        React.createElement(\"div\", { className: clsx(__hideLabel && styles['visually-hidden']) },\n            label && (React.createElement(\"label\", { className: styles.label, id: slotIds.label, htmlFor: generatedControlId }, label)),\n            !__hideLabel && info && React.createElement(\"span\", { className: styles.info }, info)),\n        description && (React.createElement(\"div\", { className: styles.description, id: slotIds.description }, description)),\n        React.createElement(\"div\", { className: clsx(styles.controls, __hideLabel && styles['label-hidden']) },\n            React.createElement(InternalGrid, { gridDefinition: gridDefinition },\n                React.createElement(FormFieldDomContext.RootProvider, { value: __assign({ controlId: generatedControlId }, contextValuesWithoutControlId) }, children && React.createElement(\"div\", { className: styles.control }, children)),\n                secondaryControl && (React.createElement(FormFieldDomContext.RootProvider, { value: contextValuesWithoutControlId },\n                    React.createElement(\"div\", { className: styles['secondary-control'] }, secondaryControl))))),\n        (constraintText || errorText) && (React.createElement(\"div\", { className: styles.hints },\n            errorText && React.createElement(FormFieldError, { id: slotIds.error }, errorText),\n            constraintText && (React.createElement(\"div\", { className: clsx(styles.constraint, errorText && styles['constraint-has-error']), id: slotIds.constraint }, constraintText))))));\n}\n"]},"metadata":{},"sourceType":"module"}