{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport React, { useCallback, useEffect, useRef, useState, useImperativeHandle } from 'react';\nimport clsx from 'clsx';\nimport { KeyCode } from '../internal/keycode';\nimport { getBaseProps } from '../internal/base-component';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport Arrow from './arrow';\nimport Portal from '../internal/components/portal';\nimport PopoverContainer from './container';\nimport PopoverBody from './body';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../internal/events/index';\nimport mergeRefs from 'react-merge-refs';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nexport default React.forwardRef(InternalPopover);\n\nfunction InternalPopover(_a, ref) {\n  var _b = _a.position,\n      position = _b === void 0 ? 'right' : _b,\n      _c = _a.size,\n      size = _c === void 0 ? 'medium' : _c,\n      _d = _a.fixedWidth,\n      fixedWidth = _d === void 0 ? false : _d,\n      _e = _a.triggerType,\n      triggerType = _e === void 0 ? 'text' : _e,\n      _f = _a.dismissButton,\n      dismissButton = _f === void 0 ? true : _f,\n      dismissAriaLabel = _a.dismissAriaLabel,\n      children = _a.children,\n      header = _a.header,\n      content = _a.content,\n      _g = _a.renderWithPortal,\n      renderWithPortal = _g === void 0 ? false : _g,\n      __onOpen = _a.__onOpen,\n      _h = _a.__internalRootRef,\n      __internalRootRef = _h === void 0 ? null : _h,\n      restProps = __rest(_a, [\"position\", \"size\", \"fixedWidth\", \"triggerType\", \"dismissButton\", \"dismissAriaLabel\", \"children\", \"header\", \"content\", \"renderWithPortal\", \"__onOpen\", \"__internalRootRef\"]);\n\n  var baseProps = getBaseProps(restProps);\n  var focusVisible = useFocusVisible();\n  var triggerRef = useRef(null);\n  var popoverRef = useRef(null);\n  var clickFrameId = useRef(null);\n\n  var _j = useState(false),\n      visible = _j[0],\n      setVisible = _j[1];\n\n  var onTriggerClick = useCallback(function () {\n    fireNonCancelableEvent(__onOpen);\n    setVisible(true);\n  }, [__onOpen]);\n  var onDismiss = useCallback(function () {\n    setVisible(false);\n  }, []);\n  var onTriggerKeyDown = useCallback(function (event) {\n    if (event.keyCode === KeyCode.tab || event.keyCode === KeyCode.escape) {\n      setVisible(false);\n    }\n  }, []);\n  useImperativeHandle(ref, function () {\n    return {\n      dismissPopover: onDismiss\n    };\n  });\n  useEffect(function () {\n    if (!triggerRef.current) {\n      return;\n    }\n\n    var document = triggerRef.current.ownerDocument;\n\n    var onDocumentClick = function () {\n      if (clickFrameId.current === null) {\n        setVisible(false);\n      }\n    };\n\n    document.addEventListener('mousedown', onDocumentClick, false);\n    return function () {\n      document.removeEventListener('mousedown', onDocumentClick, false);\n    };\n  }, []);\n  var popoverClasses = usePortalModeClasses(triggerRef);\n  var triggerProps = {\n    ref: triggerRef,\n    onClick: onTriggerClick,\n    onKeyDown: onTriggerKeyDown,\n    className: clsx(styles.trigger, styles[\"trigger-type-\" + triggerType])\n  };\n  var popoverContent = React.createElement(\"span\", {\n    \"aria-live\": dismissButton ? undefined : 'polite',\n    \"aria-atomic\": dismissButton ? undefined : true,\n    className: popoverClasses\n  }, visible && React.createElement(PopoverContainer, {\n    position: position,\n    trackRef: triggerRef,\n    arrow: function (position) {\n      return React.createElement(Arrow, {\n        position: position\n      });\n    },\n    renderWithPortal: renderWithPortal,\n    zIndex: renderWithPortal ? 7000 : undefined\n  }, React.createElement(PopoverBody, {\n    size: size,\n    fixedWidth: fixedWidth,\n    dismissButton: dismissButton,\n    dismissAriaLabel: dismissAriaLabel,\n    header: header,\n    onDismiss: onDismiss,\n    overflowVisible: \"both\"\n  }, content)));\n  return React.createElement(\"span\", __assign({}, baseProps, {\n    className: clsx(styles.root, baseProps.className),\n    ref: mergeRefs([popoverRef, __internalRootRef]),\n    onMouseDown: function () {\n      clickFrameId.current = requestAnimationFrame(function () {\n        clickFrameId.current = null;\n      });\n    }\n  }), triggerType === 'text' ? React.createElement(\"button\", __assign({}, triggerProps, {\n    type: \"button\",\n    \"aria-haspopup\": \"dialog\"\n  }, focusVisible), React.createElement(\"span\", {\n    className: styles['trigger-inner-text']\n  }, children)) : React.createElement(\"span\", __assign({}, triggerProps), children), renderWithPortal ? React.createElement(Portal, null, popoverContent) : popoverContent);\n}","map":{"version":3,"sources":["/Users/isingheg/Desktop/projects/test-react-amplify/node_modules/@awsui/components-react/popover/internal.js"],"names":["__assign","__rest","React","useCallback","useEffect","useRef","useState","useImperativeHandle","clsx","KeyCode","getBaseProps","useFocusVisible","Arrow","Portal","PopoverContainer","PopoverBody","styles","fireNonCancelableEvent","mergeRefs","usePortalModeClasses","forwardRef","InternalPopover","_a","ref","_b","position","_c","size","_d","fixedWidth","_e","triggerType","_f","dismissButton","dismissAriaLabel","children","header","content","_g","renderWithPortal","__onOpen","_h","__internalRootRef","restProps","baseProps","focusVisible","triggerRef","popoverRef","clickFrameId","_j","visible","setVisible","onTriggerClick","onDismiss","onTriggerKeyDown","event","keyCode","tab","escape","dismissPopover","current","document","ownerDocument","onDocumentClick","addEventListener","removeEventListener","popoverClasses","triggerProps","onClick","onKeyDown","className","trigger","popoverContent","createElement","undefined","trackRef","arrow","zIndex","overflowVisible","root","onMouseDown","requestAnimationFrame","type"],"mappings":"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","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport React, { useCallback, useEffect, useRef, useState, useImperativeHandle } from 'react';\nimport clsx from 'clsx';\nimport { KeyCode } from '../internal/keycode';\nimport { getBaseProps } from '../internal/base-component';\nimport useFocusVisible from '../internal/hooks/focus-visible';\nimport Arrow from './arrow';\nimport Portal from '../internal/components/portal';\nimport PopoverContainer from './container';\nimport PopoverBody from './body';\nimport styles from './styles.css.js';\nimport { fireNonCancelableEvent } from '../internal/events/index';\nimport mergeRefs from 'react-merge-refs';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nexport default React.forwardRef(InternalPopover);\nfunction InternalPopover(_a, ref) {\n    var _b = _a.position, position = _b === void 0 ? 'right' : _b, _c = _a.size, size = _c === void 0 ? 'medium' : _c, _d = _a.fixedWidth, fixedWidth = _d === void 0 ? false : _d, _e = _a.triggerType, triggerType = _e === void 0 ? 'text' : _e, _f = _a.dismissButton, dismissButton = _f === void 0 ? true : _f, dismissAriaLabel = _a.dismissAriaLabel, children = _a.children, header = _a.header, content = _a.content, _g = _a.renderWithPortal, renderWithPortal = _g === void 0 ? false : _g, __onOpen = _a.__onOpen, _h = _a.__internalRootRef, __internalRootRef = _h === void 0 ? null : _h, restProps = __rest(_a, [\"position\", \"size\", \"fixedWidth\", \"triggerType\", \"dismissButton\", \"dismissAriaLabel\", \"children\", \"header\", \"content\", \"renderWithPortal\", \"__onOpen\", \"__internalRootRef\"]);\n    var baseProps = getBaseProps(restProps);\n    var focusVisible = useFocusVisible();\n    var triggerRef = useRef(null);\n    var popoverRef = useRef(null);\n    var clickFrameId = useRef(null);\n    var _j = useState(false), visible = _j[0], setVisible = _j[1];\n    var onTriggerClick = useCallback(function () {\n        fireNonCancelableEvent(__onOpen);\n        setVisible(true);\n    }, [__onOpen]);\n    var onDismiss = useCallback(function () {\n        setVisible(false);\n    }, []);\n    var onTriggerKeyDown = useCallback(function (event) {\n        if (event.keyCode === KeyCode.tab || event.keyCode === KeyCode.escape) {\n            setVisible(false);\n        }\n    }, []);\n    useImperativeHandle(ref, function () { return ({\n        dismissPopover: onDismiss\n    }); });\n    useEffect(function () {\n        if (!triggerRef.current) {\n            return;\n        }\n        var document = triggerRef.current.ownerDocument;\n        var onDocumentClick = function () {\n            if (clickFrameId.current === null) {\n                setVisible(false);\n            }\n        };\n        document.addEventListener('mousedown', onDocumentClick, false);\n        return function () {\n            document.removeEventListener('mousedown', onDocumentClick, false);\n        };\n    }, []);\n    var popoverClasses = usePortalModeClasses(triggerRef);\n    var triggerProps = {\n        ref: triggerRef,\n        onClick: onTriggerClick,\n        onKeyDown: onTriggerKeyDown,\n        className: clsx(styles.trigger, styles[\"trigger-type-\" + triggerType])\n    };\n    var popoverContent = (React.createElement(\"span\", { \"aria-live\": dismissButton ? undefined : 'polite', \"aria-atomic\": dismissButton ? undefined : true, className: popoverClasses }, visible && (React.createElement(PopoverContainer, { position: position, trackRef: triggerRef, arrow: function (position) { return React.createElement(Arrow, { position: position }); }, renderWithPortal: renderWithPortal, zIndex: renderWithPortal ? 7000 : undefined },\n        React.createElement(PopoverBody, { size: size, fixedWidth: fixedWidth, dismissButton: dismissButton, dismissAriaLabel: dismissAriaLabel, header: header, onDismiss: onDismiss, overflowVisible: \"both\" }, content)))));\n    return (React.createElement(\"span\", __assign({}, baseProps, { className: clsx(styles.root, baseProps.className), ref: mergeRefs([popoverRef, __internalRootRef]), onMouseDown: function () {\n            clickFrameId.current = requestAnimationFrame(function () {\n                clickFrameId.current = null;\n            });\n        } }),\n        triggerType === 'text' ? (React.createElement(\"button\", __assign({}, triggerProps, { type: \"button\", \"aria-haspopup\": \"dialog\" }, focusVisible),\n            React.createElement(\"span\", { className: styles['trigger-inner-text'] }, children))) : (React.createElement(\"span\", __assign({}, triggerProps), children)),\n        renderWithPortal ? React.createElement(Portal, null, popoverContent) : popoverContent));\n}\n"]},"metadata":{},"sourceType":"module"}